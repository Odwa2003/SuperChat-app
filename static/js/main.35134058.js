/*! For license information please see main.35134058.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var r=n(853),i=n(43),s=n(950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function u(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function h(e){if(l(e)!==e)throw Error(o(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),k=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var A=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var N=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function x(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case w:return"Profiler";case v:return"StrictMode";case S:return"Suspense";case I:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case k:return e.displayName||"Context";case b:return(e._context.displayName||"Context")+".Consumer";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:x(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return x(e(t))}catch(n){}}return null}var R=Array.isArray,O=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},F=[],U=-1;function V(e){return{current:e}}function j(e){0>U||(e.current=F[U],F[U]=null,U--)}function z(e,t){U++,F[U]=e.current,e.current=t}var q,B,K=V(null),H=V(null),W=V(null),G=V(null);function Q(e,t){switch(z(W,t),z(H,e),z(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=vh(t=yh(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}j(K),z(K,e)}function Y(){j(K),j(H),j(W)}function $(e){null!==e.memoizedState&&z(G,e);var t=K.current,n=vh(t,e.type);t!==n&&(z(H,e),z(K,n))}function J(e){H.current===e&&(j(K),j(H)),G.current===e&&(j(G),cd._currentValue=M)}function X(e){if(void 0===q)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);q=t&&t[1]||"",B=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+q+e+B}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),o=s[0],a=s[1];if(o&&a){var l=o.split("\n"),u=a.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==u[i]){var c="\n"+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=i);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?X(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&null!==t?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return X("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,se=r.unstable_cancelCallback,oe=r.unstable_shouldYield,ae=r.unstable_requestPaint,le=r.unstable_now,ue=r.unstable_getCurrentPriorityLevel,ce=r.unstable_ImmediatePriority,he=r.unstable_UserBlockingPriority,de=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ye=null,ve=null;function we(e){if("function"===typeof me&&ge(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(ye,e)}catch(t){}}var be=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ke(e)/_e|0)|0},ke=Math.log,_e=Math.LN2;var Se=256,Ie=262144,Te=4194304;function Ee(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,s=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~s)?i=Ee(r):0!==(o&=a)?i=Ee(o):n||0!==(n=a&~e)&&(i=Ee(n)):0!==(a=r&~s)?i=Ee(a):0!==o?i=Ee(o):n||0!==(n=r&~e)&&(i=Ee(n)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:i}function Ae(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ne(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function De(){var e=Te;return 0===(62914560&(Te<<=1))&&(Te=4194304),e}function Pe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Re(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-be(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Oe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-be(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Le(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Me(n))&(e.suspendedLanes|t))?0:n}function Me(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ue(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:Ed(e.type)}function Ve(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var je=Math.random().toString(36).slice(2),ze="__reactFiber$"+je,qe="__reactProps$"+je,Be="__reactContainer$"+je,Ke="__reactEvents$"+je,He="__reactListeners$"+je,We="__reactHandles$"+je,Ge="__reactResources$"+je,Qe="__reactMarker$"+je;function Ye(e){delete e[ze],delete e[qe],delete e[Ke],delete e[He],delete e[We]}function $e(e){var t=e[ze];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Be]||n[ze]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Mh(e);null!==e;){if(n=e[ze])return n;e=Mh(e)}return t}n=(e=n).parentNode}return null}function Je(e){if(e=e[ze]||e[Be]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function Ze(e){var t=e[Ge];return t||(t=e[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Qe]=!0}var tt=new Set,nt={};function rt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ot={},at={};function lt(e,t,n){if(i=t,re.call(at,i)||!re.call(ot,i)&&(st.test(i)?at[i]=!0:(ot[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ut(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ct(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=dt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function yt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,r,i,s,o,a){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ht(t)):e.value!==""+ht(t)&&(e.value=""+ht(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?bt(e,o,ht(t)):null!=n?bt(e,o,ht(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ht(a):e.removeAttribute("name")}function wt(e,t,n,r,i,s,o,a){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+ht(n):"",t=null!=t?""+ht(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o),ft(e)}function bt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function kt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ht(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function _t(e,t,n){null==t||((t=""+ht(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ht(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function St(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(R(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ht(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function It(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Tt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Tt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Et(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&Et(e,s,t[s])}function At(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Dt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function xt(){}var Rt=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Lt=null,Mt=null;function Ft(e){var t=Je(e);if(t&&(e=t.stateNode)){var n=e[qe]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[qe]||null;if(!i)throw Error(o(90));vt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":_t(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&kt(e,!!n.multiple,t,!1)}}}var Ut=!1;function Vt(e,t,n){if(Ut)return e(t,n);Ut=!0;try{return e(t)}finally{if(Ut=!1,(null!==Lt||null!==Mt)&&(Zu(),Lt&&(t=Lt,e=Mt,Mt=Lt=null,Ft(t),e)))for(t=0;t<e.length;t++)Ft(e[t])}}function jt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[qe]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var zt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),qt=!1;if(zt)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){qt=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(Jd){qt=!1}var Kt=null,Ht=null,Wt=null;function Gt(){if(Wt)return Wt;var e,t,n=Ht,r=n.length,i="value"in Kt?Kt.value:Kt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Wt=i.slice(e,1<t?1-t:void 0)}function Qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function $t(){return!1}function Jt(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Yt:$t,this.isPropagationStopped=$t,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var Xt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Jt(tn),rn=f({},tn,{view:0,detail:0}),sn=Jt(rn),on=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Xt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Xt=0,en=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),an=Jt(on),ln=Jt(f({},on,{dataTransfer:0})),un=Jt(f({},rn,{relatedTarget:0})),cn=Jt(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),hn=Jt(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=Jt(f({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function yn(){return gn}var vn=Jt(f({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(e){return"keypress"===e.type?Qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),wn=Jt(f({},on,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),bn=Jt(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),kn=Jt(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),_n=Jt(f({},on,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Sn=Jt(f({},tn,{newState:0,oldState:0})),In=[9,13,27,32],Tn=zt&&"CompositionEvent"in window,En=null;zt&&"documentMode"in document&&(En=document.documentMode);var Cn=zt&&"TextEvent"in window&&!En,An=zt&&(!Tn||En&&8<En&&11>=En),Nn=String.fromCharCode(32),Dn=!1;function Pn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!On[e.type]:"textarea"===t}function Mn(e,t,n,r){Lt?Mt?Mt.push(r):Mt=[r]:Lt=r,0<(t=rh(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fn=null,Un=null;function Vn(e){Yc(e,0)}function jn(e){if(pt(Xe(e)))return e}function zn(e,t){if("change"===e)return t}var qn=!1;if(zt){var Bn;if(zt){var Kn="oninput"in document;if(!Kn){var Hn=document.createElement("div");Hn.setAttribute("oninput","return;"),Kn="function"===typeof Hn.oninput}Bn=Kn}else Bn=!1;qn=Bn&&(!document.documentMode||9<document.documentMode)}function Wn(){Fn&&(Fn.detachEvent("onpropertychange",Gn),Un=Fn=null)}function Gn(e){if("value"===e.propertyName&&jn(Un)){var t=[];Mn(t,Un,e,Ot(e)),Vt(Vn,t)}}function Qn(e,t,n){"focusin"===e?(Wn(),Un=n,(Fn=t).attachEvent("onpropertychange",Gn)):"focusout"===e&&Wn()}function Yn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return jn(Un)}function $n(e,t){if("click"===e)return jn(t)}function Jn(e,t){if("input"===e||"change"===e)return jn(t)}var Xn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Xn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Xn(e[i],t[i]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var sr=zt&&"documentMode"in document&&11>=document.documentMode,or=null,ar=null,lr=null,ur=!1;function cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ur||null==or||or!==mt(r)||("selectionStart"in(r=or)&&ir(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Zn(lr,r)||(lr=r,0<(r=rh(ar,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=or)))}function hr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},fr={},pr={};function mr(e){if(fr[e])return fr[e];if(!dr[e])return e;var t,n=dr[e];for(t in n)if(n.hasOwnProperty(t)&&t in pr)return fr[e]=n[t];return e}zt&&(pr=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);var gr=mr("animationend"),yr=mr("animationiteration"),vr=mr("animationstart"),wr=mr("transitionrun"),br=mr("transitionstart"),kr=mr("transitioncancel"),_r=mr("transitionend"),Sr=new Map,Ir="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){Sr.set(e,t),rt(t,[e])}Ir.push("scrollEnd");var Er="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Cr=[],Ar=0,Nr=0;function Dr(){for(var e=Ar,t=Nr=Ar=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var i=Cr[t];Cr[t++]=null;var s=Cr[t];if(Cr[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==s&&Or(n,i,s)}}function Pr(e,t,n,r){Cr[Ar++]=e,Cr[Ar++]=t,Cr[Ar++]=n,Cr[Ar++]=r,Nr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function xr(e,t,n,r){return Pr(e,t,n,r),Lr(e)}function Rr(e,t){return Pr(e,null,null,t),Lr(e)}function Or(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-be(n),null===(r=(e=s.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),s):null}function Lr(e){if(50<Ku)throw Ku=0,Hu=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mr={};function Fr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(e,t,n,r){return new Fr(e,t,n,r)}function Vr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jr(e,t){var n=e.alternate;return null===n?((n=Ur(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qr(e,t,n,r,i,s){var a=0;if(r=e,"function"===typeof e)Vr(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,K.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Ur(31,n,t,i)).elementType=C,e.lanes=s,e;case y:return Br(n.children,i,s,t);case v:a=8,i|=24;break;case w:return(e=Ur(12,n,t,2|i)).elementType=w,e.lanes=s,e;case S:return(e=Ur(13,n,t,i)).elementType=S,e.lanes=s,e;case I:return(e=Ur(19,n,t,i)).elementType=I,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case b:a=9;break e;case _:a=11;break e;case T:a=14;break e;case E:a=16,r=null;break e}a=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=Ur(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Br(e,t,n,r){return(e=Ur(7,e,r,t)).lanes=n,e}function Kr(e,t,n){return(e=Ur(6,e,null,t)).lanes=n,e}function Hr(e){var t=Ur(18,null,null,0);return t.stateNode=e,t}function Wr(e,t,n){return(t=Ur(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gr=new WeakMap;function Qr(e,t){if("object"===typeof e&&null!==e){var n=Gr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Gr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Yr=[],$r=0,Jr=null,Xr=0,Zr=[],ei=0,ti=null,ni=1,ri="";function ii(e,t){Yr[$r++]=Xr,Yr[$r++]=Jr,Jr=e,Xr=t}function si(e,t,n){Zr[ei++]=ni,Zr[ei++]=ri,Zr[ei++]=ti,ti=e;var r=ni;e=ri;var i=32-be(r)-1;r&=~(1<<i),n+=1;var s=32-be(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ni=1<<32-be(t)+i|n<<i|r,ri=s+e}else ni=1<<s|n<<i|r,ri=e}function oi(e){null!==e.return&&(ii(e,1),si(e,1,0))}function ai(e){for(;e===Jr;)Jr=Yr[--$r],Yr[$r]=null,Xr=Yr[--$r],Yr[$r]=null;for(;e===ti;)ti=Zr[--ei],Zr[ei]=null,ri=Zr[--ei],Zr[ei]=null,ni=Zr[--ei],Zr[ei]=null}function li(e,t){Zr[ei++]=ni,Zr[ei++]=ri,Zr[ei++]=ti,ni=t.id,ri=t.overflow,ti=e}var ui=null,ci=null,hi=!1,di=null,fi=!1,pi=Error(o(519));function mi(e){throw ki(Qr(Error(o(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),pi}function gi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[ze]=e,t[qe]=r,n){case"dialog":$c("cancel",t),$c("close",t);break;case"iframe":case"object":case"embed":$c("load",t);break;case"video":case"audio":for(n=0;n<Gc.length;n++)$c(Gc[n],t);break;case"source":$c("error",t);break;case"img":case"image":case"link":$c("error",t),$c("load",t);break;case"details":$c("toggle",t);break;case"input":$c("invalid",t),wt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":$c("invalid",t);break;case"textarea":$c("invalid",t),St(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||uh(t.textContent,n)?(null!=r.popover&&($c("beforetoggle",t),$c("toggle",t)),null!=r.onScroll&&$c("scroll",t),null!=r.onScrollEnd&&$c("scrollend",t),null!=r.onClick&&(t.onclick=xt),t=!0):t=!1,t||mi(e,!0)}function yi(e){for(ui=e.return;ui;)switch(ui.tag){case 5:case 31:case 13:return void(fi=!1);case 27:case 3:return void(fi=!0);default:ui=ui.return}}function vi(e){if(e!==ui)return!1;if(!hi)return yi(e),hi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||wh(e.type,e.memoizedProps)),t=!t),t&&ci&&mi(e),yi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ci=Lh(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ci=Lh(e)}else 27===n?(n=ci,Eh(e.type)?(e=Oh,Oh=null,ci=e):ci=n):ci=ui?Rh(e.stateNode.nextSibling):null;return!0}function wi(){ci=ui=null,hi=!1}function bi(){var e=di;return null!==e&&(null===Du?Du=e:Du.push.apply(Du,e),di=null),e}function ki(e){null===di?di=[e]:di.push(e)}var _i=V(null),Si=null,Ii=null;function Ti(e,t,n){z(_i,t._currentValue),t._currentValue=n}function Ei(e){e._currentValue=_i.current,j(_i)}function Ci(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ai(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var a=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var u=0;u<t.length;u++)if(l.context===t[u]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ci(s.return,n,e),r||(a=null);break e}s=l.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(o(341));a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),Ci(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function Ni(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(o(387));if(null!==(a=a.memoizedProps)){var l=i.type;Xn(i.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(i===G.current){if(null===(a=i.alternate))throw Error(o(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(cd):e=[cd])}i=i.return}null!==e&&Ai(t,e,n,r),t.flags|=262144}function Di(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pi(e){Si=e,Ii=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function xi(e){return Oi(Si,e)}function Ri(e,t){return null===Si&&Pi(e),Oi(e,t)}function Oi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ii){if(null===e)throw Error(o(308));Ii=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ii=Ii.next=t;return n}var Li="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Mi=r.unstable_scheduleCallback,Fi=r.unstable_NormalPriority,Ui={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vi(){return{controller:new Li,data:new Map,refCount:0}}function ji(e){e.refCount--,0===e.refCount&&Mi(Fi,function(){e.controller.abort()})}var zi=null,qi=0,Bi=0,Ki=null;function Hi(){if(0===--qi&&null!==zi){null!==Ki&&(Ki.status="fulfilled");var e=zi;zi=null,Bi=0,Ki=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Wi=O.S;O.S=function(e,t){Ru=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===zi){var n=zi=[];qi=0,Bi=qc(),Ki={status:"pending",value:void 0,then:function(e){n.push(e)}}}qi++,t.then(Hi,Hi)}(0,t),null!==Wi&&Wi(e,t)};var Gi=V(null);function Qi(){var e=Gi.current;return null!==e?e:pu.pooledCache}function Yi(e,t){z(Gi,null===t?Gi.current:t.pool)}function $i(){var e=Qi();return null===e?null:{parent:Ui._currentValue,pool:e}}var Ji=Error(o(460)),Xi=Error(o(474)),Zi=Error(o(542)),es={then:function(){}};function ts(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ns(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(xt,xt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw os(e=t.reason),e;default:if("string"===typeof t.status)t.then(xt,xt);else{if(null!==(e=pu)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw os(e=t.reason),e}throw is=t,Ji}}function rs(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw is=t,Ji;throw t}}var is=null;function ss(){if(null===is)throw Error(o(459));var e=is;return is=null,e}function os(e){if(e===Ji||e===Zi)throw Error(o(483))}var as=null,ls=0;function us(e){var t=ls;return ls+=1,null===as&&(as=[]),ns(as,e,t)}function cs(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function hs(e,t){if(t.$$typeof===p)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ds(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=jr(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Kr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===y?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===E&&rs(s)===t.type)?(cs(t=i(t,n.props),n),t.return=e,t):(cs(t=qr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Br(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Kr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return cs(n=qr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Wr(t,e.mode,n)).return=e,t;case E:return d(e,t=rs(t),n)}if(R(t)||D(t))return(t=Br(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return d(e,us(t),n);if(t.$$typeof===k)return d(e,Ri(e,t),n);hs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===i?u(e,t,n,r):null;case g:return n.key===i?c(e,t,n,r):null;case E:return f(e,t,n=rs(n),r)}if(R(n)||D(n))return null!==i?null:h(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,us(n),r);if(n.$$typeof===k)return f(e,t,Ri(e,n),r);hs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case g:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return p(e,t,n,r=rs(r),i)}if(R(r)||D(r))return h(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return p(e,t,n,us(r),i);if(r.$$typeof===k)return p(e,t,n,Ri(t,r),i);hs(t,r)}return null}function v(l,u,c,h){if("object"===typeof c&&null!==c&&c.type===y&&null===c.key&&(c=c.props.children),"object"===typeof c&&null!==c){switch(c.$$typeof){case m:e:{for(var w=c.key;null!==u;){if(u.key===w){if((w=c.type)===y){if(7===u.tag){n(l,u.sibling),(h=i(u,c.props.children)).return=l,l=h;break e}}else if(u.elementType===w||"object"===typeof w&&null!==w&&w.$$typeof===E&&rs(w)===u.type){n(l,u.sibling),cs(h=i(u,c.props),c),h.return=l,l=h;break e}n(l,u);break}t(l,u),u=u.sibling}c.type===y?((h=Br(c.props.children,l.mode,h,c.key)).return=l,l=h):(cs(h=qr(c.type,c.key,c.props,null,l.mode,h),c),h.return=l,l=h)}return a(l);case g:e:{for(w=c.key;null!==u;){if(u.key===w){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(h=i(u,c.children||[])).return=l,l=h;break e}n(l,u);break}t(l,u),u=u.sibling}(h=Wr(c,l.mode,h)).return=l,l=h}return a(l);case E:return v(l,u,c=rs(c),h)}if(R(c))return function(i,o,a,l){for(var u=null,c=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),o=s(y,o,m),null===c?u=y:c.sibling=y,c=y,h=g}if(m===a.length)return n(i,h),hi&&ii(i,m),u;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(o=s(h,o,m),null===c?u=h:c.sibling=h,c=h);return hi&&ii(i,m),u}for(h=r(h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach(function(e){return t(i,e)}),hi&&ii(i,m),u}(l,u,c,h);if(D(c)){if("function"!==typeof(w=D(c)))throw Error(o(150));return function(i,a,l,u){if(null==l)throw Error(o(151));for(var c=null,h=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=f(i,m,v.value,u);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(i,m),a=s(w,a,g),null===h?c=w:h.sibling=w,h=w,m=y}if(v.done)return n(i,m),hi&&ii(i,g),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,u))&&(a=s(v,a,g),null===h?c=v:h.sibling=v,h=v);return hi&&ii(i,g),c}for(m=r(m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=s(v,a,g),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach(function(e){return t(i,e)}),hi&&ii(i,g),c}(l,u,c=w.call(c),h)}if("function"===typeof c.then)return v(l,u,us(c),h);if(c.$$typeof===k)return v(l,u,Ri(l,c),h);hs(l,c)}return"string"===typeof c&&""!==c||"number"===typeof c||"bigint"===typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(h=i(u,c)).return=l,l=h):(n(l,u),(h=Kr(c,l.mode,h)).return=l,l=h),a(l)):n(l,u)}return function(e,t,n,r){try{ls=0;var i=v(e,t,n,r);return as=null,i}catch(o){if(o===Ji||o===Zi)throw o;var s=Ur(29,o,null,e.mode);return s.lanes=r,s.return=e,s}}}var fs=ds(!0),ps=ds(!1),ms=!1;function gs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ys(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ws(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&fu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Lr(e),Or(e,null,n),t}return Pr(e,r,t,n),Lr(e)}function bs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}function ks(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var _s=!1;function Ss(){if(_s){if(null!==Ki)throw Ki}}function Is(e,t,n,r){_s=!1;var i=e.updateQueue;ms=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,c=u=l=null,a=s;;){var d=-536870913&a.lane,p=d!==a.lane;if(p?(gu&d)===d:(r&d)===d){0!==d&&d===Bi&&(_s=!0),null!==c&&(c=c.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,g=a;d=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){h=m.call(y,h,d);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(d="function"===typeof(m=g.payload)?m.call(y,h,d):m)||void 0===d)break e;h=f({},h,d);break e;case 2:ms=!0}}null!==(d=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[d]:p.push(d))}else p={lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=p,l=h):c=c.next=p,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(p=a).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null===s&&(i.shared.lanes=0),Iu|=o,e.lanes=o,e.memoizedState=h}}function Ts(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function Es(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ts(n[e],t)}var Cs=V(null),As=V(0);function Ns(e,t){z(As,e=_u),z(Cs,t),_u=e|t.baseLanes}function Ds(){z(As,_u),z(Cs,Cs.current)}function Ps(){_u=As.current,j(Cs),j(As)}var xs=V(null),Rs=null;function Os(e){var t=e.alternate;z(Vs,1&Vs.current),z(xs,e),null===Rs&&(null===t||null!==Cs.current||null!==t.memoizedState)&&(Rs=e)}function Ls(e){z(Vs,Vs.current),z(xs,e),null===Rs&&(Rs=e)}function Ms(e){22===e.tag?(z(Vs,Vs.current),z(xs,e),null===Rs&&(Rs=e)):Fs()}function Fs(){z(Vs,Vs.current),z(xs,xs.current)}function Us(e){j(xs),Rs===e&&(Rs=null),j(Vs)}var Vs=V(0);function js(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ph(n)||xh(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zs=0,qs=null,Bs=null,Ks=null,Hs=!1,Ws=!1,Gs=!1,Qs=0,Ys=0,$s=null,Js=0;function Xs(){throw Error(o(321))}function Zs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function eo(e,t,n,r,i,s){return zs=s,qs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?ga:ya,Gs=!1,s=n(r,i),Gs=!1,Ws&&(s=no(t,n,r,i)),to(e),s}function to(e){O.H=ma;var t=null!==Bs&&null!==Bs.next;if(zs=0,Ks=Bs=qs=null,Hs=!1,Ys=0,$s=null,t)throw Error(o(300));null===e||Ra||null!==(e=e.dependencies)&&Di(e)&&(Ra=!0)}function no(e,t,n,r){qs=e;var i=0;do{if(Ws&&($s=null),Ys=0,Ws=!1,25<=i)throw Error(o(301));if(i+=1,Ks=Bs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}O.H=va,s=t(n,r)}while(Ws);return s}function ro(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?uo(t):t,e=e.useState()[0],(null!==Bs?Bs.memoizedState:null)!==e&&(qs.flags|=1024),t}function io(){var e=0!==Qs;return Qs=0,e}function so(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function oo(e){if(Hs){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Hs=!1}zs=0,Ks=Bs=qs=null,Ws=!1,Ys=Qs=0,$s=null}function ao(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ks?qs.memoizedState=Ks=e:Ks=Ks.next=e,Ks}function lo(){if(null===Bs){var e=qs.alternate;e=null!==e?e.memoizedState:null}else e=Bs.next;var t=null===Ks?qs.memoizedState:Ks.next;if(null!==t)Ks=t,Bs=e;else{if(null===e){if(null===qs.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(Bs=e).memoizedState,baseState:Bs.baseState,baseQueue:Bs.baseQueue,queue:Bs.queue,next:null},null===Ks?qs.memoizedState=Ks=e:Ks=Ks.next=e}return Ks}function uo(e){var t=Ys;return Ys+=1,null===$s&&($s=[]),e=ns($s,e,t),t=qs,null===(null===Ks?t.memoizedState:Ks.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?ga:ya),e}function co(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return uo(e);if(e.$$typeof===k)return xi(e)}throw Error(o(438,String(e)))}function ho(e){var t=null,n=qs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=qs.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=A;return t.index++,n}function fo(e,t){return"function"===typeof t?t(e):t}function po(e){return mo(lo(),Bs,e)}function mo(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var l=a=null,u=null,c=t=i.next,h=!1;do{var d=-536870913&c.lane;if(d!==c.lane?(gu&d)===d:(zs&d)===d){var f=c.revertLane;if(0===f)null!==u&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===Bi&&(h=!0);else{if((zs&f)===f){c=c.next,f===Bi&&(h=!0);continue}d={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=d,a=s):u=u.next=d,qs.lanes|=f,Iu|=f}d=c.action,Gs&&n(s,d),s=c.hasEagerState?c.eagerState:n(s,d)}else f={lane:d,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=f,a=s):u=u.next=f,qs.lanes|=d,Iu|=d;c=c.next}while(null!==c&&c!==t);if(null===u?a=s:u.next=l,!Xn(s,e.memoizedState)&&(Ra=!0,h&&null!==(n=Ki)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=u,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function go(e){var t=lo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);Xn(s,t.memoizedState)||(Ra=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function yo(e,t,n){var r=qs,i=lo(),s=hi;if(s){if(void 0===n)throw Error(o(407));n=n()}else n=t();var a=!Xn((Bs||i).memoizedState,n);if(a&&(i.memoizedState=n,Ra=!0),i=i.queue,qo(bo.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==Ks&&1&Ks.memoizedState.tag){if(r.flags|=2048,Fo(9,{destroy:void 0},wo.bind(null,r,i,n,t),null),null===pu)throw Error(o(349));s||0!==(127&zs)||vo(r,t,n)}return n}function vo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=qs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function wo(e,t,n,r){t.value=n,t.getSnapshot=r,ko(t)&&_o(e)}function bo(e,t,n){return n(function(){ko(t)&&_o(e)})}function ko(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(r){return!0}}function _o(e){var t=Rr(e,2);null!==t&&Qu(t,e,2)}function So(e){var t=ao();if("function"===typeof e){var n=e;if(e=n(),Gs){we(!0);try{n()}finally{we(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:e},t}function Io(e,t,n,r){return e.baseState=n,mo(e,Bs,"function"===typeof r?r:fo)}function To(e,t,n,r,i){if(da(e))throw Error(o(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==O.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,Eo(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Eo(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=O.T,o={};O.T=o;try{var a=n(i,r),l=O.S;null!==l&&l(o,a),Co(e,t,a)}catch(u){No(e,t,u)}finally{null!==s&&null!==o.types&&(s.types=o.types),O.T=s}}else try{Co(e,t,s=n(i,r))}catch(c){No(e,t,c)}}function Co(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Ao(e,t,n)},function(n){return No(e,t,n)}):Ao(e,t,n)}function Ao(e,t,n){t.status="fulfilled",t.value=n,Do(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Eo(e,n)))}function No(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Do(t),t=t.next}while(t!==r)}e.action=null}function Do(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Po(e,t){return t}function xo(e,t){if(hi){var n=pu.formState;if(null!==n){e:{var r=qs;if(hi){if(ci){t:{for(var i=ci,s=fi;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=Rh(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){ci=Rh(i.nextSibling),r="F!"===i.data;break e}}mi(r)}r=!1}r&&(t=n[0])}}return(n=ao()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:t},n.queue=r,n=ua.bind(null,qs,r),r.dispatch=n,r=So(!1),s=ha.bind(null,qs,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=ao()).queue=i,n=To.bind(null,qs,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ro(e){return Oo(lo(),Bs,e)}function Oo(e,t,n){if(t=mo(e,t,Po)[0],e=po(fo)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=uo(t)}catch(o){if(o===Ji)throw Zi;throw o}else r=t;var i=(t=lo()).queue,s=i.dispatch;return n!==t.memoizedState&&(qs.flags|=2048,Fo(9,{destroy:void 0},Lo.bind(null,i,n),null)),[r,s,e]}function Lo(e,t){e.action=t}function Mo(e){var t=lo(),n=Bs;if(null!==n)return Oo(t,n,e);lo(),t=t.memoizedState;var r=(n=lo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Fo(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=qs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return lo().memoizedState}function Vo(e,t,n,r){var i=ao();qs.flags|=e,i.memoizedState=Fo(1|t,{destroy:void 0},n,void 0===r?null:r)}function jo(e,t,n,r){var i=lo();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==Bs&&null!==r&&Zs(r,Bs.memoizedState.deps)?i.memoizedState=Fo(t,s,n,r):(qs.flags|=e,i.memoizedState=Fo(1|t,s,n,r))}function zo(e,t){Vo(8390656,8,e,t)}function qo(e,t){jo(2048,8,e,t)}function Bo(e){var t=lo().memoizedState;return function(e){qs.flags|=4;var t=qs.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&fu))throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Ko(e,t){return jo(4,2,e,t)}function Ho(e,t){return jo(4,4,e,t)}function Wo(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Go(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,jo(4,4,Wo.bind(null,t,e),n)}function Qo(){}function Yo(e,t){var n=lo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Zs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=lo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Zs(t,r[1]))return r[0];if(r=e(),Gs){we(!0);try{e()}finally{we(!1)}}return n.memoizedState=[r,t],r}function Jo(e,t,n){return void 0===n||0!==(1073741824&zs)&&0===(261930&gu)?e.memoizedState=t:(e.memoizedState=n,e=Gu(),qs.lanes|=e,Iu|=e,n)}function Xo(e,t,n,r){return Xn(n,t)?n:null!==Cs.current?(e=Jo(e,n,r),Xn(e,t)||(Ra=!0),e):0===(42&zs)||0!==(1073741824&zs)&&0===(261930&gu)?(Ra=!0,e.memoizedState=n):(e=Gu(),qs.lanes|=e,Iu|=e,t)}function Zo(e,t,n,r,i){var s=L.p;L.p=0!==s&&8>s?s:8;var o=O.T,a={};O.T=a,ha(e,!1,t,n);try{var l=i(),u=O.S;if(null!==u&&u(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)ca(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Wu());else ca(e,t,r,Wu())}catch(c){ca(e,t,{then:function(){},status:"rejected",reason:c},Wu())}finally{L.p=s,null!==o&&null!==a.types&&(o.types=a.types),O.T=o}}function ea(){}function ta(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=na(e).queue;Zo(e,i,t,M,null===n?ea:function(){return ra(e),n(r)})}function na(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ra(e){var t=na(e);null===t.next&&(t=e.alternate.memoizedState),ca(e,t.next.queue,{},Wu())}function ia(){return xi(cd)}function sa(){return lo().memoizedState}function oa(){return lo().memoizedState}function aa(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Wu(),r=ws(t,e=vs(n),n);return null!==r&&(Qu(r,t,n),bs(r,t,n)),t={cache:Vi()},void(e.payload=t)}t=t.return}}function la(e,t,n){var r=Wu();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},da(e)?fa(t,n):null!==(n=xr(e,t,n,r))&&(Qu(n,e,r),pa(n,t,r))}function ua(e,t,n){ca(e,t,n,Wu())}function ca(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(da(e))fa(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Xn(a,o))return Pr(e,t,i,0),null===pu&&Dr(),!1}catch(l){}if(null!==(n=xr(e,t,i,r)))return Qu(n,e,r),pa(n,t,r),!0}return!1}function ha(e,t,n,r){if(r={lane:2,revertLane:qc(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},da(e)){if(t)throw Error(o(479))}else null!==(t=xr(e,n,r,2))&&Qu(t,e,2)}function da(e){var t=e.alternate;return e===qs||null!==t&&t===qs}function fa(e,t){Ws=Hs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pa(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}var ma={readContext:xi,use:co,useCallback:Xs,useContext:Xs,useEffect:Xs,useImperativeHandle:Xs,useLayoutEffect:Xs,useInsertionEffect:Xs,useMemo:Xs,useReducer:Xs,useRef:Xs,useState:Xs,useDebugValue:Xs,useDeferredValue:Xs,useTransition:Xs,useSyncExternalStore:Xs,useId:Xs,useHostTransitionStatus:Xs,useFormState:Xs,useActionState:Xs,useOptimistic:Xs,useMemoCache:Xs,useCacheRefresh:Xs};ma.useEffectEvent=Xs;var ga={readContext:xi,use:co,useCallback:function(e,t){return ao().memoizedState=[e,void 0===t?null:t],e},useContext:xi,useEffect:zo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){Vo(4,2,e,t)},useMemo:function(e,t){var n=ao();t=void 0===t?null:t;var r=e();if(Gs){we(!0);try{e()}finally{we(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ao();if(void 0!==n){var i=n(t);if(Gs){we(!0);try{n(t)}finally{we(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=la.bind(null,qs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ao().memoizedState=e},useState:function(e){var t=(e=So(e)).queue,n=ua.bind(null,qs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Qo,useDeferredValue:function(e,t){return Jo(ao(),e,t)},useTransition:function(){var e=So(!1);return e=Zo.bind(null,qs,e.queue,!0,!1),ao().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=qs,i=ao();if(hi){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===pu)throw Error(o(349));0!==(127&gu)||vo(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,zo(bo.bind(null,r,s,e),[e]),r.flags|=2048,Fo(9,{destroy:void 0},wo.bind(null,r,s,n,t),null),n},useId:function(){var e=ao(),t=pu.identifierPrefix;if(hi){var n=ri;t="_"+t+"R_"+(n=(ni&~(1<<32-be(ni)-1)).toString(32)+n),0<(n=Qs++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Js++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ia,useFormState:xo,useActionState:xo,useOptimistic:function(e){var t=ao();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ha.bind(null,qs,!0,n),n.dispatch=t,[e,t]},useMemoCache:ho,useCacheRefresh:function(){return ao().memoizedState=aa.bind(null,qs)},useEffectEvent:function(e){var t=ao(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&fu))throw Error(o(440));return n.impl.apply(void 0,arguments)}}},ya={readContext:xi,use:co,useCallback:Yo,useContext:xi,useEffect:qo,useImperativeHandle:Go,useInsertionEffect:Ko,useLayoutEffect:Ho,useMemo:$o,useReducer:po,useRef:Uo,useState:function(){return po(fo)},useDebugValue:Qo,useDeferredValue:function(e,t){return Xo(lo(),Bs.memoizedState,e,t)},useTransition:function(){var e=po(fo)[0],t=lo().memoizedState;return["boolean"===typeof e?e:uo(e),t]},useSyncExternalStore:yo,useId:sa,useHostTransitionStatus:ia,useFormState:Ro,useActionState:Ro,useOptimistic:function(e,t){return Io(lo(),0,e,t)},useMemoCache:ho,useCacheRefresh:oa};ya.useEffectEvent=Bo;var va={readContext:xi,use:co,useCallback:Yo,useContext:xi,useEffect:qo,useImperativeHandle:Go,useInsertionEffect:Ko,useLayoutEffect:Ho,useMemo:$o,useReducer:go,useRef:Uo,useState:function(){return go(fo)},useDebugValue:Qo,useDeferredValue:function(e,t){var n=lo();return null===Bs?Jo(n,e,t):Xo(n,Bs.memoizedState,e,t)},useTransition:function(){var e=go(fo)[0],t=lo().memoizedState;return["boolean"===typeof e?e:uo(e),t]},useSyncExternalStore:yo,useId:sa,useHostTransitionStatus:ia,useFormState:Mo,useActionState:Mo,useOptimistic:function(e,t){var n=lo();return null!==Bs?Io(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ho,useCacheRefresh:oa};function wa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}va.useEffectEvent=Bo;var ba={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Wu(),i=vs(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ws(e,i,r))&&(Qu(t,e,r),bs(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Wu(),i=vs(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ws(e,i,r))&&(Qu(t,e,r),bs(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wu(),r=vs(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ws(e,r,n))&&(Qu(t,e,n),bs(t,e,n))}};function ka(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,r)||!Zn(i,s))}function _a(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ba.enqueueReplaceState(t,t.state,null)}function Sa(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function Ia(e){Er(e)}function Ta(e){console.error(e)}function Ea(e){Er(e)}function Ca(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Aa(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Na(e,t,n){return(n=vs(n)).tag=3,n.payload={element:null},n.callback=function(){Ca(e,t)},n}function Da(e){return(e=vs(e)).tag=3,e}function Pa(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){Aa(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){Aa(t,n,r),"function"!==typeof i&&(null===Mu?Mu=new Set([this]):Mu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var xa=Error(o(461)),Ra=!1;function Oa(e,t,n,r){t.child=null===e?ps(t,null,n,r):fs(t,e.child,n,r)}function La(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var o={};for(var a in r)"ref"!==a&&(o[a]=r[a])}else o=r;return Pi(t),r=eo(e,t,n,o,s,i),a=io(),null===e||Ra?(hi&&a&&oi(t),t.flags|=1,Oa(e,t,r,i),t.child):(so(e,t,i),il(e,t,i))}function Ma(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Vr(s)||void 0!==s.defaultProps||null!==n.compare?((e=qr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Fa(e,t,s,r,i))}if(s=e.child,!sl(e,i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(o,r)&&e.ref===t.ref)return il(e,t,i)}return t.flags|=1,(e=jr(s,r)).ref=t.ref,e.return=t,t.child=e}function Fa(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Zn(s,r)&&e.ref===t.ref){if(Ra=!1,t.pendingProps=r=s,!sl(e,i))return t.lanes=e.lanes,il(e,t,i);0!==(131072&e.flags)&&(Ra=!0)}}return Ka(e,t,n,r,i)}function Ua(e,t,n,r){var i=r.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(s=null!==s?s.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~s}else r=0,t.child=null;return ja(e,t,s,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,ja(e,t,null!==s?s.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Yi(0,null!==s?s.cachePool:null),null!==s?Ns(t,s):Ds(),Ms(t)}else null!==s?(Yi(0,s.cachePool),Ns(t,s),Fs(),t.memoizedState=null):(null!==e&&Yi(0,null),Ds(),Fs());return Oa(e,t,i,n),t.child}function Va(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ja(e,t,n,r,i){var s=Qi();return s=null===s?null:{parent:Ui._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Yi(0,null),Ds(),Ms(t),null!==e&&Ni(e,t,r,!0),t.childLanes=i,null}function za(e,t){return(t=Za({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function qa(e,t,n){return fs(t,e.child,null,n),(e=za(t,t.pendingProps)).flags|=2,Us(t),t.memoizedState=null,e}function Ba(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ka(e,t,n,r,i){return Pi(t),n=eo(e,t,n,r,void 0,i),r=io(),null===e||Ra?(hi&&r&&oi(t),t.flags|=1,Oa(e,t,n,i),t.child):(so(e,t,i),il(e,t,i))}function Ha(e,t,n,r,i,s){return Pi(t),t.updateQueue=null,n=no(t,r,n,i),to(e),r=io(),null===e||Ra?(hi&&r&&oi(t),t.flags|=1,Oa(e,t,n,s),t.child):(so(e,t,s),il(e,t,s))}function Wa(e,t,n,r,i){if(Pi(t),null===t.stateNode){var s=Mr,o=n.contextType;"object"===typeof o&&null!==o&&(s=xi(o)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=ba,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},gs(t),o=n.contextType,s.context="object"===typeof o&&null!==o?xi(o):Mr,s.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(wa(t,n,o,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(o=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),o!==s.state&&ba.enqueueReplaceState(s,s.state,null),Is(t,r,s,i),Ss(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var a=t.memoizedProps,l=Sa(n,a);s.props=l;var u=s.context,c=n.contextType;o=Mr,"object"===typeof c&&null!==c&&(o=xi(c));var h=n.getDerivedStateFromProps;c="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate,a=t.pendingProps!==a,c||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a||u!==o)&&_a(t,s,r,o),ms=!1;var d=t.memoizedState;s.state=d,Is(t,r,s,i),Ss(),u=t.memoizedState,a||d!==u||ms?("function"===typeof h&&(wa(t,n,h,r),u=t.memoizedState),(l=ms||ka(t,n,l,r,d,u,o))?(c||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=o,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,ys(e,t),c=Sa(n,o=t.memoizedProps),s.props=c,h=t.pendingProps,d=s.context,u=n.contextType,l=Mr,"object"===typeof u&&null!==u&&(l=xi(u)),(u="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==h||d!==l)&&_a(t,s,r,l),ms=!1,d=t.memoizedState,s.state=d,Is(t,r,s,i),Ss();var f=t.memoizedState;o!==h||d!==f||ms||null!==e&&null!==e.dependencies&&Di(e.dependencies)?("function"===typeof a&&(wa(t,n,a,r),f=t.memoizedState),(c=ms||ka(t,n,c,r,d,f,l)||null!==e&&null!==e.dependencies&&Di(e.dependencies))?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Ba(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=fs(t,e.child,null,i),t.child=fs(t,null,n,i)):Oa(e,t,n,i),t.memoizedState=s.state,e=t.child):e=il(e,t,i),e}function Ga(e,t,n,r){return wi(),t.flags|=256,Oa(e,t,n,r),t.child}var Qa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ya(e){return{baseLanes:e,cachePool:$i()}}function $a(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Cu),e}function Ja(e,t,n){var r,i=t.pendingProps,s=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Vs.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(hi){if(s?Os(t):Fs(),(e=ci)?null!==(e=null!==(e=Dh(e,fi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Hr(e)).return=t,t.child=n,ui=t,ci=null):e=null,null===e)throw mi(t);return xh(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,s?(Fs(),l=Za({mode:"hidden",children:l},s=t.mode),i=Br(i,s,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=Ya(n),i.childLanes=$a(e,r,n),t.memoizedState=Qa,Va(null,i)):(Os(t),Xa(t,l))}var u=e.memoizedState;if(null!==u&&null!==(l=u.dehydrated)){if(a)256&t.flags?(Os(t),t.flags&=-257,t=el(e,t,n)):null!==t.memoizedState?(Fs(),t.child=e.child,t.flags|=128,t=null):(Fs(),l=i.fallback,s=t.mode,i=Za({mode:"visible",children:i.children},s),(l=Br(l,s,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,fs(t,e.child,null,n),(i=t.child).memoizedState=Ya(n),i.childLanes=$a(e,r,n),t.memoizedState=Qa,t=Va(null,i));else if(Os(t),xh(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var c=r.dgst;r=c,(i=Error(o(419))).stack="",i.digest=r,ki({value:i,source:null,stack:null}),t=el(e,t,n)}else if(Ra||Ni(e,t,n,!1),r=0!==(n&e.childLanes),Ra||r){if(null!==(r=pu)&&(0!==(i=Le(r,n))&&i!==u.retryLane))throw u.retryLane=i,Rr(e,i),Qu(r,e,i),xa;Ph(l)||oc(),t=el(e,t,n)}else Ph(l)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,ci=Rh(l.nextSibling),ui=t,hi=!0,di=null,fi=!1,null!==e&&li(t,e),(t=Xa(t,i.children)).flags|=4096);return t}return s?(Fs(),l=i.fallback,s=t.mode,c=(u=e.child).sibling,(i=jr(u,{mode:"hidden",children:i.children})).subtreeFlags=65011712&u.subtreeFlags,null!==c?l=jr(c,l):(l=Br(l,s,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,Va(null,i),i=t.child,null===(l=e.child.memoizedState)?l=Ya(n):(null!==(s=l.cachePool)?(u=Ui._currentValue,s=s.parent!==u?{parent:u,pool:u}:s):s=$i(),l={baseLanes:l.baseLanes|n,cachePool:s}),i.memoizedState=l,i.childLanes=$a(e,r,n),t.memoizedState=Qa,Va(e.child,i)):(Os(t),e=(n=e.child).sibling,(n=jr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Xa(e,t){return(t=Za({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Za(e,t){return(e=Ur(22,e,null,t)).lanes=0,e}function el(e,t,n){return fs(t,e.child,null,n),(e=Xa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ci(e.return,t,n)}function nl(e,t,n,r,i,s){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=s)}function rl(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;r=r.children;var o=Vs.current,a=0!==(2&o);if(a?(o=1&o|2,t.flags|=128):o&=1,z(Vs,o),Oa(e,t,r,n),r=hi?Xr:0,!a&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,n,t);else if(19===e.tag)tl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===js(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),nl(t,!1,i,n,s,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===js(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}nl(t,!0,n,null,s,r);break;case"together":nl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function il(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Iu|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ni(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=jr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function sl(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Di(e))}function ol(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ra=!0;else{if(!sl(e,n)&&0===(128&t.flags))return Ra=!1,function(e,t,n){switch(t.tag){case 3:Q(t,t.stateNode.containerInfo),Ti(0,Ui,e.memoizedState.cache),wi();break;case 27:case 5:$(t);break;case 4:Q(t,t.stateNode.containerInfo);break;case 10:Ti(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ls(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Os(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ja(e,t,n):(Os(t),null!==(e=il(e,t,n))?e.sibling:null);Os(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ni(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return rl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),z(Vs,Vs.current),r)break;return null;case 22:return t.lanes=0,Ua(e,t,n,t.pendingProps);case 24:Ti(0,Ui,e.memoizedState.cache)}return il(e,t,n)}(e,t,n);Ra=0!==(131072&e.flags)}else Ra=!1,hi&&0!==(1048576&t.flags)&&si(t,Xr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=rs(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===_){t.tag=11,t=La(null,t,e,r,n);break e}if(i===T){t.tag=14,t=Ma(null,t,e,r,n);break e}}throw t=x(e)||e,Error(o(306,t,""))}Vr(e)?(r=Sa(e,r),t.tag=1,t=Wa(null,t,e,r,n)):(t.tag=0,t=Ka(null,t,e,r,n))}return t;case 0:return Ka(e,t,t.type,t.pendingProps,n);case 1:return Wa(e,t,r=t.type,i=Sa(r,t.pendingProps),n);case 3:e:{if(Q(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var s=t.memoizedState;i=s.element,ys(e,t),Is(t,r,null,n);var a=t.memoizedState;if(r=a.cache,Ti(0,Ui,r),r!==s.cache&&Ai(t,[Ui],n,!0),Ss(),r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ga(e,t,r,n);break e}if(r!==i){ki(i=Qr(Error(o(424)),t)),t=Ga(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ci=Rh(e.firstChild),ui=t,hi=!0,di=null,fi=!0,n=ps(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(wi(),r===i){t=il(e,t,n);break e}Oa(e,t,r,n)}t=t.child}return t;case 26:return Ba(e,t),null===e?(n=Hh(t.type,null,t.pendingProps,null))?t.memoizedState=n:hi||(n=t.type,e=t.pendingProps,(r=gh(W.current).createElement(n))[ze]=t,r[qe]=e,dh(r,n,e),et(r),t.stateNode=r):t.memoizedState=Hh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return $(t),null===e&&hi&&(r=t.stateNode=Fh(t.type,t.pendingProps,W.current),ui=t,fi=!0,i=ci,Eh(t.type)?(Oh=i,ci=Rh(r.firstChild)):ci=i),Oa(e,t,t.pendingProps.children,n),Ba(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&hi&&((i=r=ci)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=Rh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,fi))?(t.stateNode=r,ui=t,ci=Rh(r.firstChild),fi=!1,i=!0):i=!1),i||mi(t)),$(t),i=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,r=s.children,wh(i,s)?r=null:null!==a&&wh(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=eo(e,t,ro,null,null,n),cd._currentValue=i),Ba(e,t),Oa(e,t,r,n),t.child;case 6:return null===e&&hi&&((e=n=ci)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Rh(e.nextSibling)))return null}return e}(n,t.pendingProps,fi))?(t.stateNode=n,ui=t,ci=null,e=!0):e=!1),e||mi(t)),null;case 13:return Ja(e,t,n);case 4:return Q(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=fs(t,null,r,n):Oa(e,t,r,n),t.child;case 11:return La(e,t,t.type,t.pendingProps,n);case 7:return Oa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Oa(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ti(0,t.type,r.value),Oa(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Pi(t),r=r(i=xi(i)),t.flags|=1,Oa(e,t,r,n),t.child;case 14:return Ma(e,t,t.type,t.pendingProps,n);case 15:return Fa(e,t,t.type,t.pendingProps,n);case 19:return rl(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(hi){if("hidden"===r.mode)return e=za(t,r),t.lanes=536870912,Va(null,e);if(Ls(t),(e=ci)?null!==(e=null!==(e=Dh(e,fi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Hr(e)).return=t,t.child=n,ui=t,ci=null):e=null,null===e)throw mi(t);return t.lanes=536870912,null}return za(t,r)}var s=e.memoizedState;if(null!==s){var a=s.dehydrated;if(Ls(t),i)if(256&t.flags)t.flags&=-257,t=qa(e,t,n);else{if(null===t.memoizedState)throw Error(o(558));t.child=e.child,t.flags|=128,t=null}else if(Ra||Ni(e,t,n,!1),i=0!==(n&e.childLanes),Ra||i){if(null!==(r=pu)&&0!==(a=Le(r,n))&&a!==s.retryLane)throw s.retryLane=a,Rr(e,a),Qu(r,e,a),xa;oc(),t=qa(e,t,n)}else e=s.treeContext,ci=Rh(a.nextSibling),ui=t,hi=!0,di=null,fi=!1,null!==e&&li(t,e),(t=za(t,r)).flags|=4096;return t}return(e=jr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Ua(e,t,n,t.pendingProps);case 24:return Pi(t),r=xi(Ui),null===e?(null===(i=Qi())&&(i=pu,s=Vi(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},gs(t),Ti(0,Ui,i)):(0!==(e.lanes&n)&&(ys(e,t),Is(t,null,null,n),Ss()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Ti(0,Ui,r)):(r=s.cache,Ti(0,Ui,r),r!==i.cache&&Ai(t,[Ui],n,!0))),Oa(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function al(e){e.flags|=4}function ll(e,t,n,r,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!rc())throw is=es,Xi;e.flags|=8192}}else e.flags&=-16777217}function ul(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!id(t)){if(!rc())throw is=es,Xi;e.flags|=8192}}function cl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?De():536870912,e.lanes|=t,Au|=t)}function hl(e,t){if(!hi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function dl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fl(e,t,n){var r=t.pendingProps;switch(ai(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return dl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ei(Ui),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(vi(t)?al(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,bi())),dl(t),null;case 26:var i=t.type,s=t.memoizedState;return null===e?(al(t),null!==s?(dl(t),ul(t,s)):(dl(t),ll(t,i,0,0,n))):s?s!==e.memoizedState?(al(t),dl(t),ul(t,s)):(dl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&al(t),dl(t),ll(t,i,0,0,n)),null;case 27:if(J(t),n=W.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&al(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return dl(t),null}e=K.current,vi(t)?gi(t):(e=Fh(i,r,n),t.stateNode=e,al(t))}return dl(t),null;case 5:if(J(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&al(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return dl(t),null}if(s=K.current,vi(t))gi(t);else{var a=gh(W.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(s=a.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?s.multiple=!0:r.size&&(s.size=r.size);break;default:s="string"===typeof r.is?a.createElement(i,{is:r.is}):a.createElement(i)}}s[ze]=t,s[qe]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)s.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=s;e:switch(dh(s,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&al(t)}}return dl(t),ll(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&al(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=W.current,vi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ui))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[ze]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||uh(e.nodeValue,n)))||mi(t,!0)}else(e=gh(e).createTextNode(r))[ze]=t,t.stateNode=e}return dl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=vi(t),null!==n){if(null===e){if(!r)throw Error(o(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(557));e[ze]=t}else wi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;dl(t),e=!1}else n=bi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Us(t),t):(Us(t),null);if(0!==(128&t.flags))throw Error(o(558))}return dl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=vi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[ze]=t}else wi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;dl(t),i=!1}else i=bi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(Us(t),t):(Us(t),null)}return Us(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),s=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),cl(t,t.updateQueue),dl(t),null);case 4:return Y(),null===e&&Zc(t.stateNode.containerInfo),dl(t),null;case 10:return Ei(t.type),dl(t),null;case 19:if(j(Vs),null===(r=t.memoizedState))return dl(t),null;if(i=0!==(128&t.flags),null===(s=r.rendering))if(i)hl(r,!1);else{if(0!==Su||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=js(e))){for(t.flags|=128,hl(r,!1),e=s.updateQueue,t.updateQueue=e,cl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zr(n,e),n=n.sibling;return z(Vs,1&Vs.current|2),hi&&ii(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Ou&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=js(s))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,cl(t,e),hl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!hi)return dl(t),null}else 2*le()-r.renderingStartTime>Ou&&536870912!==n&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=r.last)?e.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=Vs.current,z(Vs,i?1&n|2:1&n),hi&&ii(t,r.treeForkCount),e):(dl(t),null);case 22:case 23:return Us(t),Ps(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(dl(t),6&t.subtreeFlags&&(t.flags|=8192)):dl(t),null!==(n=t.updateQueue)&&cl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&j(Gi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ei(Ui),dl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function pl(e,t){switch(ai(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ei(Ui),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 31:if(null!==t.memoizedState){if(Us(t),null===t.alternate)throw Error(o(340));wi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Us(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));wi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return j(Vs),null;case 4:return Y(),null;case 10:return Ei(t.type),null;case 22:case 23:return Us(t),Ps(),null!==e&&j(Gi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ei(Ui),null;default:return null}}function ml(e,t){switch(ai(t),t.tag){case 3:Ei(Ui),Y();break;case 26:case 27:case 5:J(t);break;case 4:Y();break;case 31:null!==t.memoizedState&&Us(t);break;case 13:Us(t);break;case 19:j(Vs);break;case 10:Ei(t.type);break;case 22:case 23:Us(t),Ps(),null!==e&&j(Gi);break;case 24:Ei(Ui)}}function gl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,o=n.inst;r=s(),o.destroy=r}n=n.next}while(n!==i)}}catch(a){Sc(t,t.return,a)}}function yl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var o=r.inst,a=o.destroy;if(void 0!==a){o.destroy=void 0,i=t;var l=n,u=a;try{u()}catch(c){Sc(i,l,c)}}}r=r.next}while(r!==s)}}catch(c){Sc(t,t.return,c)}}function vl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Es(t,n)}catch(r){Sc(e,e.return,r)}}}function wl(e,t,n){n.props=Sa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Sc(e,t,r)}}function bl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){Sc(e,t,i)}}function kl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){Sc(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){Sc(e,t,s)}else n.current=null}function _l(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Sc(e,e.return,i)}}function Sl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,l=null,u=null,c=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":u=d;default:r.hasOwnProperty(p)||ch(e,t,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":c=p;break;case"defaultChecked":h=p;break;case"value":a=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==d&&ch(e,t,f,p,r,d)}}return void vt(e,a,l,u,c,h,s,i);case"select":for(s in p=a=l=f=null,n)if(u=n[s],n.hasOwnProperty(s)&&null!=u)switch(s){case"value":break;case"multiple":p=u;default:r.hasOwnProperty(s)||ch(e,t,s,null,r,u)}for(i in r)if(s=r[i],u=n[i],r.hasOwnProperty(i)&&(null!=s||null!=u))switch(i){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&ch(e,t,i,s,r,u)}return t=l,n=a,r=p,void(null!=f?kt(e,!!n,f,!1):!!r!==!!n&&(null!=t?kt(e,!!n,t,!0):kt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ch(e,t,l,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(null!=i||null!=s))switch(a){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==s&&ch(e,t,a,i,r,s)}return void _t(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else ch(e,t,m,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))if("selected"===u)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else ch(e,t,u,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&ch(e,t,g,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:ch(e,t,c,f,r,p)}return;default:if(At(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&hh(e,t,y,void 0,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||hh(e,t,h,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&ch(e,t,v,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||null==f&&null==p||ch(e,t,d,f,r,p)}(r,e.type,n,t),r[qe]=t}catch(i){Sc(e,e.return,i)}}function Il(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Eh(e.type)||4===e.tag}function Tl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Eh(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function El(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=xt));else if(4!==r&&(27===r&&Eh(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(El(e,t,n),e=e.sibling;null!==e;)El(e,t,n),e=e.sibling}function Cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Eh(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Cl(e,t,n),e=e.sibling;null!==e;)Cl(e,t,n),e=e.sibling}function Al(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);dh(t,r,n),t[ze]=e,t[qe]=n}catch(s){Sc(e,e.return,s)}}var Nl=!1,Dl=!1,Pl=!1,xl="function"===typeof WeakSet?WeakSet:Set,Rl=null;function Ol(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ql(e,n),4&r&&gl(5,n);break;case 1:if(Ql(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){Sc(n,n.return,o)}else{var i=Sa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){Sc(n,n.return,a)}}64&r&&vl(n),512&r&&bl(n,n.return);break;case 3:if(Ql(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Es(e,t)}catch(o){Sc(n,n.return,o)}}break;case 27:null===t&&4&r&&Al(n);case 26:case 5:Ql(e,n),null===t&&4&r&&_l(n),512&r&&bl(n,n.return);break;case 12:Ql(e,n);break;case 31:Ql(e,n),4&r&&jl(e,n);break;case 13:Ql(e,n),4&r&&zl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Cc.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Nl)){t=null!==t&&null!==t.memoizedState||Dl,i=Nl;var s=Dl;Nl=r,(Dl=t)&&!s?$l(e,n,0!==(8772&n.subtreeFlags)):Ql(e,n),Nl=i,Dl=s}break;case 30:break;default:Ql(e,n)}}function Ll(e){var t=e.alternate;null!==t&&(e.alternate=null,Ll(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ye(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ml=null,Fl=!1;function Ul(e,t,n){for(n=n.child;null!==n;)Vl(e,t,n),n=n.sibling}function Vl(e,t,n){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ye,n)}catch(s){}switch(n.tag){case 26:Dl||kl(n,t),Ul(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Dl||kl(n,t);var r=Ml,i=Fl;Eh(n.type)&&(Ml=n.stateNode,Fl=!1),Ul(e,t,n),Uh(n.stateNode),Ml=r,Fl=i;break;case 5:Dl||kl(n,t);case 6:if(r=Ml,i=Fl,Ml=null,Ul(e,t,n),Fl=i,null!==(Ml=r))if(Fl)try{(9===Ml.nodeType?Ml.body:"HTML"===Ml.nodeName?Ml.ownerDocument.body:Ml).removeChild(n.stateNode)}catch(o){Sc(n,t,o)}else try{Ml.removeChild(n.stateNode)}catch(o){Sc(n,t,o)}break;case 18:null!==Ml&&(Fl?(Ch(9===(e=Ml).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Kd(e)):Ch(Ml,n.stateNode));break;case 4:r=Ml,i=Fl,Ml=n.stateNode.containerInfo,Fl=!0,Ul(e,t,n),Ml=r,Fl=i;break;case 0:case 11:case 14:case 15:yl(2,n,t),Dl||yl(4,n,t),Ul(e,t,n);break;case 1:Dl||(kl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&wl(n,t,r)),Ul(e,t,n);break;case 21:Ul(e,t,n);break;case 22:Dl=(r=Dl)||null!==n.memoizedState,Ul(e,t,n),Dl=r;break;default:Ul(e,t,n)}}function jl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Kd(e)}catch(n){Sc(t,t.return,n)}}}function zl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Kd(e)}catch(n){Sc(t,t.return,n)}}function ql(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new xl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new xl),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Ac.bind(null,e,t);t.then(r,r)}})}function Bl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(Eh(l.type)){Ml=l.stateNode,Fl=!1;break e}break;case 5:Ml=l.stateNode,Fl=!1;break e;case 3:case 4:Ml=l.stateNode.containerInfo,Fl=!0;break e}l=l.return}if(null===Ml)throw Error(o(160));Vl(s,a,i),Ml=null,Fl=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Hl(t,e),t=t.sibling}var Kl=null;function Hl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Bl(t,e),Wl(e),4&r&&(yl(3,e,e.return),gl(3,e),yl(5,e,e.return));break;case 1:Bl(t,e),Wl(e),512&r&&(Dl||null===n||kl(n,n.return)),64&r&&Nl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Kl;if(Bl(t,e),Wl(e),512&r&&(Dl||null===n||kl(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[Qe]||s[ze]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),dh(s,r,n),s[ze]=e,et(s),r=s;break e;case"link":var a=nd("link","href",i).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((s=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}dh(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(a=nd("meta","content",i).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((s=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}dh(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(o(468,r))}s[ze]=e,et(s),r=s}e.stateNode=r}else rd(i,e.type,e.stateNode);else e.stateNode=Jh(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?rd(i,e.type,e.stateNode):Jh(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Sl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Bl(t,e),Wl(e),512&r&&(Dl||null===n||kl(n,n.return)),null!==n&&4&r&&Sl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Bl(t,e),Wl(e),512&r&&(Dl||null===n||kl(n,n.return)),32&e.flags){i=e.stateNode;try{It(i,"")}catch(m){Sc(e,e.return,m)}}4&r&&null!=e.stateNode&&Sl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Pl=!0);break;case 6:if(Bl(t,e),Wl(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){Sc(e,e.return,m)}}break;case 3:if(td=null,i=Kl,Kl=zh(t.containerInfo),Bl(t,e),Kl=i,Wl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Kd(t.containerInfo)}catch(m){Sc(e,e.return,m)}Pl&&(Pl=!1,Gl(e));break;case 4:r=Kl,Kl=zh(e.stateNode.containerInfo),Bl(t,e),Wl(e),Kl=r;break;case 12:default:Bl(t,e),Wl(e);break;case 31:case 19:Bl(t,e),Wl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ql(e,r)));break;case 13:Bl(t,e),Wl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(xu=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ql(e,r)));break;case 22:i=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=Nl,h=Dl;if(Nl=c||i,Dl=h||u,Bl(t,e),Dl=h,Nl=c,Wl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||u||Nl||Dl||Yl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(s=u.stateNode,i)"function"===typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var d=u.memoizedProps.style,f=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(m){Sc(u,u.return,m)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=i?"":u.memoizedProps}catch(m){Sc(u,u.return,m)}}}else if(18===t.tag){if(null===n){u=t;try{var p=u.stateNode;i?Ah(p,!0):Ah(u.stateNode,!1)}catch(m){Sc(u,u.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,ql(e,n))));case 30:case 21:}}function Wl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(Il(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode;Cl(e,Tl(e),i);break;case 5:var s=n.stateNode;32&n.flags&&(It(s,""),n.flags&=-33),Cl(e,Tl(e),s);break;case 3:case 4:var a=n.stateNode.containerInfo;El(e,Tl(e),a);break;default:throw Error(o(161))}}catch(l){Sc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Gl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Gl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ql(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ol(e,t.alternate,t),t=t.sibling}function Yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:yl(4,t,t.return),Yl(t);break;case 1:kl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&wl(t,t.return,n),Yl(t);break;case 27:Uh(t.stateNode);case 26:case 5:kl(t,t.return),Yl(t);break;case 22:null===t.memoizedState&&Yl(t);break;default:Yl(t)}e=e.sibling}}function $l(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,o=s.flags;switch(s.tag){case 0:case 11:case 15:$l(i,s,n),gl(4,s);break;case 1:if($l(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(u){Sc(r,r.return,u)}if(null!==(i=(r=s).updateQueue)){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Ts(l[i],a)}catch(u){Sc(r,r.return,u)}}n&&64&o&&vl(s),bl(s,s.return);break;case 27:Al(s);case 26:case 5:$l(i,s,n),n&&null===r&&4&o&&_l(s),bl(s,s.return);break;case 12:$l(i,s,n);break;case 31:$l(i,s,n),n&&4&o&&jl(i,s);break;case 13:$l(i,s,n),n&&4&o&&zl(i,s);break;case 22:null===s.memoizedState&&$l(i,s,n),bl(s,s.return);break;case 30:break;default:$l(i,s,n)}t=t.sibling}}function Jl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&ji(n))}function Xl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&ji(e))}function Zl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)eu(e,t,n,r),t=t.sibling}function eu(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Zl(e,t,n,r),2048&i&&gl(9,t);break;case 1:case 31:case 13:default:Zl(e,t,n,r);break;case 3:Zl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&ji(e)));break;case 12:if(2048&i){Zl(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,o=s.id,a=s.onPostCommit;"function"===typeof a&&a(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Sc(t,t.return,l)}}else Zl(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,o=t.alternate,null!==t.memoizedState?2&s._visibility?Zl(e,t,n,r):nu(e,t):2&s._visibility?Zl(e,t,n,r):(s._visibility|=2,tu(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&i&&Jl(o,t);break;case 24:Zl(e,t,n,r),2048&i&&Xl(t.alternate,t)}}function tu(e,t,n,r,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,o=t,a=n,l=r,u=o.flags;switch(o.tag){case 0:case 11:case 15:tu(s,o,a,l,i),gl(8,o);break;case 23:break;case 22:var c=o.stateNode;null!==o.memoizedState?2&c._visibility?tu(s,o,a,l,i):nu(s,o):(c._visibility|=2,tu(s,o,a,l,i)),i&&2048&u&&Jl(o.alternate,o);break;case 24:tu(s,o,a,l,i),i&&2048&u&&Xl(o.alternate,o);break;default:tu(s,o,a,l,i)}t=t.sibling}}function nu(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:nu(n,r),2048&i&&Jl(r.alternate,r);break;case 24:nu(n,r),2048&i&&Xl(r.alternate,r);break;default:nu(n,r)}t=t.sibling}}var ru=8192;function iu(e,t,n){if(e.subtreeFlags&ru)for(e=e.child;null!==e;)su(e,t,n),e=e.sibling}function su(e,t,n){switch(e.tag){case 26:iu(e,t,n),e.flags&ru&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var i=Wh(r.href),s=t.querySelector(Gh(i));if(s)return null!==(t=s._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=od.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,void et(s);s=t.ownerDocument||t,r=Qh(r),(i=Vh.get(i))&&Zh(r,i),et(s=s.createElement("link"));var o=s;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),dh(s,"link",r),n.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=od.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Kl,e.memoizedState,e.memoizedProps);break;case 5:default:iu(e,t,n);break;case 3:case 4:var r=Kl;Kl=zh(e.stateNode.containerInfo),iu(e,t,n),Kl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=ru,ru=16777216,iu(e,t,n),ru=r):iu(e,t,n))}}function ou(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function au(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Rl=r,cu(r,e)}ou(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)lu(e),e=e.sibling}function lu(e){switch(e.tag){case 0:case 11:case 15:au(e),2048&e.flags&&yl(9,e,e.return);break;case 3:case 12:default:au(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,uu(e)):au(e)}}function uu(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Rl=r,cu(r,e)}ou(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:yl(8,t,t.return),uu(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,uu(t));break;default:uu(t)}e=e.sibling}}function cu(e,t){for(;null!==Rl;){var n=Rl;switch(n.tag){case 0:case 11:case 15:yl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:ji(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Rl=r;else e:for(n=e;null!==Rl;){var i=(r=Rl).sibling,s=r.return;if(Ll(r),r===n){Rl=null;break e}if(null!==i){i.return=s,Rl=i;break e}Rl=s}}}var hu={getCacheForType:function(e){var t=xi(Ui),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return xi(Ui).controller.signal}},du="function"===typeof WeakMap?WeakMap:Map,fu=0,pu=null,mu=null,gu=0,yu=0,vu=null,wu=!1,bu=!1,ku=!1,_u=0,Su=0,Iu=0,Tu=0,Eu=0,Cu=0,Au=0,Nu=null,Du=null,Pu=!1,xu=0,Ru=0,Ou=1/0,Lu=null,Mu=null,Fu=0,Uu=null,Vu=null,ju=0,zu=0,qu=null,Bu=null,Ku=0,Hu=null;function Wu(){return 0!==(2&fu)&&0!==gu?gu&-gu:null!==O.T?qc():Ue()}function Gu(){if(0===Cu)if(0===(536870912&gu)||hi){var e=Ie;0===(3932160&(Ie<<=1))&&(Ie=262144),Cu=e}else Cu=536870912;return null!==(e=xs.current)&&(e.flags|=32),Cu}function Qu(e,t,n){(e!==pu||2!==yu&&9!==yu)&&null===e.cancelPendingCommit||(tc(e,0),Xu(e,gu,Cu,!1)),xe(e,n),0!==(2&fu)&&e===pu||(e===pu&&(0===(2&fu)&&(Tu|=n),4===Su&&Xu(e,gu,Cu,!1)),Lc(e))}function Yu(e,t,n){if(0!==(6&fu))throw Error(o(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Ae(e,t),i=r?function(e,t){var n=fu;fu|=2;var r=ic(),i=sc();pu!==e||gu!==t?(Lu=null,Ou=le()+500,tc(e,t)):bu=Ae(e,t);e:for(;;)try{if(0!==yu&&null!==mu){t=mu;var s=vu;t:switch(yu){case 1:yu=0,vu=null,dc(e,t,s,1);break;case 2:case 9:if(ts(s)){yu=0,vu=null,hc(t);break}t=function(){2!==yu&&9!==yu||pu!==e||(yu=7),Lc(e)},s.then(t,t);break e;case 3:yu=7;break e;case 4:yu=5;break e;case 7:ts(s)?(yu=0,vu=null,hc(t)):(yu=0,vu=null,dc(e,t,s,7));break;case 5:var a=null;switch(mu.tag){case 26:a=mu.memoizedState;case 5:case 27:var l=mu;if(a?id(a):l.stateNode.complete){yu=0,vu=null;var u=l.sibling;if(null!==u)mu=u;else{var c=l.return;null!==c?(mu=c,fc(c)):mu=null}break t}}yu=0,vu=null,dc(e,t,s,5);break;case 6:yu=0,vu=null,dc(e,t,s,6);break;case 8:ec(),Su=6;break e;default:throw Error(o(462))}}uc();break}catch(h){nc(e,h)}return Ii=Si=null,O.H=r,O.A=i,fu=n,null!==mu?0:(pu=null,gu=0,Dr(),Su)}(e,t):ac(e,t,!0),s=r;;){if(0===i){bu&&!r&&Xu(e,t,0,!1);break}if(n=e.current.alternate,!s||Ju(n)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;i=Nu;var u=l.current.memoizedState.isDehydrated;if(u&&(tc(l,a).flags|=256),2!==(a=ac(l,a,!1))){if(ku&&!u){l.errorRecoveryDisabledLanes|=s,Tu|=s,i=4;break e}s=Du,Du=i,null!==s&&(null===Du?Du=s:Du.push.apply(Du,s))}i=a}if(s=!1,2!==i)continue}}if(1===i){tc(e,0),Xu(e,t,0,!0);break}e:{switch(r=e,s=i){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Xu(r,t,Cu,!wu);break e;case 2:Du=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(i=xu+300-le())){if(Xu(r,t,Cu,!wu),0!==Ce(r,0,!0))break e;ju=t,r.timeoutHandle=kh($u.bind(null,r,n,Du,Lu,Pu,t,Cu,Tu,Au,wu,s,"Throttled",-0,0),i)}else $u(r,n,Du,Lu,Pu,t,Cu,Tu,Au,wu,s,null,-0,0)}break}i=ac(e,t,!1),s=!1}Lc(e)}function $u(e,t,n,r,i,s,o,a,l,u,c,h,d,f){if(e.timeoutHandle=-1,8192&(h=t.subtreeFlags)||16785408===(16785408&h)){su(t,s,h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xt});var p=(62914560&s)===s?xu-le():(4194048&s)===s?Ru-le():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&ld(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ld(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===sd&&(sd=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],s=i.transferSize,o=i.initiatorType,a=i.duration;if(s&&a&&fh(o)){for(o=0,a=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>a)break;var c=l.transferSize,h=l.initiatorType;c&&fh(h)&&(o+=c*((l=l.responseEnd)<a?1:(a-u)/(l-u)))}if(--r,t+=8*(s+o)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ld(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>sd?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(h,p)))return ju=s,e.cancelPendingCommit=p(mc.bind(null,e,t,s,n,r,i,o,a,l,c,h,null,d,f)),void Xu(e,s,o,!u)}mc(e,t,s,n,r,i,o,a,l)}function Ju(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Xn(s(),i))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xu(e,t,n,r){t&=~Eu,t&=~Tu,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-be(i),o=1<<s;r[s]=-1,i&=~o}0!==n&&Re(e,n,t)}function Zu(){return 0!==(6&fu)||(Mc(0,!1),!1)}function ec(){if(null!==mu){if(0===yu)var e=mu.return;else Ii=Si=null,oo(e=mu),as=null,ls=0,e=mu;for(;null!==e;)ml(e.alternate,e),e=e.return;mu=null}}function tc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,_h(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),ju=0,ec(),pu=e,mu=n=jr(e.current,null),gu=t,yu=0,vu=null,wu=!1,bu=Ae(e,t),ku=!1,Au=Cu=Eu=Tu=Iu=Su=0,Du=Nu=null,Pu=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-be(r),s=1<<i;t|=e[i],r&=~s}return _u=t,Dr(),n}function nc(e,t){qs=null,O.H=ma,t===Ji||t===Zi?(t=ss(),yu=3):t===Xi?(t=ss(),yu=4):yu=t===xa?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,vu=t,null===mu&&(Su=1,Ca(e,Qr(t,e.current)))}function rc(){var e=xs.current;return null===e||((4194048&gu)===gu?null===Rs:((62914560&gu)===gu||0!==(536870912&gu))&&e===Rs)}function ic(){var e=O.H;return O.H=ma,null===e?ma:e}function sc(){var e=O.A;return O.A=hu,e}function oc(){Su=4,wu||(4194048&gu)!==gu&&null!==xs.current||(bu=!0),0===(134217727&Iu)&&0===(134217727&Tu)||null===pu||Xu(pu,gu,Cu,!1)}function ac(e,t,n){var r=fu;fu|=2;var i=ic(),s=sc();pu===e&&gu===t||(Lu=null,tc(e,t)),t=!1;var o=Su;e:for(;;)try{if(0!==yu&&null!==mu){var a=mu,l=vu;switch(yu){case 8:ec(),o=6;break e;case 3:case 2:case 9:case 6:null===xs.current&&(t=!0);var u=yu;if(yu=0,vu=null,dc(e,a,l,u),n&&bu){o=0;break e}break;default:u=yu,yu=0,vu=null,dc(e,a,l,u)}}lc(),o=Su;break}catch(c){nc(e,c)}return t&&e.shellSuspendCounter++,Ii=Si=null,fu=r,O.H=i,O.A=s,null===mu&&(pu=null,gu=0,Dr()),o}function lc(){for(;null!==mu;)cc(mu)}function uc(){for(;null!==mu&&!oe();)cc(mu)}function cc(e){var t=ol(e.alternate,e,_u);e.memoizedProps=e.pendingProps,null===t?fc(e):mu=t}function hc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ha(n,t,t.pendingProps,t.type,void 0,gu);break;case 11:t=Ha(n,t,t.pendingProps,t.type.render,t.ref,gu);break;case 5:oo(t);default:ml(n,t),t=ol(n,t=mu=zr(t,_u),_u)}e.memoizedProps=e.pendingProps,null===t?fc(e):mu=t}function dc(e,t,n,r){Ii=Si=null,oo(t),as=null,ls=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ni(t,n,i,!0),null!==(n=xs.current)){switch(n.tag){case 31:case 13:return null===Rs?oc():null===n.alternate&&0===Su&&(Su=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===es?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Ic(e,r,i)),!1;case 22:return n.flags|=65536,r===es?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Ic(e,r,i)),!1}throw Error(o(435,n.tag))}return Ic(e,r,i),oc(),!1}if(hi)return null!==(t=xs.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==pi&&ki(Qr(e=Error(o(422),{cause:r}),n))):(r!==pi&&ki(Qr(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Qr(r,n),ks(e,i=Na(e.stateNode,r,i)),4!==Su&&(Su=2)),!1;var s=Error(o(520),{cause:r});if(s=Qr(s,n),null===Nu?Nu=[s]:Nu.push(s),4!==Su&&(Su=2),null===t)return!0;r=Qr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,ks(n,e=Na(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Mu||!Mu.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,Pa(i=Da(i),e,n,r),ks(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,gu))return Su=1,Ca(e,Qr(n,e.current)),void(mu=null)}catch(s){if(null!==i)throw mu=i,s;return Su=1,Ca(e,Qr(n,e.current)),void(mu=null)}32768&t.flags?(hi||1===r?e=!0:bu||0!==(536870912&gu)?e=!1:(wu=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=xs.current)&&13===r.tag&&(r.flags|=16384))),pc(t,e)):fc(t)}function fc(e){var t=e;do{if(0!==(32768&t.flags))return void pc(t,wu);e=t.return;var n=fl(t.alternate,t,_u);if(null!==n)return void(mu=n);if(null!==(t=t.sibling))return void(mu=t);mu=t=e}while(null!==t);0===Su&&(Su=5)}function pc(e,t){do{var n=pl(e.alternate,e);if(null!==n)return n.flags&=32767,void(mu=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(mu=e);mu=e=n}while(null!==e);Su=6,mu=null}function mc(e,t,n,r,i,s,a,l,u){e.cancelPendingCommit=null;do{bc()}while(0!==Fu);if(0!==(6&fu))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,i,s){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=o&~n;0<n;){var c=31-be(n),h=1<<c;a[c]=0,l[c]=-1;var d=u[c];if(null!==d)for(u[c]=null,c=0;c<d.length;c++){var f=d[c];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&Re(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(o&~t))}(e,n,s|=Nr,a,l,u),e===pu&&(mu=pu=null,gu=0),Vu=t,Uu=e,ju=n,zu=s,qu=i,Bu=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(de,function(){return kc(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=O.T,O.T=null,i=L.p,L.p=2,a=fu,fu|=4;try{!function(e,t){if(e=e.containerInfo,ph=wd,ir(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var a=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==s||0!==r&&3!==d.nodeType||(u=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=a),f===s&&++h===r&&(u=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(mh={focusedElem:e,selectionRange:n},wd=!1,Rl=t;null!==Rl;)if(e=(t=Rl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Rl=e;else for(;null!==Rl;){switch(s=(t=Rl).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=Sa(n.type,i);e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){Sc(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Nh(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Nh(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,Rl=e;break}Rl=t.return}}(e,t)}finally{fu=a,L.p=i,O.T=r}}Fu=1,gc(),yc(),vc()}}function gc(){if(1===Fu){Fu=0;var e=Uu,t=Vu,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=O.T,O.T=null;var r=L.p;L.p=2;var i=fu;fu|=4;try{Hl(t,e);var s=mh,o=rr(e.containerInfo),a=s.focusedElem,l=s.selectionRange;if(o!==a&&a&&a.ownerDocument&&nr(a.ownerDocument.documentElement,a)){if(null!==l&&ir(a)){var u=l.start,c=l.end;if(void 0===c&&(c=u),"selectionStart"in a)a.selectionStart=u,a.selectionEnd=Math.min(c,a.value.length);else{var h=a.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=a.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(o=g,g=m,m=o);var y=tr(a,m),v=tr(a,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var w=h.createRange();w.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(w),f.extend(v.node,v.offset)):(w.setEnd(v.node,v.offset),f.addRange(w))}}}}for(h=[],f=a;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<h.length;a++){var b=h[a];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}wd=!!ph,mh=ph=null}finally{fu=i,L.p=r,O.T=n}}e.current=t,Fu=2}}function yc(){if(2===Fu){Fu=0;var e=Uu,t=Vu,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=O.T,O.T=null;var r=L.p;L.p=2;var i=fu;fu|=4;try{Ol(e,t.alternate,t)}finally{fu=i,L.p=r,O.T=n}}Fu=3}}function vc(){if(4===Fu||3===Fu){Fu=0,ae();var e=Uu,t=Vu,n=ju,r=Bu;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Fu=5:(Fu=0,Vu=Uu=null,wc(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Mu=null),Fe(n),t=t.stateNode,ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ye,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=O.T,i=L.p,L.p=2,O.T=null;try{for(var s=e.onRecoverableError,o=0;o<r.length;o++){var a=r[o];s(a.value,{componentStack:a.stack})}}finally{O.T=t,L.p=i}}0!==(3&ju)&&bc(),Lc(e),i=e.pendingLanes,0!==(261930&n)&&0!==(42&i)?e===Hu?Ku++:(Ku=0,Hu=e):Ku=0,Mc(0,!1)}}function wc(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,ji(t)))}function bc(){return gc(),yc(),vc(),kc()}function kc(){if(5!==Fu)return!1;var e=Uu,t=zu;zu=0;var n=Fe(ju),r=O.T,i=L.p;try{L.p=32>n?32:n,O.T=null,n=qu,qu=null;var s=Uu,a=ju;if(Fu=0,Vu=Uu=null,ju=0,0!==(6&fu))throw Error(o(331));var l=fu;if(fu|=4,lu(s.current),eu(s,s.current,a,n),fu=l,Mc(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ye,s)}catch(u){}return!0}finally{L.p=i,O.T=r,wc(e,t)}}function _c(e,t,n){t=Qr(n,t),null!==(e=ws(e,t=Na(e.stateNode,t,2),2))&&(xe(e,2),Lc(e))}function Sc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Mu||!Mu.has(r))){e=Qr(n,e),null!==(r=ws(t,n=Da(2),2))&&(Pa(n,r,t,e),xe(r,2),Lc(r));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(ku=!0,i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,pu===e&&(gu&n)===n&&(4===Su||3===Su&&(62914560&gu)===gu&&300>le()-xu?0===(2&fu)&&tc(e,0):Eu|=n,Au===gu&&(Au=0)),Lc(e)}function Ec(e,t){0===t&&(t=De()),null!==(e=Rr(e,t))&&(xe(e,t),Lc(e))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ec(e,n)}var Nc=null,Dc=null,Pc=!1,xc=!1,Rc=!1,Oc=0;function Lc(e){e!==Dc&&null===e.next&&(null===Dc?Nc=Dc=e:Dc=Dc.next=e),xc=!0,Pc||(Pc=!0,Ih(function(){0!==(6&fu)?ie(ce,Fc):Uc()}))}function Mc(e,t){if(!Rc&&xc){Rc=!0;do{for(var n=!1,r=Nc;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var o=r.suspendedLanes,a=r.pingedLanes;s=(1<<31-be(42|e)+1)-1,s=201326741&(s&=i&~(o&~a))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,zc(r,s))}else s=gu,0===(3&(s=Ce(r,r===pu?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ae(r,s)||(n=!0,zc(r,s));r=r.next}}while(n);Rc=!1}}function Fc(){Uc()}function Uc(){xc=Pc=!1;var e=0;0!==Oc&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==bh&&(bh=e,!0);return bh=null,!1}()&&(e=Oc);for(var t=le(),n=null,r=Nc;null!==r;){var i=r.next,s=Vc(r,t);0===s?(r.next=null,null===n?Nc=i:n.next=i,null===i&&(Dc=n)):(n=r,(0!==e||0!==(3&s))&&(xc=!0)),r=i}0!==Fu&&5!==Fu||Mc(e,!1),0!==Oc&&(Oc=0)}function Vc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var o=31-be(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=Ne(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}if(n=gu,n=Ce(e,e===(t=pu)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===yu||9===yu)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ae(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),Fe(n)){case 2:case 8:n=he;break;case 32:default:n=de;break;case 268435456:n=pe}return r=jc.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function jc(e,t){if(0!==Fu&&5!==Fu)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(bc()&&e.callbackNode!==n)return null;var r=gu;return 0===(r=Ce(e,e===pu?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Yu(e,r,t),Vc(e,le()),null!=e.callbackNode&&e.callbackNode===n?jc.bind(null,e):null)}function zc(e,t){if(bc())return null;Yu(e,t,!0)}function qc(){if(0===Oc){var e=Bi;0===e&&(e=Se,0===(261888&(Se<<=1))&&(Se=256)),Oc=e}return Oc}function Bc(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Kc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Hc=0;Hc<Ir.length;Hc++){var Wc=Ir[Hc];Tr(Wc.toLowerCase(),"on"+(Wc[0].toUpperCase()+Wc.slice(1)))}Tr(gr,"onAnimationEnd"),Tr(yr,"onAnimationIteration"),Tr(vr,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(wr,"onTransitionRun"),Tr(br,"onTransitionStart"),Tr(kr,"onTransitionCancel"),Tr(_r,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gc));function Yc(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=u;try{s(i)}catch(c){Er(c)}i.currentTarget=null,s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=u;try{s(i)}catch(c){Er(c)}i.currentTarget=null,s=l}}}}function $c(e,t){var n=t[Ke];void 0===n&&(n=t[Ke]=new Set);var r=e+"__bubble";n.has(r)||(eh(t,e,2,!1),n.add(r))}function Jc(e,t,n){var r=0;t&&(r|=4),eh(n,e,r,t)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function Zc(e){if(!e[Xc]){e[Xc]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Qc.has(t)||Jc(t,!1,e),Jc(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Xc]||(t[Xc]=!0,Jc("selectionchange",!1,t))}}function eh(e,t,n,r){switch(Ed(t)){case 2:var i=bd;break;case 8:i=kd;break;default:i=_d}n=i.bind(null,t,n,e),i=void 0,!qt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function th(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==a;){if(null===(o=$e(a)))return;if(5===(u=o.tag)||6===u||26===u||27===u){r=s=o;continue e}a=a.parentNode}}r=r.return}Vt(function(){var r=s,i=Ot(n),o=[];e:{var a=Sr.get(e);if(void 0!==a){var u=nn,c=e;switch(e){case"keypress":if(0===Qt(n))break e;case"keydown":case"keyup":u=vn;break;case"focusin":c="focus",u=un;break;case"focusout":c="blur",u=un;break;case"beforeblur":case"afterblur":u=un;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=bn;break;case gr:case yr:case vr:u=cn;break;case _r:u=kn;break;case"scroll":case"scrollend":u=sn;break;case"wheel":u=_n;break;case"copy":case"cut":case"paste":u=hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=wn;break;case"toggle":case"beforetoggle":u=Sn}var h=0!==(4&t),d=!h&&("scroll"===e||"scrollend"===e),f=h?null!==a?a+"Capture":null:a;h=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=jt(m,f))&&h.push(nh(m,g,p)),d)break;m=m.return}0<h.length&&(a=new u(a,c,null,n,i),o.push({event:a,listeners:h}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Rt||!(c=n.relatedTarget||n.fromElement)||!$e(c)&&!c[Be])&&(u||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?$e(c):null)&&(d=l(c),h=c.tag,c!==d||5!==h&&27!==h&&6!==h)&&(c=null)):(u=null,c=r),u!==c)){if(h=an,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(h=wn,g="onPointerLeave",f="onPointerEnter",m="pointer"),d=null==u?a:Xe(u),p=null==c?a:Xe(c),(a=new h(g,m+"leave",u,n,i)).target=d,a.relatedTarget=p,g=null,$e(i)===r&&((h=new h(f,m+"enter",c,n,i)).target=p,h.relatedTarget=d,g=h),d=g,u&&c)e:{for(h=ih,m=c,p=0,g=f=u;g;g=h(g))p++;g=0;for(var y=m;y;y=h(y))g++;for(;0<p-g;)f=h(f),p--;for(;0<g-p;)m=h(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){h=f;break e}f=h(f),m=h(m)}h=null}else h=null;null!==u&&sh(o,a,u,h,!1),null!==c&&null!==d&&sh(o,d,c,h,!0)}if("select"===(u=(a=r?Xe(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===u&&"file"===a.type)var v=zn;else if(Ln(a))if(qn)v=Jn;else{v=Yn;var w=Qn}else!(u=a.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&At(r.elementType)&&(v=zn):v=$n;switch(v&&(v=v(e,r))?Mn(o,v,n,i):(w&&w(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&bt(a,"number",a.value)),w=r?Xe(r):window,e){case"focusin":(Ln(w)||"true"===w.contentEditable)&&(or=w,ar=r,lr=null);break;case"focusout":lr=ar=or=null;break;case"mousedown":ur=!0;break;case"contextmenu":case"mouseup":case"dragend":ur=!1,cr(o,n,i);break;case"selectionchange":if(sr)break;case"keydown":case"keyup":cr(o,n,i)}var b;if(Tn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Rn?Pn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(An&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Rn&&(b=Gt()):(Ht="value"in(Kt=i)?Kt.value:Kt.textContent,Rn=!0)),0<(w=rh(r,k)).length&&(k=new dn(k,e,null,n,i),o.push({event:k,listeners:w}),b?k.data=b:null!==(b=xn(n))&&(k.data=b))),(b=Cn?function(e,t){switch(e){case"compositionend":return xn(t);case"keypress":return 32!==t.which?null:(Dn=!0,Nn);case"textInput":return(e=t.data)===Nn&&Dn?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!Tn&&Pn(e,t)?(e=Gt(),Wt=Ht=Kt=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return An&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(k=rh(r,"onBeforeInput")).length&&(w=new dn("onBeforeInput","beforeinput",null,n,i),o.push({event:w,listeners:k}),w.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=Bc((i[qe]||null).action),o=r.submitter;o&&null!==(t=(t=o[qe]||null)?Bc(t.formAction):o.getAttribute("formAction"))&&(s=t,o=null);var a=new nn("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Oc){var e=o?Kc(i,o):new FormData(i);ta(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(a.preventDefault(),e=o?Kc(i,o):new FormData(i),ta(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(o,e,r,n,i)}Yc(o,t)})}function nh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rh(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=jt(e,n))&&r.unshift(nh(e,i,s)),null!=(i=jt(e,t))&&r.push(nh(e,i,s))),3===e.tag)return r;e=e.return}return[]}function ih(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function sh(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===u||(l=u,i?null!=(u=jt(n,s))&&o.unshift(nh(n,u,l)):i||null!=(u=jt(n,s))&&o.push(nh(n,u,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var oh=/\r\n?/g,ah=/\u0000|\uFFFD/g;function lh(e){return("string"===typeof e?e:""+e).replace(oh,"\n").replace(ah,"")}function uh(e,t){return t=lh(t),lh(e)===t}function ch(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||It(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&It(e,""+r);break;case"className":ut(e,"class",r);break;case"tabIndex":ut(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ut(e,n,r);break;case"style":Ct(e,r,s);break;case"data":if("object"!==t){ut(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&ch(e,t,"name",i.name,i,null),ch(e,t,"formEncType",i.formEncType,i,null),ch(e,t,"formMethod",i.formMethod,i,null),ch(e,t,"formTarget",i.formTarget,i,null)):(ch(e,t,"encType",i.encType,i,null),ch(e,t,"method",i.method,i,null),ch(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=xt);break;case"onScroll":null!=r&&$c("scroll",e);break;case"onScrollEnd":null!=r&&$c("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Pt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":$c("beforetoggle",e),$c("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ct(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ct(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ct(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ct(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ct(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ct(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ct(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ct(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ct(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=Nt.get(n)||n,r)}}function hh(e,t,n,r,i,s){switch(n){case"style":Ct(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?It(e,r):("number"===typeof r||"bigint"===typeof r)&&It(e,""+r);break;case"onScroll":null!=r&&$c("scroll",e);break;case"onScrollEnd":null!=r&&$c("scrollend",e);break;case"onClick":null!=r&&(e.onclick=xt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[qe]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function dh(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$c("error",e),$c("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ch(e,t,r,a,n,null)}}return s&&ch(e,t,"srcSet",n.srcSet,n,null),void(i&&ch(e,t,"src",n.src,n,null));case"input":$c("invalid",e);var l=r=a=s=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":s=h;break;case"type":a=h;break;case"checked":u=h;break;case"defaultChecked":c=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(o(137,t));break;default:ch(e,t,i,h,n,null)}}return void wt(e,r,l,u,c,a,s,!1);case"select":for(s in $c("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:ch(e,t,s,l,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?kt(e,!!i,t,!1):null!=n&&kt(e,!!i,n,!0));case"textarea":for(a in $c("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:ch(e,t,a,l,n,null)}return void St(e,i,s,r);case"option":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))if("selected"===u)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else ch(e,t,u,i,n,null);return;case"dialog":$c("beforetoggle",e),$c("toggle",e),$c("cancel",e),$c("close",e);break;case"iframe":case"object":$c("load",e);break;case"video":case"audio":for(i=0;i<Gc.length;i++)$c(Gc[i],e);break;case"image":$c("error",e),$c("load",e);break;case"details":$c("toggle",e);break;case"embed":case"source":case"link":$c("error",e),$c("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ch(e,t,c,i,n,null)}return;default:if(At(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&hh(e,t,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&ch(e,t,l,i,n,null))}function fh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var ph=null,mh=null;function gh(e){return 9===e.nodeType?e:e.ownerDocument}function yh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function wh(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bh=null;var kh="function"===typeof setTimeout?setTimeout:void 0,_h="function"===typeof clearTimeout?clearTimeout:void 0,Sh="function"===typeof Promise?Promise:void 0,Ih="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Sh?function(e){return Sh.resolve(null).then(e).catch(Th)}:kh;function Th(e){setTimeout(function(){throw e})}function Eh(e){return"head"===e}function Ch(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Kd(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Uh(e.ownerDocument.documentElement);else if("head"===n){Uh(n=e.ownerDocument.head);for(var s=n.firstChild;s;){var o=s.nextSibling,a=s.nodeName;s[Qe]||"SCRIPT"===a||"STYLE"===a||"LINK"===a&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}else"body"===n&&Uh(e.ownerDocument.body);n=i}while(n);Kd(t)}function Ah(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Nh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Nh(n),Ye(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Dh(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Rh(e.nextSibling)))return null}return e}function Ph(e){return"$?"===e.data||"$~"===e.data}function xh(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Rh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Oh=null;function Lh(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Rh(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Mh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Fh(e,t,n){switch(t=gh(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function Uh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ye(e)}var Vh=new Map,jh=new Set;function zh(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var qh=L.d;L.d={f:function(){var e=qh.f(),t=Zu();return e||t},r:function(e){var t=Je(e);null!==t&&5===t.tag&&"form"===t.type?ra(t):qh.r(e)},D:function(e){qh.D(e),Kh("dns-prefetch",e,null)},C:function(e,t){qh.C(e,t),Kh("preconnect",e,t)},L:function(e,t,n){qh.L(e,t,n);var r=Bh;if(r&&e&&t){var i='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+yt(n.imageSizes)+'"]')):i+='[href="'+yt(e)+'"]';var s=i;switch(t){case"style":s=Wh(e);break;case"script":s=Yh(e)}Vh.has(s)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Vh.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Gh(s))||"script"===t&&r.querySelector($h(s))||(dh(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){qh.m(e,t);var n=Bh;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Yh(e)}if(!Vh.has(s)&&(e=f({rel:"modulepreload",href:e},t),Vh.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector($h(s)))return}dh(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){qh.X(e,t);var n=Bh;if(n&&e){var r=Ze(n).hoistableScripts,i=Yh(e),s=r.get(i);s||((s=n.querySelector($h(i)))||(e=f({src:e,async:!0},t),(t=Vh.get(i))&&ed(e,t),et(s=n.createElement("script")),dh(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){qh.S(e,t,n);var r=Bh;if(r&&e){var i=Ze(r).hoistableStyles,s=Wh(e);t=t||"default";var o=i.get(s);if(!o){var a={loading:0,preload:null};if(o=r.querySelector(Gh(s)))a.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Vh.get(s))&&Zh(e,n);var l=o=r.createElement("link");et(l),dh(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Xh(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:a},i.set(s,o)}}},M:function(e,t){qh.M(e,t);var n=Bh;if(n&&e){var r=Ze(n).hoistableScripts,i=Yh(e),s=r.get(i);s||((s=n.querySelector($h(i)))||(e=f({src:e,async:!0,type:"module"},t),(t=Vh.get(i))&&ed(e,t),et(s=n.createElement("script")),dh(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var Bh="undefined"===typeof document?null:document;function Kh(e,t,n){var r=Bh;if(r&&"string"===typeof t&&t){var i=yt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),jh.has(i)||(jh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(dh(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Hh(e,t,n,r){var i,s,a,l,u=(u=W.current)?zh(u):null;if(!u)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Wh(n.href),(r=(n=Ze(u).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Wh(n.href);var c=Ze(u).hoistableStyles,h=c.get(e);if(h||(u=u.ownerDocument||u,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,h),(c=u.querySelector(Gh(e)))&&!c._p&&(h.instance=c,h.state.loading=5),Vh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Vh.set(e,n),c||(i=u,s=e,a=n,l=h.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),dh(s,"link",a),et(s),i.head.appendChild(s))))),t&&null===r)throw Error(o(528,""));return h}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Yh(n),(r=(n=Ze(u).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Wh(e){return'href="'+yt(e)+'"'}function Gh(e){return'link[rel="stylesheet"]['+e+"]"}function Qh(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Yh(e){return'[src="'+yt(e)+'"]'}function $h(e){return"script[async]"+e}function Jh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var i=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),dh(r,"style",i),Xh(r,n.precedence,e),t.instance=r;case"stylesheet":i=Wh(n.href);var s=e.querySelector(Gh(i));if(s)return t.state.loading|=4,t.instance=s,et(s),s;r=Qh(n),(i=Vh.get(i))&&Zh(r,i),et(s=(e.ownerDocument||e).createElement("link"));var a=s;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),dh(s,"link",r),t.state.loading|=4,Xh(s,n.precedence,e),t.instance=s;case"script":return s=Yh(n.src),(i=e.querySelector($h(s)))?(t.instance=i,et(i),i):(r=n,(i=Vh.get(s))&&ed(r=f({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),dh(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Xh(r,n.precedence,e));return t.instance}function Xh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,o=0;o<r.length;o++){var a=r[o];if(a.dataset.precedence===t)s=a;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Zh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function ed(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var td=null;function nd(e,t,n){if(null===td){var r=new Map,i=td=new Map;i.set(n,r)}else(r=(i=td).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Qe]||s[ze]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var o=s.getAttribute(t)||"";o=e+o;var a=r.get(o);a?a.push(s):r.set(o,[s])}}return r}function rd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function id(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var sd=0;function od(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ld(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var ad=null;function ld(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,ad=new Map,t.forEach(ud,e),ad=null,od.call(e))}function ud(e,t){if(!(4&t.state.loading)){var n=ad.get(e);if(n)var r=n.get(null);else{n=new Map,ad.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var o=i[s];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(s=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=od.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var cd={$$typeof:k,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function hd(e,t,n,r,i,s,o,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function dd(e,t,n,r,i,s,o,a,l,u,c,h){return e=new hd(e,t,n,o,l,u,c,h,a),t=1,!0===s&&(t|=24),s=Ur(3,null,null,t),e.current=s,s.stateNode=e,(t=Vi()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},gs(s),e}function fd(e){return e?e=Mr:Mr}function pd(e,t,n,r,i,s){i=fd(i),null===r.context?r.context=i:r.pendingContext=i,(r=vs(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=ws(e,r,t))&&(Qu(n,0,t),bs(n,e,t))}function md(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function gd(e,t){md(e,t),(e=e.alternate)&&md(e,t)}function yd(e){if(13===e.tag||31===e.tag){var t=Rr(e,67108864);null!==t&&Qu(t,0,67108864),gd(e,67108864)}}function vd(e){if(13===e.tag||31===e.tag){var t=Wu(),n=Rr(e,t=Me(t));null!==n&&Qu(n,0,t),gd(e,t)}}var wd=!0;function bd(e,t,n,r){var i=O.T;O.T=null;var s=L.p;try{L.p=2,_d(e,t,n,r)}finally{L.p=s,O.T=i}}function kd(e,t,n,r){var i=O.T;O.T=null;var s=L.p;try{L.p=8,_d(e,t,n,r)}finally{L.p=s,O.T=i}}function _d(e,t,n,r){if(wd){var i=Sd(r);if(null===i)th(e,t,r,Id,n),Ld(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ad=Md(Ad,e,t,n,r,i),!0;case"dragenter":return Nd=Md(Nd,e,t,n,r,i),!0;case"mouseover":return Dd=Md(Dd,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pd.set(s,Md(Pd.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,xd.set(s,Md(xd.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ld(e,r),4&t&&-1<Od.indexOf(e)){for(;null!==i;){var s=Je(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var o=Ee(s.pendingLanes);if(0!==o){var a=s;for(a.pendingLanes|=2,a.entangledLanes|=2;o;){var l=1<<31-be(o);a.entanglements[1]|=l,o&=~l}Lc(s),0===(6&fu)&&(Ou=le()+500,Mc(0,!1))}}break;case 31:case 13:null!==(a=Rr(s,2))&&Qu(a,0,2),Zu(),gd(s,2)}if(null===(s=Sd(r))&&th(e,t,r,Id,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else th(e,t,r,null,n)}}function Sd(e){return Td(e=Ot(e))}var Id=null;function Td(e){if(Id=null,null!==(e=$e(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=u(t)))return e;e=null}else if(31===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Id=e,null}function Ed(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ue()){case ce:return 2;case he:return 8;case de:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Cd=!1,Ad=null,Nd=null,Dd=null,Pd=new Map,xd=new Map,Rd=[],Od="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ld(e,t){switch(e){case"focusin":case"focusout":Ad=null;break;case"dragenter":case"dragleave":Nd=null;break;case"mouseover":case"mouseout":Dd=null;break;case"pointerover":case"pointerout":Pd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xd.delete(t.pointerId)}}function Md(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Je(t))&&yd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Fd(e){var t=$e(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=u(n)))return e.blockedOn=t,void Ve(e.priority,function(){vd(n)})}else if(31===t){if(null!==(t=c(n)))return e.blockedOn=t,void Ve(e.priority,function(){vd(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ud(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sd(e.nativeEvent);if(null!==n)return null!==(t=Je(n))&&yd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Rt=r,n.target.dispatchEvent(r),Rt=null,t.shift()}return!0}function Vd(e,t,n){Ud(e)&&n.delete(t)}function jd(){Cd=!1,null!==Ad&&Ud(Ad)&&(Ad=null),null!==Nd&&Ud(Nd)&&(Nd=null),null!==Dd&&Ud(Dd)&&(Dd=null),Pd.forEach(Vd),xd.forEach(Vd)}function zd(e,t){e.blockedOn===t&&(e.blockedOn=null,Cd||(Cd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,jd)))}var qd=null;function Bd(e){qd!==e&&(qd=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qd===e&&(qd=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Td(r||n))continue;break}var s=Je(n);null!==s&&(e.splice(t,3),t-=3,ta(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Kd(e){function t(t){return zd(t,e)}null!==Ad&&zd(Ad,e),null!==Nd&&zd(Nd,e),null!==Dd&&zd(Dd,e),Pd.forEach(t),xd.forEach(t);for(var n=0;n<Rd.length;n++){var r=Rd[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Rd.length&&null===(n=Rd[0]).blockedOn;)Fd(n),null===n.blockedOn&&Rd.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],o=i[qe]||null;if("function"===typeof s)o||Bd(n);else if(o){var a=null;if(s&&s.hasAttribute("formAction")){if(i=s,o=s[qe]||null)a=o.formAction;else if(null!==Td(i))continue}else a=o.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),Bd(n)}}}function Hd(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Wd(e){this._internalRoot=e}function Gd(e){this._internalRoot=e}Gd.prototype.render=Wd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));pd(t.current,Wu(),e,t,null,null)},Gd.prototype.unmount=Wd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;pd(e.current,2,null,e,null,null),Zu(),t[Be]=null}},Gd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ue();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rd.length&&0!==t&&t<Rd[n].priority;n++);Rd.splice(n,0,e),0===n&&Fd(e)}};var Qd=i.version;if("19.2.0"!==Qd)throw Error(o(527,Qd,"19.2.0"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return h(i),e;if(s===r)return h(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=s;break}if(u===r){a=!0,r=i,n=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===n){a=!0,n=s,r=i;break}if(u===r){a=!0,r=s,n=i;break}u=u.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Yd={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var $d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$d.isDisabled&&$d.supportsFiber)try{ye=$d.inject(Yd),ve=$d}catch(Xd){}}t.createRoot=function(e,t){if(!a(e))throw Error(o(299));var n=!1,r="",i=Ia,s=Ta,l=Ea;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=dd(e,1,!1,null,0,n,r,null,i,s,l,Hd),e[Be]=t.current,Zc(e),new Wd(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(o(299));var r=!1,i="",s=Ia,l=Ta,u=Ea,c=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.formState&&(c=n.formState)),(t=dd(e,1,!0,t,0,r,i,c,s,l,u,Hd)).context=fd(null),n=t.current,(i=vs(r=Me(r=Wu()))).callback=null,ws(n,i,r),n=r,t.current.lanes=n,xe(t,n),Lc(t),e[Be]=t.current,Zc(e),new Gd(t)},t.version="19.2.0"},43:(e,t,n)=>{"use strict";e.exports=n(288)},89:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function r(e,t,r){var i,s=new Promise(function(s,o){n(i=e[t].apply(e,r)).then(s,o)});return s.request=i,s}function i(e,t,n){var i=r(e,t,n);return i.then(function(e){if(e)return new c(e,i.request)})}function s(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function o(e,t,n,i){i.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})})}function a(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function l(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})})}function u(e){this._index=e}function c(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function d(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function f(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new d(n)}function p(e){this._db=e}function m(e,t,n){var i=r(indexedDB,"open",[e,t]),s=i.request;return s&&(s.onupgradeneeded=function(e){n&&n(new f(s.result,e.oldVersion,s.transaction))}),i.then(function(e){return new p(e)})}function g(e){return r(indexedDB,"deleteDatabase",[e])}s(u,"_index",["name","keyPath","multiEntry","unique"]),o(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),l(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),s(c,"_cursor",["direction","key","primaryKey","value"]),o(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(c.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then(function(e){if(e)return new c(e,t._request)})})})}),h.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},s(h,"_store",["name","keyPath","indexNames","autoIncrement"]),o(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),l(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},s(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},s(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},s(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[h,u].forEach(function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})}),[u,h].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(i){n.iterateCursor(e,function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)})})})}),e.openDb=m,e.deleteDb=g,Object.defineProperty(e,"__esModule",{value:!0})}(t)},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}function w(){}function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=v.prototype;var k=b.prototype=new w;k.constructor=b,g(k,v.prototype),k.isPureReactComponent=!0;var _=Array.isArray;function S(){}var I={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function E(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function D(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,u,c=!1;if(null===e)c=!0;else switch(a){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0;break;case d:return D((c=e._init)(e._payload),t,i,s,o)}}if(c)return o=o(e),c=""===s?"."+N(e,0):s,_(o)?(i="",null!=c&&(i=c.replace(A,"$&/")+"/"),D(o,t,i,"",function(e){return e})):null!=o&&(C(o)&&(l=o,u=i+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(A,"$&/")+"/")+c,o=E(l.type,u,l.props)),t.push(o)),1;c=0;var h,f=""===s?".":s+":";if(_(e))for(var m=0;m<e.length;m++)c+=D(s=e[m],t,i,a=f+N(s,m),o);else if("function"===typeof(m=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=p&&h[p]||h["@@iterator"])?h:null))for(e=m.call(e),m=0;!(s=e.next()).done;)c+=D(s=s.value,t,i,a=f+N(s,m++),o);else if("object"===a){if("function"===typeof e.then)return D(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(S,S):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function P(e,t,n){if(null==e)return e;var r=[],i=0;return D(e,r,"","",function(e){return t.call(n,e,i++)}),r}function x(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},O={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=O,t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return I.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.key&&(i=""+t.key),t)!T.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var o=Array(s),a=0;a<s;a++)o[a]=arguments[a+2];r.children=o}return E(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)T.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var a=Array(o),l=0;l<o;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return E(e,s,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:x}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.T,n={};I.T=n;try{var r=e(),i=I.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(S,R)}catch(s){R(s)}finally{null!==t&&null!==n.types&&(t.types=n.types),I.T=t}},t.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},t.use=function(e){return I.H.use(e)},t.useActionState=function(e,t,n){return I.H.useActionState(e,t,n)},t.useCallback=function(e,t){return I.H.useCallback(e,t)},t.useContext=function(e){return I.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return I.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return I.H.useEffect(e,t)},t.useEffectEvent=function(e){return I.H.useEffectEvent(e)},t.useId=function(){return I.H.useId()},t.useImperativeHandle=function(e,t,n){return I.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.H.useMemo(e,t)},t.useOptimistic=function(e,t){return I.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return I.H.useReducer(e,t,n)},t.useRef=function(e){return I.H.useRef(e)},t.useState=function(e){return I.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.H.useTransition()},t.version="19.2.0"},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},490:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function r(e,t,r){var i,s=new Promise(function(s,o){n(i=e[t].apply(e,r)).then(s,o)});return s.request=i,s}function i(e,t,n){var i=r(e,t,n);return i.then(function(e){if(e)return new c(e,i.request)})}function s(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function o(e,t,n,i){i.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})})}function a(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function l(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})})}function u(e){this._index=e}function c(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function d(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function f(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new d(n)}function p(e){this._db=e}function m(e,t,n){var i=r(indexedDB,"open",[e,t]),s=i.request;return s&&(s.onupgradeneeded=function(e){n&&n(new f(s.result,e.oldVersion,s.transaction))}),i.then(function(e){return new p(e)})}function g(e){return r(indexedDB,"deleteDatabase",[e])}s(u,"_index",["name","keyPath","multiEntry","unique"]),o(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),l(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),s(c,"_cursor",["direction","key","primaryKey","value"]),o(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(c.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then(function(e){if(e)return new c(e,t._request)})})})}),h.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},s(h,"_store",["name","keyPath","indexNames","autoIncrement"]),o(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),l(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},s(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},s(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},s(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[h,u].forEach(function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})}),[u,h].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(i){n.iterateCursor(e,function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)})})})}),e.openDb=m,e.deleteDb=g,Object.defineProperty(e,"__esModule",{value:!0})}(t)},579:(e,t,n)=>{"use strict";e.exports=n(799)},672:(e,t,n)=>{"use strict";var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=u(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=u(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.0"},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,w="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function _(e){if(g=!1,k(e),!m)if(null!==r(u))m=!0,I||(I=!0,S());else{var t=r(c);null!==t&&x(_,t.startTime-e)}}var S,I=!1,T=-1,E=5,C=-1;function A(){return!!y||!(t.unstable_now()-C<E)}function N(){if(y=!1,I){var e=t.unstable_now();C=e;var n=!0;try{e:{m=!1,g&&(g=!1,w(T),T=-1),p=!0;var s=f;try{t:{for(k(e),d=r(u);null!==d&&!(d.expirationTime>e&&A());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){d.callback=a,k(e),n=!0;break t}d===r(u)&&i(u),k(e)}else i(u);d=r(u)}if(null!==d)n=!0;else{var l=r(c);null!==l&&x(_,l.startTime-e),n=!1}}break e}finally{d=null,f=s,p=!1}n=void 0}}finally{n?S():I=!1}}}if("function"===typeof b)S=function(){b(N)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,P=D.port2;D.port1.onmessage=N,S=function(){P.postMessage(null)}}else S=function(){v(N,0)};function x(e,n){T=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(g?(w(T),T=-1):g=!0,x(_,s-o))):(e.sortIndex=a,n(u,e),m||p||(m=!0,I||(I=!0,S()))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".b5194dd6.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="superchat:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/SuperChat-app/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],l=r[2],u=0;if(o.some(t=>0!==e[t])){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);u<o.length;u++)s=o[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunksuperchat=self.webpackChunksuperchat||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>v,SDK_VERSION:()=>Ae,_DEFAULT_ENTRY_NAME:()=>ge,_addComponent:()=>be,_addOrOverwriteComponent:()=>ke,_apps:()=>ve,_clearComponents:()=>Te,_components:()=>we,_getProvider:()=>Se,_registerComponent:()=>_e,_removeServiceInstance:()=>Ie,deleteApp:()=>xe,getApp:()=>De,getApps:()=>Pe,initializeApp:()=>Ne,onLog:()=>Oe,registerVersion:()=>Re,setLogLevel:()=>Le});var t=n(43),r=n(391);const i=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw Error();const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},o=function(e){return function(e){const t=i(e);return s.encodeByteArray(t,!0)}(e).replace(/\./g,"")},a=function(e){try{return s.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&u(n)&&(e[n]=l(e[n],t[n]));return e}function u(e){return"__proto__"!==e}class c{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function h(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function d(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())}function f(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function p(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function m(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function g(){const e=h();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function y(){return"object"===typeof indexedDB}class v extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,v.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,w.prototype.create)}}class w{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(b,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new v(n,s,t)}}const b=/\{\$([^}]+)}/g;function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(S(n)&&S(s)){if(!_(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function S(e){return null!==e&&"object"===typeof e}function I(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function T(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function E(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function C(e,t){const n=new A(e,t);return n.subscribe.bind(n)}class A{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=N),void 0===r.error&&(r.error=N),void 0===r.complete&&(r.complete=N);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function N(){}function D(e){return e&&e._delegate?e._delegate:e}class P{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const x="[DEFAULT]";class R{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new c;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:x})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(Sd){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===x?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(Sd){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x;return this.component?this.component.multipleInstances?e:x:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class O{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new R(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const L=[];var M;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(M||(M={}));const F={debug:M.DEBUG,verbose:M.VERBOSE,info:M.INFO,warn:M.WARN,error:M.ERROR,silent:M.SILENT},U=M.INFO,V={[M.DEBUG]:"log",[M.VERBOSE]:"log",[M.INFO]:"info",[M.WARN]:"warn",[M.ERROR]:"error"},j=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=V[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class z{constructor(e){this.name=e,this._logLevel=U,this._logHandler=j,this._userLogHandler=null,L.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in M))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?F[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,M.DEBUG,...t),this._logHandler(this,M.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,M.VERBOSE,...t),this._logHandler(this,M.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,M.INFO,...t),this._logHandler(this,M.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,M.WARN,...t),this._logHandler(this,M.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,M.ERROR,...t),this._logHandler(this,M.ERROR,...t)}}class q{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const B="@firebase/app",K="0.7.11",H=new z("@firebase/app"),W="@firebase/app-compat",G="@firebase/analytics-compat",Q="@firebase/analytics",Y="@firebase/app-check-compat",$="@firebase/app-check",J="@firebase/auth",X="@firebase/auth-compat",Z="@firebase/database",ee="@firebase/database-compat",te="@firebase/functions",ne="@firebase/functions-compat",re="@firebase/installations",ie="@firebase/installations-compat",se="@firebase/messaging",oe="@firebase/messaging-compat",ae="@firebase/performance",le="@firebase/performance-compat",ue="@firebase/remote-config",ce="@firebase/remote-config-compat",he="@firebase/storage",de="@firebase/storage-compat",fe="@firebase/firestore",pe="@firebase/firestore-compat",me="firebase",ge="[DEFAULT]",ye={[B]:"fire-core",[W]:"fire-core-compat",[Q]:"fire-analytics",[G]:"fire-analytics-compat",[$]:"fire-app-check",[Y]:"fire-app-check-compat",[J]:"fire-auth",[X]:"fire-auth-compat",[Z]:"fire-rtdb",[ee]:"fire-rtdb-compat",[te]:"fire-fn",[ne]:"fire-fn-compat",[re]:"fire-iid",[ie]:"fire-iid-compat",[se]:"fire-fcm",[oe]:"fire-fcm-compat",[ae]:"fire-perf",[le]:"fire-perf-compat",[ue]:"fire-rc",[ce]:"fire-rc-compat",[he]:"fire-gcs",[de]:"fire-gcs-compat",[fe]:"fire-fst",[pe]:"fire-fst-compat","fire-js":"fire-js",[me]:"fire-js-all"},ve=new Map,we=new Map;function be(e,t){try{e.container.addComponent(t)}catch(n){H.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ke(e,t){e.container.addOrOverwriteComponent(t)}function _e(e){const t=e.name;if(we.has(t))return H.debug("There were multiple attempts to register component ".concat(t,".")),!1;we.set(t,e);for(const n of ve.values())be(n,e);return!0}function Se(e,t){return e.container.getProvider(t)}function Ie(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ge;Se(e,t).clearInstance(n)}function Te(){we.clear()}const Ee=new w("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Ce{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new P("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ee.create("app-deleted",{appName:this._name})}}const Ae="9.6.1";function Ne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){t={name:t}}const n=Object.assign({name:ge,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!==typeof r||!r)throw Ee.create("bad-app-name",{appName:String(r)});const i=ve.get(r);if(i){if(_(e,i.options)&&_(n,i.config))return i;throw Ee.create("duplicate-app",{appName:r})}const s=new O(r);for(const a of we.values())s.addComponent(a);const o=new Ce(e,n,s);return ve.set(r,o),o}function De(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge;const t=ve.get(e);if(!t)throw Ee.create("no-app",{appName:e});return t}function Pe(){return Array.from(ve.values())}async function xe(e){const t=e.name;ve.has(t)&&(ve.delete(t),await Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)}function Re(e,t,n){var r;let i=null!==(r=ye[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void H.warn(e.join(" "))}_e(new P("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}function Oe(e,t){if(null!==e&&"function"!==typeof e)throw Ee.create("invalid-log-argument");!function(e,t){for(const n of L){let r=null;t&&t.level&&(r=F[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];const a=s.map(e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(e=>e).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:M[n].toLowerCase(),message:a,args:s,type:t.name})}}}(e,t)}function Le(e){var t;t=e,L.forEach(e=>{e.setLogLevel(t)})}var Me;Me="",_e(new P("platform-logger",e=>new q(e),"PRIVATE")),Re(B,K,Me),Re(B,K,"esm2017"),Re("fire-js","");class Fe{constructor(e,t){this._delegate=e,this.firebase=t,be(e,new P("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),xe(this._delegate)))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ge;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ge;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){be(this._delegate,e)}_addOrOverwriteComponent(e){ke(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ue=new w("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const Ve=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=Ne(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(k(n,i.name))return n[i.name];const s=new t(i,r);return n[i.name]=s,s},app:i,registerVersion:Re,setLogLevel:Le,onLog:Oe,apps:null,SDK_VERSION:Ae,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(_e(e)&&"PUBLIC"===e.type){const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw Ue.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&l(o,e.serviceProps),r[s]=o,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!k(n,e=e||ge))throw Ue.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map(e=>n[e])}}),i.App=t,r}(Fe);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){l(n,e)},createSubscribe:C,ErrorFactory:w,deepExtend:l}),n}(),je=new z("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){je.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&je.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ze=Ve;!function(e){Re("@firebase/app-compat","0.1.12",e)}();ze.registerVersion("firebase","9.6.1","app-compat");var qe,Be="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ke={},He=He||{},We=Be||self;function Ge(){}function Qe(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ye(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var $e="closure_uid_"+(1e9*Math.random()>>>0),Je=0;function Xe(e,t,n){return e.call.apply(e.bind,arguments)}function Ze(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function et(e,t,n){return(et=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Xe:Ze).apply(null,arguments)}function tt(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function nt(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function rt(){this.s=this.s,this.o=this.o}var it={};rt.prototype.s=!1,rt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,$e)&&e[$e]||(e[$e]=++Je)}(this);delete it[e]}},rt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const st=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ot=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"===typeof e?e.split(""):e;for(let s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function at(e){return Array.prototype.concat.apply([],arguments)}function lt(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function ut(e){return/^[\s\xa0]*$/.test(e)}var ct,ht=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function dt(e,t){return-1!=e.indexOf(t)}function ft(e,t){return e<t?-1:e>t?1:0}e:{var pt=We.navigator;if(pt){var mt=pt.userAgent;if(mt){ct=mt;break e}}ct=""}function gt(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function yt(e){const t={};for(const n in e)t[n]=e[n];return t}var vt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wt(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<vt.length;t++)n=vt[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function bt(e){return bt[" "](e),e}bt[" "]=Ge;var kt,_t=dt(ct,"Opera"),St=dt(ct,"Trident")||dt(ct,"MSIE"),It=dt(ct,"Edge"),Tt=It||St,Et=dt(ct,"Gecko")&&!(dt(ct.toLowerCase(),"webkit")&&!dt(ct,"Edge"))&&!(dt(ct,"Trident")||dt(ct,"MSIE"))&&!dt(ct,"Edge"),Ct=dt(ct.toLowerCase(),"webkit")&&!dt(ct,"Edge");function At(){var e=We.document;return e?e.documentMode:void 0}e:{var Nt="",Dt=function(){var e=ct;return Et?/rv:([^\);]+)(\)|;)/.exec(e):It?/Edge\/([\d\.]+)/.exec(e):St?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ct?/WebKit\/(\S+)/.exec(e):_t?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Dt&&(Nt=Dt?Dt[1]:""),St){var Pt=At();if(null!=Pt&&Pt>parseFloat(Nt)){kt=String(Pt);break e}}kt=Nt}var xt,Rt={};function Ot(){return function(e){var t=Rt;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}(function(){let e=0;const t=ht(String(kt)).split("."),n=ht("9").split("."),r=Math.max(t.length,n.length);for(let o=0;0==e&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=ft(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||ft(0==i[2].length,0==s[2].length)||ft(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e})}if(We.document&&St){var Lt=At();xt=Lt||(parseInt(kt,10)||void 0)}else xt=void 0;var Mt=xt,Ft=function(){if(!We.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{We.addEventListener("test",Ge,t),We.removeEventListener("test",Ge,t)}catch(n){}return e}();function Ut(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Vt(e,t){if(Ut.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Et){e:{try{bt(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:jt[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Vt.Z.h.call(this)}}Ut.prototype.h=function(){this.defaultPrevented=!0},nt(Vt,Ut);var jt={2:"touch",3:"pen",4:"mouse"};Vt.prototype.h=function(){Vt.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var zt="closure_listenable_"+(1e6*Math.random()|0),qt=0;function Bt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++qt,this.ca=this.fa=!1}function Kt(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ht(e){this.src=e,this.g={},this.h=0}function Wt(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=st(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Kt(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Gt(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}Ht.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Gt(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Bt(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var Qt="closure_lm_"+(1e6*Math.random()|0),Yt={};function $t(e,t,n,r,i){if(r&&r.once)return Xt(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)$t(e,t[s],n,r,i);return null}return n=on(n),e&&e[zt]?e.N(t,n,Ye(r)?!!r.capture:!!r,i):Jt(e,t,n,!1,r,i)}function Jt(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Ye(i)?!!i.capture:!!i,a=rn(e);if(a||(e[Qt]=a=new Ht(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=nn;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ft||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(tn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Xt(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Xt(e,t[s],n,r,i);return null}return n=on(n),e&&e[zt]?e.O(t,n,Ye(r)?!!r.capture:!!r,i):Jt(e,t,n,!0,r,i)}function Zt(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Zt(e,t[s],n,r,i);else r=Ye(r)?!!r.capture:!!r,n=on(n),e&&e[zt]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Gt(s=e.g[t],n,r,i))&&(Kt(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=rn(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Gt(t,n,r,i)),(n=-1<e?t[e]:null)&&en(n))}function en(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[zt])Wt(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(tn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=rn(t))?(Wt(n,e),0==n.h&&(n.src=null,t[Qt]=null)):Kt(e)}}}function tn(e){return e in Yt?Yt[e]:Yt[e]="on"+e}function nn(e,t){if(e.ca)e=!0;else{t=new Vt(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&en(e),e=n.call(r,t)}return e}function rn(e){return(e=e[Qt])instanceof Ht?e:null}var sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function on(e){return"function"===typeof e?e:(e[sn]||(e[sn]=function(t){return e.handleEvent(t)}),e[sn])}function an(){rt.call(this),this.i=new Ht(this),this.P=this,this.I=null}function ln(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Ut(t,e);else if(t instanceof Ut)t.target=t.target||e;else{var i=t;wt(t=new Ut(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=un(o,r,!0,t)&&i}if(i=un(o=t.g=e,r,!0,t)&&i,i=un(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=un(o=t.g=n[s],r,!1,t)&&i}function un(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&Wt(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}nt(an,rt),an.prototype[zt]=!0,an.prototype.removeEventListener=function(e,t,n,r){Zt(this,e,t,n,r)},an.prototype.M=function(){if(an.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Kt(n[r]);delete t.g[e],t.h--}}this.I=null},an.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},an.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var cn=We.JSON.stringify;function hn(){var e=vn;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var dn,fn=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new pn,e=>e.reset());class pn{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function mn(e){We.setTimeout(()=>{throw e},0)}function gn(e,t){dn||function(){var e=We.Promise.resolve(void 0);dn=function(){e.then(wn)}}(),yn||(dn(),yn=!0),vn.add(e,t)}var yn=!1,vn=new class{constructor(){this.h=this.g=null}add(e,t){const n=fn.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function wn(){for(var e;e=hn();){try{e.h.call(e.g)}catch(n){mn(n)}var t=fn;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}yn=!1}function bn(e,t){an.call(this),this.h=e||1,this.g=t||We,this.j=et(this.kb,this),this.l=Date.now()}function kn(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function _n(e,t,n){if("function"===typeof e)n&&(e=et(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=et(e.handleEvent,e)}return 2147483647<Number(t)?-1:We.setTimeout(e,t||0)}function Sn(e){e.g=_n(()=>{e.g=null,e.i&&(e.i=!1,Sn(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}nt(bn,an),(qe=bn.prototype).da=!1,qe.S=null,qe.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ln(this,"tick"),this.da&&(kn(this),this.start()))}},qe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qe.M=function(){bn.Z.M.call(this),kn(this),delete this.g};class In extends rt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Sn(this)}M(){super.M(),this.g&&(We.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tn(e){rt.call(this),this.h=e,this.g={}}nt(Tn,rt);var En=[];function Cn(e,t,n,r){Array.isArray(n)||(n&&(En[0]=n.toString()),n=En);for(var i=0;i<n.length;i++){var s=$t(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function An(e){gt(e.g,function(e,t){this.g.hasOwnProperty(t)&&en(e)},e),e.g={}}function Nn(){this.g=!0}function Dn(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return cn(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}Tn.prototype.M=function(){Tn.Z.M.call(this),An(this)},Tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Nn.prototype.Aa=function(){this.g=!1},Nn.prototype.info=function(){};var Pn={},xn=null;function Rn(){return xn=xn||new an}function On(e){Ut.call(this,Pn.Ma,e)}function Ln(e){const t=Rn();ln(t,new On(t,e))}function Mn(e,t){Ut.call(this,Pn.STAT_EVENT,e),this.stat=t}function Fn(e){const t=Rn();ln(t,new Mn(t,e))}function Un(e,t){Ut.call(this,Pn.Na,e),this.size=t}function Vn(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return We.setTimeout(function(){e()},t)}Pn.Ma="serverreachability",nt(On,Ut),Pn.STAT_EVENT="statevent",nt(Mn,Ut),Pn.Na="timingevent",nt(Un,Ut);var jn={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},zn={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function qn(){}function Bn(e){return e.h||(e.h=e.i())}function Kn(){}qn.prototype.h=null;var Hn,Wn={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Gn(){Ut.call(this,"d")}function Qn(){Ut.call(this,"c")}function Yn(){}function $n(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Tn(this),this.P=Xn,e=Tt?125:void 0,this.W=new bn(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}nt(Gn,Ut),nt(Qn,Ut),nt(Yn,qn),Yn.prototype.g=function(){return new XMLHttpRequest},Yn.prototype.i=function(){return{}},Hn=new Yn;var Xn=45e3,Zn={},er={};function tr(e,t,n){e.K=1,e.v=Ir(vr(t)),e.s=n,e.U=!0,nr(e,null)}function nr(e,t){e.F=Date.now(),or(e),e.A=vr(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Fr(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Jn,e.g=Vi(e.l,n?t:null,!e.s),0<e.O&&(e.L=new In(et(e.Ia,e,e.g),e.O)),Cn(e.V,e.g,"readystatechange",e.gb),t=e.H?yt(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ln(1),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.X,e.s)}function rr(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function ir(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=sr(e,n),r==er){4==t&&(e.o=4,Fn(14),i=!1),Dn(e.j,e.m,null,"[Incomplete Response]");break}if(r==Zn){e.o=4,Fn(15),Dn(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Dn(e.j,e.m,r,null),hr(e,r)}rr(e)&&r!=er&&r!=Zn&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Fn(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Pi(t),t.L=!0,Fn(11))):(Dn(e.j,e.m,n,"[Invalid Chunked Response]"),cr(e),ur(e))}function sr(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?er:(n=Number(t.substring(n,r)),isNaN(n)?Zn:(r+=1)+n>t.length?er:(t=t.substr(r,n),e.C=r+n,t))}function or(e){e.Y=Date.now()+e.P,ar(e,e.P)}function ar(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Vn(et(e.eb,e),t)}function lr(e){e.B&&(We.clearTimeout(e.B),e.B=null)}function ur(e){0==e.l.G||e.I||Oi(e.l,e)}function cr(e){lr(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,kn(e.W),An(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function hr(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Hr(n.i,e)))if(n.I=e.N,!e.J&&Hr(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ri(n),_i(n)}Di(n),Fn(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Vn(et(n.ab,n),6e3));if(1>=Kr(n.i)&&n.ka){try{n.ka()}catch(u){}n.ka=void 0}}else Mi(n,11)}else if((e.J||n.g==e)&&Ri(n),!ut(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.U=u[0],u=u[1],2==n.G)if("c"==u[0]){n.J=u[1],n.la=u[2];const t=u[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=u[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;!s.g&&(dt(e,"spdy")||dt(e,"quic")||dt(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Wr(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,Sr(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=e;if((r=n).oa=Ui(r,r.H?r.la:null,r.W),o.J){Gr(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(lr(a),or(a)),r.g=o}else Ni(r);0<n.l.length&&Ti(n)}else"stop"!=u[0]&&"close"!=u[0]||Mi(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Mi(n,7):ki(n):"noop"!=u[0]&&n.j&&n.j.wa(u),n.A=0)}Ln(4)}catch(u){}}function dr(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Qe(e)||"string"===typeof e)ot(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Qe(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Qe(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function fr(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof fr)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function pr(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];mr(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)mr(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function mr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(qe=$n.prototype).setTimeout=function(e){this.P=e},qe.gb=function(e){e=e.target;const t=this.L;t&&3==gi(e)?t.l():this.Ia(e)},qe.Ia=function(e){try{if(e==this.g)e:{const c=gi(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>c)&&(3!=c||Tt||this.g&&(this.h.h||this.g.ga()||yi(this.g)))){this.I||4!=c||7==t||Ln(8==t||0>=h?3:2),lr(this);var n=this.g.ba();this.N=n;t:if(rr(this)){var r=yi(this.g);e="";var i=r.length,s=4==gi(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){cr(this),ur(this);var o="";break t}this.h.i=new We.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ut(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,Fn(12),cr(this),ur(this);break e}Dn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,hr(this,n)}this.U?(ir(this,c,o),Tt&&this.i&&3==c&&(Cn(this.V,this.W,"tick",this.fb),this.W.start())):(Dn(this.j,this.m,o,null),hr(this,o)),4==c&&cr(this),this.i&&!this.I&&(4==c?Oi(this.l,this):(this.i=!1,or(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Fn(12)):(this.o=0,Fn(13)),cr(this),ur(this)}}}catch(c){}},qe.fb=function(){if(this.g){var e=gi(this.g),t=this.g.ga();this.C<t.length&&(lr(this),ir(this,e,t),this.i&&4!=e&&or(this))}},qe.cancel=function(){this.I=!0,cr(this)},qe.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Ln(3),Fn(17)),cr(this),this.o=2,ur(this)):ar(this,this.Y-e)},(qe=fr.prototype).R=function(){pr(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},qe.T=function(){return pr(this),this.g.concat()},qe.get=function(e,t){return mr(this.h,e)?this.h[e]:t},qe.set=function(e,t){mr(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},qe.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var gr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function yr(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof yr){this.g=void 0!==t?t:e.g,wr(this,e.j),this.s=e.s,br(this,e.i),kr(this,e.m),this.l=e.l,t=e.h;var n=new Rr;n.i=t.i,t.g&&(n.g=new fr(t.g),n.h=t.h),_r(this,n),this.o=e.o}else e&&(n=String(e).match(gr))?(this.g=!!t,wr(this,n[1]||"",!0),this.s=Tr(n[2]||""),br(this,n[3]||"",!0),kr(this,n[4]),this.l=Tr(n[5]||"",!0),_r(this,n[6]||"",!0),this.o=Tr(n[7]||"")):(this.g=!!t,this.h=new Rr(null,this.g))}function vr(e){return new yr(e)}function wr(e,t,n){e.j=n?Tr(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function br(e,t,n){e.i=n?Tr(t,!0):t}function kr(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function _r(e,t,n){t instanceof Rr?(e.h=t,function(e,t){t&&!e.j&&(Or(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Lr(this,t),Fr(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=Er(t,Pr)),e.h=new Rr(t,e.g))}function Sr(e,t,n){e.h.set(t,n)}function Ir(e){return Sr(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Tr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Er(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Cr),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Cr(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}yr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Er(t,Ar,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Er(t,Ar,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Er(n,"/"==n.charAt(0)?Dr:Nr,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Er(n,xr)),e.join("")};var Ar=/[#\/\?@]/g,Nr=/[#\?:]/g,Dr=/[#\?]/g,Pr=/[#\?@]/g,xr=/#/g;function Rr(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Or(e){e.g||(e.g=new fr,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Lr(e,t){Or(e),t=Ur(e,t),mr(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,mr((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&pr(e)))}function Mr(e,t){return Or(e),t=Ur(e,t),mr(e.g.h,t)}function Fr(e,t,n){Lr(e,t),0<n.length&&(e.i=null,e.g.set(Ur(e,t),lt(n)),e.h+=n.length)}function Ur(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(qe=Rr.prototype).add=function(e,t){Or(this),this.i=null,e=Ur(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},qe.forEach=function(e,t){Or(this),this.g.forEach(function(n,r){ot(n,function(n){e.call(t,n,r,this)},this)},this)},qe.T=function(){Or(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},qe.R=function(e){Or(this);var t=[];if("string"===typeof e)Mr(this,e)&&(t=at(t,this.g.get(Ur(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=at(t,e[n])}return t},qe.set=function(e,t){return Or(this),this.i=null,Mr(this,e=Ur(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},qe.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};var Vr=class{constructor(e,t){this.h=e,this.g=t}};function jr(e){this.l=e||qr,We.PerformanceNavigationTiming?e=0<(e=We.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(We.g&&We.g.Ea&&We.g.Ea()&&We.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var zr,qr=10;function Br(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Kr(e){return e.h?1:e.g?e.g.size:0}function Hr(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Wr(e,t){e.g?e.g.add(t):e.h=t}function Gr(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Qr(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return lt(e.i)}function Yr(){}function $r(){this.g=new Yr}function Jr(e,t,n){const r=n||"";try{dr(e,function(e,n){let i=e;Ye(e)&&(i=cn(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Xr(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Zr(e){this.l=e.$b||null,this.j=e.ib||!1}function ei(e,t){an.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=ti,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}jr.prototype.cancel=function(){if(this.i=Qr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},Yr.prototype.stringify=function(e){return We.JSON.stringify(e,void 0)},Yr.prototype.parse=function(e){return We.JSON.parse(e,void 0)},nt(Zr,qn),Zr.prototype.g=function(){return new ei(this.l,this.j)},Zr.prototype.i=(zr={},function(){return zr}),nt(ei,an);var ti=0;function ni(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function ri(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ii(e)}function ii(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(qe=ei.prototype).open=function(e,t){if(this.readyState!=ti)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ii(this)},qe.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||We).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ri(this)),this.readyState=ti},qe.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof We.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ni(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},qe.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ri(this):ii(this),3==this.readyState&&ni(this)}},qe.Ua=function(e){this.g&&(this.response=this.responseText=e,ri(this))},qe.Ta=function(e){this.g&&(this.response=e,ri(this))},qe.ha=function(){this.g&&ri(this)},qe.setRequestHeader=function(e,t){this.v.append(e,t)},qe.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},qe.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ei.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var si=We.JSON.parse;function oi(e){an.call(this),this.headers=new fr,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ai,this.K=this.L=!1}nt(oi,an);var ai="",li=/^https?$/i,ui=["POST","PUT"];function ci(e){return"content-type"==e.toLowerCase()}function hi(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,di(e),pi(e)}function di(e){e.D||(e.D=!0,ln(e,"complete"),ln(e,"error"))}function fi(e){if(e.h&&"undefined"!=typeof He&&(!e.C[1]||4!=gi(e)||2!=e.ba()))if(e.v&&4==gi(e))_n(e.Fa,0,e);else if(ln(e,"readystatechange"),4==gi(e)){e.h=!1;try{const l=e.ba();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===l){var i=String(e.H).match(gr)[1]||null;if(!i&&We.self&&We.self.location){var s=We.self.location.protocol;i=s.substr(0,s.length-1)}r=!li.test(i?i.toLowerCase():"")}n=r}if(n)ln(e,"complete"),ln(e,"success");else{e.m=6;try{var o=2<gi(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.ba()+"]",di(e)}}finally{pi(e)}}}function pi(e,t){if(e.g){mi(e);const r=e.g,i=e.C[0]?Ge:null;e.g=null,e.C=null,t||ln(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function mi(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(We.clearTimeout(e.A),e.A=null)}function gi(e){return e.g?e.g.readyState:0}function yi(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case ai:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function vi(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return gt(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Sr(e,t,n))}function wi(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function bi(e){this.za=0,this.l=[],this.h=new Nn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=wi("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=wi("baseRetryDelayMs",5e3,e),this.$a=wi("retryDelaySeedMs",1e4,e),this.Ya=wi("forwardChannelMaxRetries",2,e),this.ra=wi("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new jr(e&&e.concurrentRequestLimit),this.Ca=new $r,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function ki(e){if(Si(e),3==e.G){var t=e.V++,n=vr(e.F);Sr(n,"SID",e.J),Sr(n,"RID",t),Sr(n,"TYPE","terminate"),Ci(e,n),(t=new $n(e,e.h,t,void 0)).K=2,t.v=Ir(vr(n)),n=!1,We.navigator&&We.navigator.sendBeacon&&(n=We.navigator.sendBeacon(t.v.toString(),"")),!n&&We.Image&&((new Image).src=t.v,n=!0),n||(t.g=Vi(t.l,null),t.g.ea(t.v)),t.F=Date.now(),or(t)}Fi(e)}function _i(e){e.g&&(Pi(e),e.g.cancel(),e.g=null)}function Si(e){_i(e),e.u&&(We.clearTimeout(e.u),e.u=null),Ri(e),e.i.cancel(),e.m&&("number"===typeof e.m&&We.clearTimeout(e.m),e.m=null)}function Ii(e,t){e.l.push(new Vr(e.Za++,t)),3==e.G&&Ti(e)}function Ti(e){Br(e.i)||e.m||(e.m=!0,gn(e.Ha,e),e.C=0)}function Ei(e,t){var n;n=t?t.m:e.V++;const r=vr(e.F);Sr(r,"SID",e.J),Sr(r,"RID",n),Sr(r,"AID",e.U),Ci(e,r),e.o&&e.s&&vi(r,e.o,e.s),n=new $n(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Ai(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Wr(e.i,n),tr(n,r,t)}function Ci(e,t){e.j&&dr({},function(e,n){Sr(t,n,e)})}function Ai(e,t,n){n=Math.min(e.l.length,n);var r=e.j?et(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].h;const a=i[o].g;if(n-=t,0>n)t=Math.max(0,i[o].h-100),s=!1;else try{Jr(a,e,"req"+n+"_")}catch(ys){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function Ni(e){e.g||e.u||(e.Y=1,gn(e.Ga,e),e.A=0)}function Di(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Vn(et(e.Ga,e),Li(e,e.A)),e.A++,!0)}function Pi(e){null!=e.B&&(We.clearTimeout(e.B),e.B=null)}function xi(e){e.g=new $n(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=vr(e.oa);Sr(t,"RID","rpc"),Sr(t,"SID",e.J),Sr(t,"CI",e.N?"0":"1"),Sr(t,"AID",e.U),Ci(e,t),Sr(t,"TYPE","xmlhttp"),e.o&&e.s&&vi(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ir(vr(t)),n.s=null,n.U=!0,nr(n,e)}function Ri(e){null!=e.v&&(We.clearTimeout(e.v),e.v=null)}function Oi(e,t){var n=null;if(e.g==t){Ri(e),Pi(e),e.g=null;var r=2}else{if(!Hr(e.i,t))return;n=t.D,Gr(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;ln(r=Rn(),new Un(r,n,t,i)),Ti(e)}else Ni(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Kr(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Vn(et(e.Ha,e,t),Li(e,e.C)),e.C++,!0))}(e,t)||2==r&&Di(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Mi(e,5);break;case 4:Mi(e,10);break;case 3:Mi(e,6);break;default:Mi(e,2)}}function Li(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Mi(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=et(e.jb,e);n||(n=new yr("//www.google.com/images/cleardot.gif"),We.location&&"http"==We.location.protocol||wr(n,"https"),Ir(n)),function(e,t){const n=new Nn;if(We.Image){const r=new Image;r.onload=tt(Xr,n,r,"TestLoadImage: loaded",!0,t),r.onerror=tt(Xr,n,r,"TestLoadImage: error",!1,t),r.onabort=tt(Xr,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=tt(Xr,n,r,"TestLoadImage: timeout",!1,t),We.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Fn(2);e.G=0,e.j&&e.j.va(t),Fi(e),Si(e)}function Fi(e){e.G=0,e.I=-1,e.j&&(0==Qr(e.i).length&&0==e.l.length||(e.i.i.length=0,lt(e.l),e.l.length=0),e.j.ua())}function Ui(e,t,n){let r=function(e){return e instanceof yr?vr(e):new yr(e,void 0)}(n);if(""!=r.i)t&&br(r,t+"."+r.i),kr(r,r.m);else{const e=We.location;r=function(e,t,n,r){var i=new yr(null,void 0);return e&&wr(i,e),t&&br(i,t),n&&kr(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&gt(e.aa,function(e,t){Sr(r,t,e)}),t=e.D,n=e.sa,t&&n&&Sr(r,t,n),Sr(r,"VER",e.ma),Ci(e,r),r}function Vi(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new oi(new Zr({ib:!0})):new oi(e.qa)).L=e.H,t}function ji(){}function zi(){if(St&&!(10<=Number(Mt)))throw Error("Environmental error: no available transport.")}function qi(e,t){an.call(this),this.g=new bi(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!ut(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ut(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Hi(this)}function Bi(e){Gn.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ki(){Qn.call(this),this.status=1}function Hi(e){this.g=e}(qe=oi.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Hn.g(),this.C=this.u?Bn(this.u):Bn(Hn),this.g.onreadystatechange=et(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void hi(this,s)}e=n||"";const i=new fr(this.headers);r&&dr(r,function(e,t){i.set(t,e)}),r=function(e){e:{var t=ci;const n=e.length,r="string"===typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=We.FormData&&e instanceof We.FormData,!(0<=st(ui,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{mi(this),0<this.B&&((this.K=function(e){return St&&Ot()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=et(this.pa,this)):this.A=_n(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){hi(this,s)}},qe.pa=function(){"undefined"!=typeof He&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ln(this,"timeout"),this.abort(8))},qe.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ln(this,"complete"),ln(this,"abort"),pi(this))},qe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pi(this,!0)),oi.Z.M.call(this)},qe.Fa=function(){this.s||(this.F||this.v||this.l?fi(this):this.cb())},qe.cb=function(){fi(this)},qe.ba=function(){try{return 2<gi(this)?this.g.status:-1}catch(zr){return-1}},qe.ga=function(){try{return this.g?this.g.responseText:""}catch(zr){return""}},qe.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),si(t)}},qe.Da=function(){return this.m},qe.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(qe=bi.prototype).ma=8,qe.G=1,qe.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},qe.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new $n(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=yt(s),wt(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"===typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Ai(this,i,t),Sr(n=vr(this.F),"RID",e),Sr(n,"CVER",22),this.D&&Sr(n,"X-HTTP-Session-Id",this.D),Ci(this,n),this.o&&s&&vi(n,this.o,s),Wr(this.i,i),this.Ra&&Sr(n,"TYPE","init"),this.ja?(Sr(n,"$req",t),Sr(n,"SID","null"),i.$=!0,tr(i,n,null)):tr(i,n,t),this.G=2}}else 3==this.G&&(e?Ei(this,e):0==this.l.length||Br(this.i)||Ei(this))},qe.Ga=function(){if(this.u=null,xi(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Vn(et(this.bb,this),e)}},qe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Fn(10),_i(this),xi(this))},qe.ab=function(){null!=this.v&&(this.v=null,_i(this),Di(this),Fn(19))},qe.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Fn(2)):(this.h.info("Failed to ping google.com"),Fn(1))},(qe=ji.prototype).xa=function(){},qe.wa=function(){},qe.va=function(){},qe.ua=function(){},qe.Oa=function(){},zi.prototype.g=function(e,t){return new qi(e,t)},nt(qi,an),qi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),gn(et(e.hb,e,t))),Fn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Ui(e,null,e.W),Ti(e)},qi.prototype.close=function(){ki(this.g)},qi.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Ii(this.g,t)}else this.v?((t={}).__data__=cn(e),Ii(this.g,t)):Ii(this.g,e)},qi.prototype.M=function(){this.g.j=null,delete this.j,ki(this.g),delete this.g,qi.Z.M.call(this)},nt(Bi,Gn),nt(Ki,Qn),nt(Hi,ji),Hi.prototype.xa=function(){ln(this.g,"a")},Hi.prototype.wa=function(e){ln(this.g,new Bi(e))},Hi.prototype.va=function(e){ln(this.g,new Ki(e))},Hi.prototype.ua=function(){ln(this.g,"b")},zi.prototype.createWebChannel=zi.prototype.g,qi.prototype.send=qi.prototype.u,qi.prototype.open=qi.prototype.m,qi.prototype.close=qi.prototype.close,jn.NO_ERROR=0,jn.TIMEOUT=8,jn.HTTP_ERROR=6,zn.COMPLETE="complete",Kn.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",an.prototype.listen=an.prototype.N,oi.prototype.listenOnce=oi.prototype.O,oi.prototype.getLastError=oi.prototype.La,oi.prototype.getLastErrorCode=oi.prototype.Da,oi.prototype.getStatus=oi.prototype.ba,oi.prototype.getResponseJson=oi.prototype.Qa,oi.prototype.getResponseText=oi.prototype.ga,oi.prototype.send=oi.prototype.ea;var Wi=Ke.createWebChannelTransport=function(){return new zi},Gi=Ke.getStatEventTarget=function(){return Rn()},Qi=Ke.ErrorCode=jn,Yi=Ke.EventType=zn,$i=Ke.Event=Pn,Ji=Ke.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Xi=Ke.FetchXmlHttpFactory=Zr,Zi=Ke.WebChannel=Kn,es=Ke.XhrIo=oi;const ts="@firebase/firestore";class ns{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ns.UNAUTHENTICATED=new ns(null),ns.GOOGLE_CREDENTIALS=new ns("google-credentials-uid"),ns.FIRST_PARTY=new ns("first-party-uid"),ns.MOCK_USER=new ns("mock-user");let rs="9.6.1";const is=new z("@firebase/firestore");function ss(){return is.logLevel}function os(e){if(is.logLevel<=M.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(us);is.debug("Firestore (".concat(rs,"): ").concat(e),...i)}}function as(e){if(is.logLevel<=M.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(us);is.error("Firestore (".concat(rs,"): ").concat(e),...i)}}function ls(e){if(is.logLevel<=M.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(us);is.warn("Firestore (".concat(rs,"): ").concat(e),...i)}}function us(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function cs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(rs,") INTERNAL ASSERTION FAILED: ")+e;throw as(t),new Error(t)}function hs(e,t){e||cs()}function ds(e,t){return e}const fs={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ps extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class ms{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class gs{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class ys{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ns.UNAUTHENTICATED))}shutdown(){}}class vs{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ws{constructor(e){this.t=e,this.currentUser=ns.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new ms;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ms,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{os("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(os("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ms)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(os("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(hs("string"==typeof t.accessToken),new gs(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return hs(null===e||"string"==typeof e),new ns(e)}}class bs{constructor(e,t,n){this.type="FirstParty",this.user=ns.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class ks{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new bs(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ns.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _s{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ss{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=n=>{e.enqueueRetryable(()=>(e=>(null!=e.error&&os("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)))(n))};const n=e=>{os("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit(e=>n(e)),setTimeout(()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?n(e):os("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(hs("string"==typeof e.token),new _s(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Is{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.p(e),this.T=e=>t.writeSequenceNumber(e))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Ts(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Is.I=-1;class Es{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Ts(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Cs(e,t){return e<t?-1:e>t?1:0}function As(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function Ns(e){return e+"\0"}class Ds{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ps(fs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ps(fs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ps(fs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ps(fs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ds.fromMillis(Date.now())}static fromDate(e){return Ds.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ds(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Cs(this.nanoseconds,e.nanoseconds):Cs(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ps{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ps(e)}static min(){return new Ps(new Ds(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function xs(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Rs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Os(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ls{constructor(e,t,n){void 0===t?t=0:t>e.length&&cs(),void 0===n?n=e.length-t:n>e.length-t&&cs(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ls.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ls?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ms extends Ls{construct(e,t,n){return new Ms(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new ps(fs.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new Ms(e)}static emptyPath(){return new Ms([])}}const Fs=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Us extends Ls{construct(e,t,n){return new Us(e,t,n)}static isValidIdentifier(e){return Fs.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Us.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Us(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ps(fs.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ps(fs.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ps(fs.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new ps(fs.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Us(t)}static emptyPath(){return new Us([])}}class Vs{constructor(e){this.fields=e,e.sort(Us.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return As(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class js{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new js(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new js(t)}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Cs(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}js.EMPTY_BYTE_STRING=new js("");const zs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qs(e){if(hs(!!e),"string"==typeof e){let t=0;const n=zs.exec(e);if(hs(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Bs(e.seconds),nanos:Bs(e.nanos)}}function Bs(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ks(e){return"string"==typeof e?js.fromBase64String(e):js.fromUint8Array(e)}function Hs(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ws(e){const t=e.mapValue.fields.__previous_value__;return Hs(t)?Ws(t):t}function Gs(e){const t=qs(e.mapValue.fields.__local_write_time__.timestampValue);return new Ds(t.seconds,t.nanos)}function Qs(e){return null==e}function Ys(e){return 0===e&&1/e==-1/0}function $s(e){return"number"==typeof e&&Number.isInteger(e)&&!Ys(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class Js{constructor(e){this.path=e}static fromPath(e){return new Js(Ms.fromString(e))}static fromName(e){return new Js(Ms.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Ms.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ms.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Js(new Ms(e.slice()))}}function Xs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Hs(e)?4:10:cs()}function Zs(e,t){const n=Xs(e);if(n!==Xs(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Gs(e).isEqual(Gs(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=qs(e.timestampValue),r=qs(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ks(e.bytesValue).isEqual(Ks(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Bs(e.geoPointValue.latitude)===Bs(t.geoPointValue.latitude)&&Bs(e.geoPointValue.longitude)===Bs(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Bs(e.integerValue)===Bs(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Bs(e.doubleValue),r=Bs(t.doubleValue);return n===r?Ys(n)===Ys(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return As(e.arrayValue.values||[],t.arrayValue.values||[],Zs);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(xs(n)!==xs(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Zs(n[i],r[i])))return!1;return!0}(e,t);default:return cs()}}function eo(e,t){return void 0!==(e.values||[]).find(e=>Zs(e,t))}function to(e,t){const n=Xs(e),r=Xs(t);if(n!==r)return Cs(n,r);switch(n){case 0:return 0;case 1:return Cs(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Bs(e.integerValue||e.doubleValue),r=Bs(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return no(e.timestampValue,t.timestampValue);case 4:return no(Gs(e),Gs(t));case 5:return Cs(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ks(e),r=Ks(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Cs(n[i],r[i]);if(0!==e)return e}return Cs(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Cs(Bs(e.latitude),Bs(t.latitude));return 0!==n?n:Cs(Bs(e.longitude),Bs(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=to(n[i],r[i]);if(e)return e}return Cs(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Cs(r[o],s[o]);if(0!==e)return e;const t=to(n[r[o]],i[s[o]]);if(0!==t)return t}return Cs(r.length,s.length)}(e.mapValue,t.mapValue);default:throw cs()}}function no(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Cs(e,t);const n=qs(e),r=qs(t),i=Cs(n.seconds,r.seconds);return 0!==i?i:Cs(n.nanos,r.nanos)}function ro(e){return io(e)}function io(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=qs(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ks(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Js.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=io(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(io(e.fields[i]));return n+"}"}(e.mapValue):cs();var t,n}function so(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function oo(e){return!!e&&"integerValue"in e}function ao(e){return!!e&&"arrayValue"in e}function lo(e){return!!e&&"nullValue"in e}function uo(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function co(e){return!!e&&"mapValue"in e}function ho(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Rs(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=ho(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ho(e.arrayValue.values[n]);return t}return Object.assign({},e)}class fo{constructor(e){this.value=e}static empty(){return new fo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!co(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ho(t)}setAll(e){let t=Us.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ho(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());co(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Zs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];co(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Rs(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new fo(ho(this.value))}}function po(e){const t=[];return Rs(e.fields,(e,n)=>{const r=new Us([e]);if(co(n)){const e=po(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Vs(t)}class mo{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new mo(e,0,Ps.min(),fo.empty(),0)}static newFoundDocument(e,t,n){return new mo(e,1,t,n,0)}static newNoDocument(e,t){return new mo(e,2,t,fo.empty(),0)}static newUnknownDocument(e,t){return new mo(e,3,t,fo.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new mo(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class go{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.R=null}}function yo(e){return new go(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function vo(e){const t=ds(e);if(null===t.R){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>function(e){return e.field.canonicalString()+e.op.toString()+ro(e.value)}(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Qs(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=Po(t.startAt)),t.endAt&&(e+="|ub:",e+=Po(t.endAt)),t.R=e}return t.R}function wo(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!Ro(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Zs(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Lo(e.startAt,t.startAt)&&Lo(e.endAt,t.endAt)}function bo(e){return Js.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class ko extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,n):new _o(e,t,n):"array-contains"===t?new Eo(e,n):"in"===t?new Co(e,n):"not-in"===t?new Ao(e,n):"array-contains-any"===t?new No(e,n):new ko(e,t,n)}static P(e,t,n){return"in"===t?new So(e,n):new Io(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(to(t,this.value)):null!==t&&Xs(this.value)===Xs(t)&&this.v(to(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return cs()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class _o extends ko{constructor(e,t,n){super(e,t,n),this.key=Js.fromName(n.referenceValue)}matches(e){const t=Js.comparator(e.key,this.key);return this.v(t)}}class So extends ko{constructor(e,t){super(e,"in",t),this.keys=To("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Io extends ko{constructor(e,t){super(e,"not-in",t),this.keys=To("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function To(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Js.fromName(e.referenceValue))}class Eo extends ko{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ao(t)&&eo(t.arrayValue,this.value)}}class Co extends ko{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&eo(this.value.arrayValue,t)}}class Ao extends ko{constructor(e,t){super(e,"not-in",t)}matches(e){if(eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!eo(this.value.arrayValue,t)}}class No extends ko{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ao(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>eo(this.value.arrayValue,e))}}class Do{constructor(e,t){this.position=e,this.before=t}}function Po(e){return"".concat(e.before?"b":"a",":").concat(e.position.map(e=>ro(e)).join(","))}class xo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Ro(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Oo(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Js.comparator(Js.fromName(o.referenceValue),n.key):to(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Lo(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Zs(e.position[n],t.position[n]))return!1;return!0}class Mo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.S=null,this.D=null,this.startAt,this.endAt}}function Fo(e,t,n,r,i,s,o,a){return new Mo(e,t,n,r,i,s,o,a)}function Uo(e){return new Mo(e)}function Vo(e){return!Qs(e.limit)&&"F"===e.limitType}function jo(e){return!Qs(e.limit)&&"L"===e.limitType}function zo(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function qo(e){for(const t of e.filters)if(t.V())return t.field;return null}function Bo(e){return null!==e.collectionGroup}function Ko(e){const t=ds(e);if(null===t.S){t.S=[];const e=qo(t),n=zo(t);if(null!==e&&null===n)e.isKeyField()||t.S.push(new xo(e)),t.S.push(new xo(Us.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.S.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new xo(Us.keyField(),e))}}}return t.S}function Ho(e){const t=ds(e);if(!t.D)if("F"===t.limitType)t.D=yo(t.path,t.collectionGroup,Ko(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Ko(t)){const t="desc"===i.dir?"asc":"desc";e.push(new xo(i.field,t))}const n=t.endAt?new Do(t.endAt.position,!t.endAt.before):null,r=t.startAt?new Do(t.startAt.position,!t.startAt.before):null;t.D=yo(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.D}function Wo(e,t,n){return new Mo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Go(e,t){return wo(Ho(e),Ho(t))&&e.limitType===t.limitType}function Qo(e){return"".concat(vo(Ho(e)),"|lt:").concat(e.limitType)}function Yo(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>{return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(ro(t.value));var t}).join(", "),"]")),Qs(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: "+Po(e.startAt)),e.endAt&&(t+=", endAt: "+Po(e.endAt)),"Target(".concat(t,")")}(Ho(e)),"; limitType=").concat(e.limitType,")")}function $o(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Js.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Oo(e.startAt,Ko(e),t))&&(!e.endAt||!Oo(e.endAt,Ko(e),t))}(e,t)}function Jo(e){return(t,n)=>{let r=!1;for(const i of Ko(e)){const e=Xo(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Xo(e,t,n){const r=e.field.isKeyField()?Js.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?to(r,i):cs()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return cs()}}function Zo(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ys(t)?"-0":t}}function ea(e){return{integerValue:""+e}}function ta(e,t){return $s(t)?ea(t):Zo(e,t)}class na{constructor(){this._=void 0}}function ra(e,t,n){return e instanceof oa?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof aa?la(e,t):e instanceof ua?ca(e,t):function(e,t){const n=sa(e,t),r=da(n)+da(e.N);return oo(n)&&oo(e.N)?ea(r):Zo(e.k,r)}(e,t)}function ia(e,t,n){return e instanceof aa?la(e,t):e instanceof ua?ca(e,t):n}function sa(e,t){return e instanceof ha?oo(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class oa extends na{}class aa extends na{constructor(e){super(),this.elements=e}}function la(e,t){const n=fa(t);for(const r of e.elements)n.some(e=>Zs(e,r))||n.push(r);return{arrayValue:{values:n}}}class ua extends na{constructor(e){super(),this.elements=e}}function ca(e,t){let n=fa(t);for(const r of e.elements)n=n.filter(e=>!Zs(e,r));return{arrayValue:{values:n}}}class ha extends na{constructor(e,t){super(),this.k=e,this.N=t}}function da(e){return Bs(e.integerValue||e.doubleValue)}function fa(e){return ao(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class pa{constructor(e,t){this.field=e,this.transform=t}}class ma{constructor(e,t){this.version=e,this.transformResults=t}}class ga{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ga}static exists(e){return new ga(void 0,e)}static updateTime(e){return new ga(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ya(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class va{}function wa(e,t,n){e instanceof Ia?function(e,t,n){const r=e.value.clone(),i=Ca(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ta?function(e,t,n){if(!ya(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ca(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ea(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ba(e,t,n){e instanceof Ia?function(e,t,n){if(!ya(e.precondition,t))return;const r=e.value.clone(),i=Aa(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Sa(t),r).setHasLocalMutations()}(e,t,n):e instanceof Ta?function(e,t,n){if(!ya(e.precondition,t))return;const r=Aa(e.fieldTransforms,n,t),i=t.data;i.setAll(Ea(e)),i.setAll(r),t.convertToFoundDocument(Sa(t),i).setHasLocalMutations()}(e,t,n):function(e,t){ya(e.precondition,t)&&t.convertToNoDocument(Ps.min())}(e,t)}function ka(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=sa(r.transform,e||null);null!=i&&(null==n&&(n=fo.empty()),n.set(r.field,i))}return n||null}function _a(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&As(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof aa&&t instanceof aa||e instanceof ua&&t instanceof ua?As(e.elements,t.elements,Zs):e instanceof ha&&t instanceof ha?Zs(e.N,t.N):e instanceof oa&&t instanceof oa}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Sa(e){return e.isFoundDocument()?e.version:Ps.min()}class Ia extends va{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Ta extends va{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function Ea(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Ca(e,t,n){const r=new Map;hs(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,ia(o,a,n[i]))}return r}function Aa(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,ra(e,s,t))}return r}class Na extends va{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Da extends va{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Pa{constructor(e){this.count=e}}var xa,Ra;function Oa(e){switch(e){default:return cs();case fs.CANCELLED:case fs.UNKNOWN:case fs.DEADLINE_EXCEEDED:case fs.RESOURCE_EXHAUSTED:case fs.INTERNAL:case fs.UNAVAILABLE:case fs.UNAUTHENTICATED:return!1;case fs.INVALID_ARGUMENT:case fs.NOT_FOUND:case fs.ALREADY_EXISTS:case fs.PERMISSION_DENIED:case fs.FAILED_PRECONDITION:case fs.ABORTED:case fs.OUT_OF_RANGE:case fs.UNIMPLEMENTED:case fs.DATA_LOSS:return!0}}function La(e){if(void 0===e)return as("GRPC error has no .code"),fs.UNKNOWN;switch(e){case xa.OK:return fs.OK;case xa.CANCELLED:return fs.CANCELLED;case xa.UNKNOWN:return fs.UNKNOWN;case xa.DEADLINE_EXCEEDED:return fs.DEADLINE_EXCEEDED;case xa.RESOURCE_EXHAUSTED:return fs.RESOURCE_EXHAUSTED;case xa.INTERNAL:return fs.INTERNAL;case xa.UNAVAILABLE:return fs.UNAVAILABLE;case xa.UNAUTHENTICATED:return fs.UNAUTHENTICATED;case xa.INVALID_ARGUMENT:return fs.INVALID_ARGUMENT;case xa.NOT_FOUND:return fs.NOT_FOUND;case xa.ALREADY_EXISTS:return fs.ALREADY_EXISTS;case xa.PERMISSION_DENIED:return fs.PERMISSION_DENIED;case xa.FAILED_PRECONDITION:return fs.FAILED_PRECONDITION;case xa.ABORTED:return fs.ABORTED;case xa.OUT_OF_RANGE:return fs.OUT_OF_RANGE;case xa.UNIMPLEMENTED:return fs.UNIMPLEMENTED;case xa.DATA_LOSS:return fs.DATA_LOSS;default:return cs()}}(Ra=xa||(xa={}))[Ra.OK=0]="OK",Ra[Ra.CANCELLED=1]="CANCELLED",Ra[Ra.UNKNOWN=2]="UNKNOWN",Ra[Ra.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ra[Ra.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ra[Ra.NOT_FOUND=5]="NOT_FOUND",Ra[Ra.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ra[Ra.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ra[Ra.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ra[Ra.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ra[Ra.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ra[Ra.ABORTED=10]="ABORTED",Ra[Ra.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ra[Ra.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ra[Ra.INTERNAL=13]="INTERNAL",Ra[Ra.UNAVAILABLE=14]="UNAVAILABLE",Ra[Ra.DATA_LOSS=15]="DATA_LOSS";class Ma{constructor(e,t){this.comparator=e,this.root=t||Ua.EMPTY}insert(e,t){return new Ma(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ua.BLACK,null,null))}remove(e){return new Ma(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ua.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fa(this.root,e,this.comparator,!0)}}class Fa{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ua{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ua.RED,this.left=null!=r?r:Ua.EMPTY,this.right=null!=i?i:Ua.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ua(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ua.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ua.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ua.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ua.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw cs();if(this.right.isRed())throw cs();const e=this.left.check();if(e!==this.right.check())throw cs();return e+(this.isRed()?0:1)}}Ua.EMPTY=null,Ua.RED=!0,Ua.BLACK=!1,Ua.EMPTY=new class{constructor(){this.size=0}get key(){throw cs()}get value(){throw cs()}get color(){throw cs()}get left(){throw cs()}get right(){throw cs()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ua(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Va{constructor(e){this.comparator=e,this.data=new Ma(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ja(this.data.getIterator())}getIteratorFrom(e){return new ja(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Va))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Va(this.comparator);return t.data=e,t}}class ja{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const za=new Ma(Js.comparator);function qa(){return za}const Ba=new Ma(Js.comparator);function Ka(){return Ba}const Ha=new Ma(Js.comparator);function Wa(){return Ha}const Ga=new Va(Js.comparator);function Qa(){let e=Ga;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Ya=new Va(Cs);function $a(){return Ya}class Ja{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,Xa.createSynthesizedTargetChangeForCurrentChange(e,t)),new Ja(Ps.min(),n,$a(),qa(),Qa())}}class Xa{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Xa(js.EMPTY_BYTE_STRING,t,Qa(),Qa(),Qa())}}class Za{constructor(e,t,n,r){this.$=e,this.removedTargetIds=t,this.key=n,this.F=r}}class el{constructor(e,t){this.targetId=e,this.O=t}}class tl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:js.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class nl{constructor(){this.M=0,this.L=sl(),this.B=js.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=Qa(),t=Qa(),n=Qa();return this.L.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:cs()}}),new Xa(this.B,this.U,e,t,n)}H(){this.q=!1,this.L=sl()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class rl{constructor(e){this.et=e,this.nt=new Map,this.st=qa(),this.it=il(),this.rt=new Va(Cs)}ot(e){for(const t of e.$)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ut(e){this.forEachTarget(e,t=>{const n=this.ht(t);switch(e.state){case 0:this.lt(t)&&n.W(e.resumeToken);break;case 1:n.Z(),n.K||n.H(),n.W(e.resumeToken);break;case 2:n.Z(),n.K||this.removeTarget(t);break;case 3:this.lt(t)&&(n.tt(),n.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),n.W(e.resumeToken));break;default:cs()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((e,n)=>{this.lt(n)&&t(n)})}dt(e){const t=e.targetId,n=e.O.count,r=this.wt(t);if(r){const e=r.target;if(bo(e))if(0===n){const n=new Js(e.path);this.ct(t,n,mo.newNoDocument(n,Ps.min()))}else hs(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((n,r)=>{const i=this.wt(r);if(i){if(n.current&&bo(i.target)){const t=new Js(i.target.path);null!==this.st.get(t)||this.yt(r,t)||this.ct(r,t,mo.newNoDocument(t,e))}n.j&&(t.set(r,n.G()),n.H())}});let n=Qa();this.it.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.wt(e);return!t||2===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))});const r=new Ja(e,t,this.rt,this.st,n);return this.st=qa(),this.it=il(),this.rt=new Va(Cs),r}at(e,t){if(!this.lt(e))return;const n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,n){if(!this.lt(e))return;const r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new nl,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new Va(Cs),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||os("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new nl),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function il(){return new Ma(Js.comparator)}function sl(){return new Ma(Js.comparator)}const ol={asc:"ASCENDING",desc:"DESCENDING"},al={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ll{constructor(e,t){this.databaseId=e,this.C=t}}function ul(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function cl(e,t){return e.C?t.toBase64():t.toUint8Array()}function hl(e,t){return ul(e,t.toTimestamp())}function dl(e){return hs(!!e),Ps.fromTimestamp(function(e){const t=qs(e);return new Ds(t.seconds,t.nanos)}(e))}function fl(e,t){return function(e){return new Ms(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function pl(e){const t=Ms.fromString(e);return hs(Ul(t)),t}function ml(e,t){return fl(e.databaseId,t.path)}function gl(e,t){const n=pl(t);if(n.get(1)!==e.databaseId.projectId)throw new ps(fs.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ps(fs.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Js(bl(n))}function yl(e,t){return fl(e.databaseId,t)}function vl(e){const t=pl(e);return 4===t.length?Ms.emptyPath():bl(t)}function wl(e){return new Ms(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function bl(e){return hs(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function kl(e,t,n){return{name:ml(e,t),fields:n.value.mapValue.fields}}function _l(e,t,n){const r=gl(e,t.name),i=dl(t.updateTime),s=new fo({mapValue:{fields:t.fields}}),o=mo.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Sl(e,t){let n;if(t instanceof Ia)n={update:kl(e,t.key,t.value)};else if(t instanceof Na)n={delete:ml(e,t.key)};else if(t instanceof Ta)n={update:kl(e,t.key,t.data),updateMask:Fl(t.fieldMask)};else{if(!(t instanceof Da))return cs();n={verify:ml(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof oa)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof aa)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ua)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ha)return{fieldPath:t.field.canonicalString(),increment:n.N};throw cs()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:hl(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:cs()}(e,t.precondition)),n}function Il(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?ga.updateTime(dl(e.updateTime)):void 0!==e.exists?ga.exists(e.exists):ga.none()}(t.currentDocument):ga.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;if("setToServerValue"in t)hs("REQUEST_TIME"===t.setToServerValue),n=new oa;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new aa(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new ua(e)}else"increment"in t?n=new ha(e,t.increment):cs();const r=Us.fromServerFormat(t.fieldPath);return new pa(r,n)}(e,t)):[];if(t.update){t.update.name;const i=gl(e,t.update.name),s=new fo({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Vs(t.map(e=>Us.fromServerFormat(e)))}(t.updateMask);return new Ta(i,s,e,n,r)}return new Ia(i,s,n,r)}if(t.delete){const r=gl(e,t.delete);return new Na(r,n)}if(t.verify){const r=gl(e,t.verify);return new Da(r,n)}return cs()}function Tl(e,t){return{documents:[yl(e,t.path)]}}function El(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=yl(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=yl(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map(e=>function(e){if("=="===e.op){if(uo(e.value))return{unaryFilter:{field:Rl(e.field),op:"IS_NAN"}};if(lo(e.value))return{unaryFilter:{field:Rl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(uo(e.value))return{unaryFilter:{field:Rl(e.field),op:"IS_NOT_NAN"}};if(lo(e.value))return{unaryFilter:{field:Rl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rl(e.field),op:xl(e.op),value:e.value}}}(e));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Rl(e.field),direction:Pl(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(e,t){return e.C||Qs(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=Nl(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Nl(t.endAt)),n}function Cl(e){let t=vl(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){hs(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=Al(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>function(e){return new xo(Ol(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Qs(t)?null:t}(n.limit));let l=null;n.startAt&&(l=Dl(n.startAt));let u=null;return n.endAt&&(u=Dl(n.endAt)),Fo(t,i,o,s,a,"F",l,u)}function Al(e){return e?void 0!==e.unaryFilter?[Ml(e)]:void 0!==e.fieldFilter?[Ll(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(e=>Al(e)).reduce((e,t)=>e.concat(t)):cs():[]}function Nl(e){return{before:e.before,values:e.position}}function Dl(e){const t=!!e.before,n=e.values||[];return new Do(n,t)}function Pl(e){return ol[e]}function xl(e){return al[e]}function Rl(e){return{fieldPath:e.canonicalString()}}function Ol(e){return Us.fromServerFormat(e.fieldPath)}function Ll(e){return ko.create(Ol(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return cs()}}(e.fieldFilter.op),e.fieldFilter.value)}function Ml(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ol(e.unaryFilter.field);return ko.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ol(e.unaryFilter.field);return ko.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ol(e.unaryFilter.field);return ko.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ol(e.unaryFilter.field);return ko.create(i,"!=",{nullValue:"NULL_VALUE"});default:return cs()}}function Fl(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Ul(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Vl(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=zl(t)),t=jl(e.get(n),t);return zl(t)}function jl(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function zl(e){return e+"\x01\x01"}function ql(e){const t=e.length;if(hs(t>=2),2===t)return hs("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Ms.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&cs(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:cs()}s=t+2}return new Ms(r)}class Bl{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Kl{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}Kl.store="owner",Kl.key="owner";class Hl{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}Hl.store="mutationQueues",Hl.keyPath="userId";class Wl{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}Wl.store="mutations",Wl.keyPath="batchId",Wl.userMutationsIndex="userMutationsIndex",Wl.userMutationsKeyPath=["userId","batchId"];class Gl{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Vl(t)]}static key(e,t,n){return[e,Vl(t),n]}}Gl.store="documentMutations",Gl.PLACEHOLDER=new Gl;class Ql{constructor(e,t){this.path=e,this.readTime=t}}class Yl{constructor(e,t){this.path=e,this.version=t}}class $l{constructor(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}$l.store="remoteDocuments",$l.readTimeIndex="readTimeIndex",$l.readTimeIndexPath="readTime",$l.collectionReadTimeIndex="collectionReadTimeIndex",$l.collectionReadTimeIndexPath=["parentPath","readTime"];class Jl{constructor(e){this.byteSize=e}}Jl.store="remoteDocumentGlobal",Jl.key="remoteDocumentGlobalKey";class Xl{constructor(e,t,n,r,i,s,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}Xl.store="targets",Xl.keyPath="targetId",Xl.queryTargetsIndexName="queryTargetsIndex",Xl.queryTargetsKeyPath=["canonicalId","targetId"];class Zl{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}Zl.store="targetDocuments",Zl.keyPath=["targetId","path"],Zl.documentTargetsIndex="documentTargetsIndex",Zl.documentTargetsKeyPath=["path","targetId"];class eu{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}eu.key="targetGlobalKey",eu.store="targetGlobal";class tu{constructor(e,t){this.collectionId=e,this.parent=t}}tu.store="collectionParents",tu.keyPath=["collectionId","parent"];class nu{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}nu.store="clientMetadata",nu.keyPath="clientId";class ru{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}ru.store="bundles",ru.keyPath="bundleId";class iu{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}iu.store="namedQueries",iu.keyPath="name";const su=[Hl.store,Wl.store,Gl.store,$l.store,Xl.store,Kl.store,eu.store,Zl.store,nu.store,Jl.store,tu.store,ru.store,iu.store],ou="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class au{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class lu{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&cs(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new lu((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof lu?t:lu.resolve(t)}catch(e){return lu.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):lu.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):lu.reject(t)}static resolve(e){return new lu((t,n)=>{t(e)})}static reject(e){return new lu((t,n)=>{n(e)})}static waitFor(e){return new lu((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=lu.resolve(!1);for(const n of e)t=t.next(e=>e?lu.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}}class uu{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new ms,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new du(e,t.error)):this.It.resolve()},this.transaction.onerror=t=>{const n=yu(t.target.error);this.It.reject(new du(e,n))}}static open(e,t,n,r){try{return new uu(t,e.transaction(r,n))}catch(e){throw new du(t,e)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(os("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new pu(t)}}class cu{constructor(e,t,n){this.name=e,this.version=t,this.Rt=n,12.2===cu.Pt(h())&&as("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return os("SimpleDb","Removing database:",e),mu(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!y())return!1;if(cu.vt())return!0;const e=h(),t=cu.Pt(e),n=0<t&&t<10,r=cu.Vt(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/SuperChat-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static Pt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async Ct(e){return this.db||(os("SimpleDb","Opening database:",this.name),this.db=await new Promise((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new du(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new ps(fs.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new ps(fs.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new du(e,r))},r.onupgradeneeded=e=>{os("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.Rt.Nt(t,r.transaction,e.oldVersion,this.version).next(()=>{os("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.kt&&(this.db.onversionchange=e=>this.kt(e)),this.db}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.Ct(e);const t=uu.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).catch(e=>(t.abort(e),lu.reject(e))).toPromise();return s.catch(()=>{}),await t.At,s}catch(e){const t="FirebaseError"!==e.name&&s<3;if(os("SimpleDb","Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class hu{constructor(e){this.$t=e,this.Ft=!1,this.Ot=null}get isDone(){return this.Ft}get Mt(){return this.Ot}set cursor(e){this.$t=e}done(){this.Ft=!0}Lt(e){this.Ot=e}delete(){return mu(this.$t.delete())}}class du extends ps{constructor(e,t){super(fs.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function fu(e){return"IndexedDbTransactionError"===e.name}class pu{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(os("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(os("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),mu(n)}add(e){return os("SimpleDb","ADD",this.store.name,e,e),mu(this.store.add(e))}get(e){return mu(this.store.get(e)).next(t=>(void 0===t&&(t=null),os("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return os("SimpleDb","DELETE",this.store.name,e),mu(this.store.delete(e))}count(){return os("SimpleDb","COUNT",this.store.name),mu(this.store.count())}Bt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(e,t)=>{r.push(t)}).next(()=>r)}qt(e,t){os("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Kt=!1;const r=this.cursor(n);return this.Ut(r,(e,t,n)=>n.delete())}jt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Ut(r,t)}Qt(e){const t=this.cursor({});return new lu((n,r)=>{t.onerror=e=>{const t=yu(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}Ut(e,t){const n=[];return new lu((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new hu(i),o=t(i.primaryKey,i.value,s);if(o instanceof lu){const e=o.catch(e=>(s.done(),lu.reject(e)));n.push(e)}s.isDone?r():null===s.Mt?i.continue():i.continue(s.Mt)}}).next(()=>lu.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function mu(e){return new lu((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=yu(e.target.error);n(t)}})}let gu=!1;function yu(e){const t=cu.Pt(h());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new ps("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return gu||(gu=!0,setTimeout(()=>{throw e},0)),e}}return e}class vu extends au{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function wu(e,t){const n=ds(e);return cu.Dt(n.Wt,t)}class bu{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&wa(t,e,n[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&ba(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&ba(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(Ps.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Qa())}isEqual(e){return this.batchId===e.batchId&&As(this.mutations,e.mutations,(e,t)=>_a(e,t))&&As(this.baseMutations,e.baseMutations,(e,t)=>_a(e,t))}}class ku{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){hs(e.mutations.length===n.length);let r=Wa();const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new ku(e,t,n,r)}}class _u{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ps.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ps.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:js.EMPTY_BYTE_STRING;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new _u(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new _u(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new _u(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Su{constructor(e){this.Gt=e}}function Iu(e,t){if(t.document)return _l(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=Js.fromSegments(t.noDocument.path),n=Nu(t.noDocument.readTime),r=mo.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=Js.fromSegments(t.unknownDocument.path),n=Nu(t.unknownDocument.version);return mo.newUnknownDocument(e,n)}return cs()}function Tu(e,t,n){const r=Eu(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n=function(e,t){return{name:ml(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ul(e,t.version.toTimestamp())}}(e.Gt,t),s=t.hasCommittedMutations;return new $l(null,null,n,s,r,i)}if(t.isNoDocument()){const e=t.key.path.toArray(),n=Au(t.version),s=t.hasCommittedMutations;return new $l(null,new Ql(e,n),null,s,r,i)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=Au(t.version);return new $l(new Yl(e,n),null,null,!0,r,i)}return cs()}function Eu(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Cu(e){const t=new Ds(e[0],e[1]);return Ps.fromTimestamp(t)}function Au(e){const t=e.toTimestamp();return new Bl(t.seconds,t.nanoseconds)}function Nu(e){const t=new Ds(e.seconds,e.nanoseconds);return Ps.fromTimestamp(t)}function Du(e,t){const n=(t.baseMutations||[]).map(t=>Il(e.Gt,t));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map(t=>Il(e.Gt,t)),i=Ds.fromMillis(t.localWriteTimeMs);return new bu(t.batchId,i,n,r)}function Pu(e){const t=Nu(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Nu(e.lastLimboFreeSnapshotVersion):Ps.min();let r;var i;return void 0!==e.query.documents?(hs(1===(i=e.query).documents.length),r=Ho(Uo(vl(i.documents[0])))):r=function(e){return Ho(Cl(e))}(e.query),new _u(r,e.targetId,0,e.lastListenSequenceNumber,t,n,js.fromBase64String(e.resumeToken))}function xu(e,t){const n=Au(t.snapshotVersion),r=Au(t.lastLimboFreeSnapshotVersion);let i;i=bo(t.target)?Tl(e.Gt,t.target):El(e.Gt,t.target);const s=t.resumeToken.toBase64();return new Xl(t.targetId,vo(t.target),n,s,t.sequenceNumber,r,i)}function Ru(e){const t=Cl({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Wo(t,t.limit,"L"):t}class Ou{getBundleMetadata(e,t){return Lu(e).get(t).next(e=>{if(e)return{id:(t=e).bundleId,createTime:Nu(t.createTime),version:t.version};var t})}saveBundleMetadata(e,t){return Lu(e).put({bundleId:(n=t).id,createTime:Au(dl(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return Mu(e).get(t).next(e=>{if(e)return{name:(t=e).name,query:Ru(t.bundledQuery),readTime:Nu(t.readTime)};var t})}saveNamedQuery(e,t){return Mu(e).put(function(e){return{name:e.name,readTime:Au(dl(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Lu(e){return wu(e,ru.store)}function Mu(e){return wu(e,iu.store)}class Fu{constructor(){this.zt=new Uu}addToCollectionParentIndex(e,t){return this.zt.add(t),lu.resolve()}getCollectionParents(e,t){return lu.resolve(this.zt.getEntries(t))}}class Uu{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Va(Ms.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Va(Ms.comparator)).toArray()}}class Vu{constructor(){this.Ht=new Uu}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const i={collectionId:n,parent:Vl(r)};return ju(e).put(i)}return lu.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Ns(t),""],!1,!0);return ju(e).Bt(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(ql(r.parent))}return n})}}function ju(e){return wu(e,tu.store)}const zu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class qu{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new qu(e,qu.DEFAULT_COLLECTION_PERCENTILE,qu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Bu(e,t,n){const r=e.store(Wl.store),i=e.store(Gl.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.jt({range:o},(e,t,n)=>(a++,n.delete()));s.push(l.next(()=>{hs(1===a)}));const u=[];for(const c of n.mutations){const e=Gl.key(t,c.key.path,n.batchId);s.push(i.delete(e)),u.push(c.key)}return lu.waitFor(s).next(()=>u)}function Ku(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw cs();t=e.noDocument}return JSON.stringify(t).length}qu.DEFAULT_COLLECTION_PERCENTILE=10,qu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qu.DEFAULT=new qu(41943040,qu.DEFAULT_COLLECTION_PERCENTILE,qu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qu.DISABLED=new qu(-1,0,0);class Hu{constructor(e,t,n,r){this.userId=e,this.k=t,this.Jt=n,this.referenceDelegate=r,this.Yt={}}static Xt(e,t,n,r){hs(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Hu(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gu(e).jt({index:Wl.userMutationsIndex,range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=Qu(e),s=Gu(e);return s.add({}).next(o=>{hs("number"==typeof o);const a=new bu(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map(t=>Sl(e.Gt,t)),i=n.mutations.map(t=>Sl(e.Gt,t));return new Wl(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.k,this.userId,a),u=[];let c=new Va((e,t)=>Cs(e.canonicalString(),t.canonicalString()));for(const e of r){const t=Gl.key(this.userId,e.key.path,o);c=c.add(e.key.path.popLast()),u.push(s.put(l)),u.push(i.put(t,Gl.PLACEHOLDER))}return c.forEach(t=>{u.push(this.Jt.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Yt[o]=a.keys()}),lu.waitFor(u).next(()=>a)})}lookupMutationBatch(e,t){return Gu(e).get(t).next(e=>e?(hs(e.userId===this.userId),Du(this.k,e)):null)}Zt(e,t){return this.Yt[t]?lu.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Yt[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Gu(e).jt({index:Wl.userMutationsIndex,range:r},(e,t,r)=>{t.userId===this.userId&&(hs(t.batchId>=n),i=Du(this.k,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Gu(e).jt({index:Wl.userMutationsIndex,range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gu(e).Bt(Wl.userMutationsIndex,t).next(e=>e.map(e=>Du(this.k,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Gl.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Qu(e).jt({range:r},(n,r,s)=>{const[o,a,l]=n,u=ql(a);if(o===this.userId&&t.path.isEqual(u))return Gu(e).get(l).next(e=>{if(!e)throw cs();hs(e.userId===this.userId),i.push(Du(this.k,e))});s.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Va(Cs);const r=[];return t.forEach(t=>{const i=Gl.prefixForPath(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=Qu(e).jt({range:s},(e,r,i)=>{const[s,o,a]=e,l=ql(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()});r.push(o)}),lu.waitFor(r).next(()=>this.te(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Gl.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new Va(Cs);return Qu(e).jt({range:s},(e,t,i)=>{const[s,a,l]=e,u=ql(a);s===this.userId&&n.isPrefixOf(u)?u.length===r&&(o=o.add(l)):i.done()}).next(()=>this.te(e,o))}te(e,t){const n=[],r=[];return t.forEach(t=>{r.push(Gu(e).get(t).next(e=>{if(null===e)throw cs();hs(e.userId===this.userId),n.push(Du(this.k,e))}))}),lu.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return Bu(e.Wt,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),lu.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return lu.resolve();const n=IDBKeyRange.lowerBound(Gl.prefixForUser(this.userId)),r=[];return Qu(e).jt({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=ql(e[1]);r.push(t)}else n.done()}).next(()=>{hs(0===r.length)})})}containsKey(e,t){return Wu(e,this.userId,t)}ne(e){return Yu(e).get(this.userId).next(e=>e||new Hl(this.userId,-1,""))}}function Wu(e,t,n){const r=Gl.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Qu(e).jt({range:s,Kt:!0},(e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()}).next(()=>o)}function Gu(e){return wu(e,Wl.store)}function Qu(e){return wu(e,Gl.store)}function Yu(e){return wu(e,Hl.store)}class $u{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new $u(0)}static re(){return new $u(-1)}}class Ju{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const n=new $u(t.highestTargetId);return t.highestTargetId=n.next(),this.ae(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(e=>Ps.fromTimestamp(new Ds(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.oe(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.ae(e,r)))}addTargetData(e,t){return this.ce(e,t).next(()=>this.oe(e).next(n=>(n.targetCount+=1,this.ue(t,n),this.ae(e,n))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Xu(e).delete(t.targetId)).next(()=>this.oe(e)).next(t=>(hs(t.targetCount>0),t.targetCount-=1,this.ae(e,t)))}removeTargets(e,t,n){let r=0;const i=[];return Xu(e).jt((s,o)=>{const a=Pu(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))}).next(()=>lu.waitFor(i)).next(()=>r)}forEachTarget(e,t){return Xu(e).jt((e,n)=>{const r=Pu(n);t(r)})}oe(e){return Zu(e).get(eu.key).next(e=>(hs(null!==e),e))}ae(e,t){return Zu(e).put(eu.key,t)}ce(e,t){return Xu(e).put(xu(this.k,t))}ue(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.oe(e).next(e=>e.targetCount)}getTargetData(e,t){const n=vo(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Xu(e).jt({range:r,index:Xl.queryTargetsIndexName},(e,n,r)=>{const s=Pu(n);wo(t,s.target)&&(i=s,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){const r=[],i=ec(e);return t.forEach(t=>{const s=Vl(t.path);r.push(i.put(new Zl(n,s))),r.push(this.referenceDelegate.addReference(e,n,t))}),lu.waitFor(r)}removeMatchingKeys(e,t,n){const r=ec(e);return lu.forEach(t,t=>{const i=Vl(t.path);return lu.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=ec(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ec(e);let i=Qa();return r.jt({range:n,Kt:!0},(e,t,n)=>{const r=ql(e[1]),s=new Js(r);i=i.add(s)}).next(()=>i)}containsKey(e,t){const n=Vl(t.path),r=IDBKeyRange.bound([n],[Ns(n)],!1,!0);let i=0;return ec(e).jt({index:Zl.documentTargetsIndex,Kt:!0,range:r},(e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())}).next(()=>i>0)}Et(e,t){return Xu(e).get(t).next(e=>e?Pu(e):null)}}function Xu(e){return wu(e,Xl.store)}function Zu(e){return wu(e,eu.store)}function ec(e){return wu(e,Zl.store)}async function tc(e){if(e.code!==fs.FAILED_PRECONDITION||e.message!==ou)throw e;os("LocalStore","Unexpectedly lost primary lease")}function nc(e,t){let[n,r]=e,[i,s]=t;const o=Cs(n,i);return 0===o?Cs(r,s):o}class rc{constructor(e){this.he=e,this.buffer=new Va(nc),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();nc(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ic{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){const t=this.we?3e5:6e4;os("LruGarbageCollector","Garbage collection scheduled in ".concat(t,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this._e=null,this.we=!0;try{await e.collectGarbage(this.garbageCollector)}catch(e){fu(e)?os("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await tc(e)}await this.me(e)})}}class sc{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return lu.resolve(Is.I);const n=new rc(t);return this.ge.forEachTarget(e,e=>n.de(e.sequenceNumber)).next(()=>this.ge.pe(e,e=>n.de(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.ge.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(os("LruGarbageCollector","Garbage collection skipped; disabled"),lu.resolve(zu)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(os("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),zu):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let n,r,i,s,o,a,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(os("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),ss()<=M.DEBUG&&os("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-u,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-u,"ms")),lu.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}class oc{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new sc(e,t)}(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}Ee(e){let t=0;return this.pe(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(e,n)=>t(n))}addReference(e,t,n){return ac(e,n)}removeReference(e,t,n){return ac(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return ac(e,t)}Ae(e,t){return function(e,t){let n=!1;return Yu(e).Qt(r=>Wu(e,r,t).next(e=>(e&&(n=!0),lu.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Ie(e,(s,o)=>{if(o<=t){const t=this.Ae(e,s).next(t=>{if(!t)return i++,n.getEntry(e,s).next(()=>(n.removeEntry(s),ec(e).delete([0,Vl(s.path)])))});r.push(t)}}).next(()=>lu.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return ac(e,t)}Ie(e,t){const n=ec(e);let r,i=Is.I;return n.jt({index:Zl.documentTargetsIndex},(e,n)=>{let[s,o]=e,{path:a,sequenceNumber:l}=n;0===s?(i!==Is.I&&t(new Js(ql(r)),i),i=l,r=a):i=Is.I}).next(()=>{i!==Is.I&&t(new Js(ql(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ac(e,t){return ec(e).put(function(e,t){return new Zl(0,Vl(e.path),t)}(t,e.currentSequenceNumber))}class lc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){Rs(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Os(this.inner)}}class uc{constructor(){this.changes=new lc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Ps.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:mo.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?lu.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cc{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,n){return fc(e).put(pc(t),n)}removeEntry(e,t){const n=fc(e),r=pc(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Re(e,n)))}getEntry(e,t){return fc(e).get(pc(t)).next(e=>this.Pe(t,e))}be(e,t){return fc(e).get(pc(t)).next(e=>({document:this.Pe(t,e),size:Ku(e)}))}getEntries(e,t){let n=qa();return this.ve(e,t,(e,t)=>{const r=this.Pe(e,t);n=n.insert(e,r)}).next(()=>n)}Ve(e,t){let n=qa(),r=new Ma(Js.comparator);return this.ve(e,t,(e,t)=>{const i=this.Pe(e,t);n=n.insert(e,i),r=r.insert(e,Ku(t))}).next(()=>({documents:n,Se:r}))}ve(e,t,n){if(t.isEmpty())return lu.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator();let s=i.getNext();return fc(e).jt({range:r},(e,t,r)=>{const o=Js.fromSegments(e);for(;s&&Js.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,t),s=i.hasNext()?i.getNext():null),s?r.Lt(s.path.toArray()):r.done()}).next(()=>{for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})}getDocumentsMatchingQuery(e,t,n){let r=qa();const i=t.path.length+1,s={};if(n.isEqual(Ps.min())){const e=t.path.toArray();s.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),r=Eu(n);s.range=IDBKeyRange.lowerBound([e,r],!0),s.index=$l.collectionReadTimeIndex}return fc(e).jt(s,(e,n,s)=>{if(e.length!==i)return;const o=Iu(this.k,n);t.path.isPrefixOf(o.key.path)?$o(t,o)&&(r=r.insert(o.key,o)):s.done()}).next(()=>r)}newChangeBuffer(e){return new hc(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return dc(e).get(Jl.key).next(e=>(hs(!!e),e))}Re(e,t){return dc(e).put(Jl.key,t)}Pe(e,t){if(t){const e=Iu(this.k,t);if(!e.isNoDocument()||!e.version.isEqual(Ps.min()))return e}return mo.newInvalidDocument(e)}}class hc extends uc{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new lc(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new Va((e,t)=>Cs(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,s)=>{const o=this.Ce.get(i);if(s.document.isValidDocument()){const a=Tu(this.De.k,s.document,this.getReadTime(i));r=r.add(i.path.popLast());const l=Ku(a);n+=l-o,t.push(this.De.addEntry(e,i,a))}else if(n-=o,this.trackRemovals){const n=Tu(this.De.k,mo.newNoDocument(i,Ps.min()),this.getReadTime(i));t.push(this.De.addEntry(e,i,n))}else t.push(this.De.removeEntry(e,i))}),r.forEach(n=>{t.push(this.De.Jt.addToCollectionParentIndex(e,n))}),t.push(this.De.updateMetadata(e,n)),lu.waitFor(t)}getFromCache(e,t){return this.De.be(e,t).next(e=>(this.Ce.set(t,e.size),e.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(e=>{let{documents:t,Se:n}=e;return n.forEach((e,t)=>{this.Ce.set(e,t)}),t})}}function dc(e){return wu(e,Jl.store)}function fc(e){return wu(e,$l.store)}function pc(e){return e.path.toArray()}class mc{constructor(e){this.k=e}Nt(e,t,n,r){hs(n<r&&n>=0&&r<=11);const i=new uu("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Kl.store)}(e),function(e){e.createObjectStore(Hl.store,{keyPath:Hl.keyPath}),e.createObjectStore(Wl.store,{keyPath:Wl.keyPath,autoIncrement:!0}).createIndex(Wl.userMutationsIndex,Wl.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Gl.store)}(e),gc(e),function(e){e.createObjectStore($l.store)}(e));let s=lu.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Zl.store),e.deleteObjectStore(Xl.store),e.deleteObjectStore(eu.store)}(e),gc(e)),s=s.next(()=>function(e){const t=e.store(eu.store),n=new eu(0,0,Ps.min().toTimestamp(),0);return t.put(eu.key,n)}(i))),n<4&&r>=4&&(0!==n&&(s=s.next(()=>function(e,t){return t.store(Wl.store).Bt().next(n=>{e.deleteObjectStore(Wl.store),e.createObjectStore(Wl.store,{keyPath:Wl.keyPath,autoIncrement:!0}).createIndex(Wl.userMutationsIndex,Wl.userMutationsKeyPath,{unique:!0});const r=t.store(Wl.store),i=n.map(e=>r.put(e));return lu.waitFor(i)})}(e,i))),s=s.next(()=>{!function(e){e.createObjectStore(nu.store,{keyPath:nu.keyPath})}(e)})),n<5&&r>=5&&(s=s.next(()=>this.Ne(i))),n<6&&r>=6&&(s=s.next(()=>(function(e){e.createObjectStore(Jl.store)}(e),this.ke(i)))),n<7&&r>=7&&(s=s.next(()=>this.xe(i))),n<8&&r>=8&&(s=s.next(()=>this.$e(e,i))),n<9&&r>=9&&(s=s.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){const t=e.objectStore($l.store);t.createIndex($l.readTimeIndex,$l.readTimeIndexPath,{unique:!1}),t.createIndex($l.collectionReadTimeIndex,$l.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(s=s.next(()=>this.Fe(i))),n<11&&r>=11&&(s=s.next(()=>{!function(e){e.createObjectStore(ru.store,{keyPath:ru.keyPath})}(e),function(e){e.createObjectStore(iu.store,{keyPath:iu.keyPath})}(e)})),s}ke(e){let t=0;return e.store($l.store).jt((e,n)=>{t+=Ku(n)}).next(()=>{const n=new Jl(t);return e.store(Jl.store).put(Jl.key,n)})}Ne(e){const t=e.store(Hl.store),n=e.store(Wl.store);return t.Bt().next(t=>lu.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Bt(Wl.userMutationsIndex,r).next(n=>lu.forEach(n,n=>{hs(n.userId===t.userId);const r=Du(this.k,n);return Bu(e,t.userId,r).next(()=>{})}))}))}xe(e){const t=e.store(Zl.store),n=e.store($l.store);return e.store(eu.store).get(eu.key).next(e=>{const r=[];return n.jt((n,i)=>{const s=new Ms(n),o=function(e){return[0,Vl(e)]}(s);r.push(t.get(o).next(n=>n?lu.resolve():(n=>t.put(new Zl(0,Vl(n),e.highestListenSequenceNumber)))(s)))}).next(()=>lu.waitFor(r))})}$e(e,t){e.createObjectStore(tu.store,{keyPath:tu.keyPath});const n=t.store(tu.store),r=new Uu,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Vl(r)})}};return t.store($l.store).jt({Kt:!0},(e,t)=>{const n=new Ms(e);return i(n.popLast())}).next(()=>t.store(Gl.store).jt({Kt:!0},(e,t)=>{let[n,r,s]=e;const o=ql(r);return i(o.popLast())}))}Fe(e){const t=e.store(Xl.store);return t.jt((e,n)=>{const r=Pu(n),i=xu(this.k,r);return t.put(i)})}}function gc(e){e.createObjectStore(Zl.store,{keyPath:Zl.keyPath}).createIndex(Zl.documentTargetsIndex,Zl.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Xl.store,{keyPath:Xl.keyPath}).createIndex(Xl.queryTargetsIndexName,Xl.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(eu.store)}const yc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class vc{constructor(e,t,n,r,i,s,o,a,l,u){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Oe=i,this.window=s,this.document=o,this.Me=l,this.Le=u,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=e=>Promise.resolve(),!vc.bt())throw new ps(fs.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new oc(this,r),this.Ge=t+"main",this.k=new Su(a),this.ze=new cu(this.Ge,11,new mc(this.k)),this.He=new Ju(this.referenceDelegate,this.k),this.Jt=new Vu,this.Je=function(e,t){return new cc(e,t)}(this.k,this.Jt),this.Ye=new Ou,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===u&&as("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ps(fs.FAILED_PRECONDITION,yc);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new Is(e,this.Me)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){return this.We=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(async t=>{null===t.newVersion&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget(async()=>{this.started&&await this.Ze()}))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>bc(e).put(new nu(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.an(e).next(()=>!1):!!t&&this.cn(e).next(()=>!0))).catch(e=>{if(fu(e))return os("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return os("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return wc(e).get(Kl.key).next(e=>lu.resolve(this.un(e)))}hn(e){return bc(e).delete(this.clientId)}async ln(){if(this.isPrimary&&!this.fn(this.Qe,18e5)){this.Qe=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const t=wu(e,nu.store);return t.Bt().next(e=>{const n=this.dn(e,18e5),r=e.filter(e=>-1===n.indexOf(e));return lu.forEach(r,e=>t.delete(e.clientId)).next(()=>r)})}).catch(()=>[]);if(this.Xe)for(const t of e)this.Xe.removeItem(this.wn(t.clientId))}}nn(){this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?lu.resolve(!0):wc(e).get(Kl.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new ps(fs.FAILED_PRECONDITION,yc);return!1}}return!(!this.networkEnabled||!this.inForeground)||bc(e).Bt().next(e=>void 0===this.dn(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&os("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e))}async shutdown(){this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),await this.ze.runTransaction("shutdown","readwrite",[Kl.store,nu.store],e=>{const t=new vu(e,Is.I);return this.an(t).next(()=>this.hn(t))}),this.ze.close(),this.pn()}dn(e,t){return e.filter(e=>this.fn(e.updateTimeMs,t)&&!this._n(e.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>bc(e).Bt().next(e=>this.dn(e,18e5).map(e=>e.clientId)))}get started(){return this.Ue}getMutationQueue(e){return Hu.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,n){os("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite";let i;return this.ze.runTransaction(e,r,su,r=>(i=new vu(r,this.Be?this.Be.next():Is.I),"readwrite-primary"===t?this.rn(i).next(e=>!!e||this.on(i)).next(t=>{if(!t)throw as("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)),new ps(fs.FAILED_PRECONDITION,ou);return n(i)}).next(e=>this.cn(i).next(()=>e)):this.En(i).next(()=>n(i)))).then(e=>(i.raiseOnCommittedEvent(),e))}En(e){return wc(e).get(Kl.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)&&!this.un(e)&&!(this.Le||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ps(fs.FAILED_PRECONDITION,yc)})}cn(e){const t=new Kl(this.clientId,this.allowTabSynchronization,Date.now());return wc(e).put(Kl.key,t)}static bt(){return cu.bt()}an(e){const t=wc(e);return t.get(Kl.key).next(e=>this.un(e)?(os("IndexedDbPersistence","Releasing primary lease."),t.delete(Kl.key)):lu.resolve())}fn(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(as("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),!f()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return os("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return as("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(nt){as("Failed to set zombie client id.",nt)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(nt){}}wn(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function wc(e){return wu(e,Kl.store)}function bc(e){return wu(e,nu.store)}function kc(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class _c{constructor(e,t){this.progress=e,this.In=t}}class Sc{constructor(e,t,n){this.Je=e,this.An=t,this.Jt=n}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(n=>this.Pn(e,t,n))}Pn(e,t,n){return this.Je.getEntry(e,t).next(e=>{for(const t of n)t.applyToLocalView(e);return e})}bn(e,t){e.forEach((e,n)=>{for(const r of t)r.applyToLocalView(n)})}vn(e,t){return this.Je.getEntries(e,t).next(t=>this.Vn(e,t).next(()=>t))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>this.bn(t,e))}getDocumentsMatchingQuery(e,t,n){return function(e){return Js.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):Bo(t)?this.Dn(e,t,n):this.Cn(e,t,n)}Sn(e,t){return this.Rn(e,new Js(t)).next(e=>{let t=Ka();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}Dn(e,t,n){const r=t.collectionGroup;let i=Ka();return this.Jt.getCollectionParents(e,r).next(s=>lu.forEach(s,s=>{const o=function(e,t){return new Mo(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.Cn(e,o,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}Cn(e,t,n){let r,i;return this.Je.getDocumentsMatchingQuery(e,t,n).next(n=>(r=n,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(t=>(i=t,this.Nn(e,i,r).next(e=>{r=e;for(const t of i)for(const e of t.mutations){const n=e.key;let i=r.get(n);null==i&&(i=mo.newInvalidDocument(n),r=r.insert(n,i)),ba(e,i,t.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))).next(()=>(r.forEach((e,n)=>{$o(t,n)||(r=r.remove(e))}),r))}Nn(e,t,n){let r=Qa();for(const s of t)for(const e of s.mutations)e instanceof Ta&&null===n.get(e.key)&&(r=r.add(e.key));let i=n;return this.Je.getEntries(e,r).next(e=>(e.forEach((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))}),i))}}class Ic{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.kn=n,this.xn=r}static $n(e,t){let n=Qa(),r=Qa();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Ic(e,t.fromCache,n,r)}}class Tc{Fn(e){this.On=e}getDocumentsMatchingQuery(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Ps.min())?this.Mn(e,t):this.On.vn(e,r).next(i=>{const s=this.Ln(t,i);return(Vo(t)||jo(t))&&this.Bn(t.limitType,s,r,n)?this.Mn(e,t):(ss()<=M.DEBUG&&os("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Yo(t)),this.On.getDocumentsMatchingQuery(e,t,n).next(e=>(s.forEach(t=>{e=e.insert(t.key,t)}),e)))})}Ln(e,t){let n=new Va(Jo(e));return t.forEach((t,r)=>{$o(e,r)&&(n=n.add(r))}),n}Bn(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Mn(e,t){return ss()<=M.DEBUG&&os("QueryEngine","Using full collection scan to execute query:",Yo(t)),this.On.getDocumentsMatchingQuery(e,t,Ps.min())}}class Ec{constructor(e,t,n,r){this.persistence=e,this.Un=t,this.k=r,this.qn=new Ma(Cs),this.Kn=new lc(e=>vo(e),wo),this.jn=Ps.min(),this.An=e.getMutationQueue(n),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new Sc(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function Cc(e,t,n,r){return new Ec(e,t,n,r)}async function Ac(e,t){const n=ds(e);let r=n.An,i=n.Wn;const s=await n.persistence.runTransaction("Handle user change","readonly",e=>{let s;return n.An.getAllMutationBatches(e).next(o=>(s=o,r=n.persistence.getMutationQueue(t),i=new Sc(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e))).next(t=>{const n=[],r=[];let o=Qa();for(const e of s){n.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return i.vn(e,o).next(e=>({Gn:e,removedBatchIds:n,addedBatchIds:r}))})});return n.An=r,n.Wn=i,n.Un.Fn(n.Wn),s}function Nc(e){const t=ds(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.He.getLastRemoteSnapshotVersion(e))}function Dc(e,t,n,r,i){let s=Qa();return n.forEach(e=>s=s.add(e)),t.getEntries(e,s).next(e=>{let s=qa();return n.forEach((n,o)=>{const a=e.get(n),l=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Ps.min())?(t.removeEntry(n,l),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o,l),s=s.insert(n,o)):os("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function Pc(e,t){const n=ds(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)))}function xc(e,t){const n=ds(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.He.getTargetData(e,t).next(i=>i?(r=i,lu.resolve(r)):n.He.allocateTargetId(e).next(i=>(r=new _u(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e})}async function Rc(e,t,n){const r=ds(e),i=r.qn.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!fu(e))throw e;os("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.qn=r.qn.remove(t),r.Kn.delete(i.target)}function Oc(e,t,n){const r=ds(e);let i=Ps.min(),s=Qa();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=ds(e),i=r.Kn.get(n);return void 0!==i?lu.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,Ho(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Un.getDocumentsMatchingQuery(e,t,n?i:Ps.min(),n?s:Qa())).next(e=>({documents:e,zn:s})))}function Lc(e,t){const n=ds(e),r=ds(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",e=>r.Et(e,t).next(e=>e?e.target:null))}function Mc(e){const t=ds(e);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(e,t,n){const r=ds(e);let i=qa(),s=Eu(n);const o=fc(t),a=IDBKeyRange.lowerBound(s,!0);return o.jt({index:$l.readTimeIndex,range:a},(e,t)=>{const n=Iu(r.k,t);i=i.insert(n.key,n),s=t.readTime}).next(()=>({In:i,readTime:Cu(s)}))}(t.Qn,e,t.jn)).then(e=>{let{In:n,readTime:r}=e;return t.jn=r,n})}async function Fc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qa();const r=await xc(e,Ho(Ru(t.bundledQuery))),i=ds(e);return i.persistence.runTransaction("Save named query","readwrite",e=>{const s=dl(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ye.saveNamedQuery(e,t);const o=r.withResumeToken(js.EMPTY_BYTE_STRING,s);return i.qn=i.qn.insert(o.targetId,o),i.He.updateTargetData(e,o).next(()=>i.He.removeMatchingKeysForTargetId(e,r.targetId)).next(()=>i.He.addMatchingKeys(e,n,r.targetId)).next(()=>i.Ye.saveNamedQuery(e,t))})}class Uc{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return lu.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:dl(n.createTime)}),lu.resolve()}getNamedQuery(e,t){return lu.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:Ru(e.bundledQuery),readTime:dl(e.readTime)}}(t)),lu.resolve()}}class Vc{constructor(){this.ts=new Va(jc.es),this.ns=new Va(jc.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const n=new jc(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}rs(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.os(new jc(e,t))}cs(e,t){e.forEach(e=>this.removeReference(e,t))}us(e){const t=new Js(new Ms([])),n=new jc(t,e),r=new jc(t,e+1),i=[];return this.ns.forEachInRange([n,r],e=>{this.os(e),i.push(e.key)}),i}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new Js(new Ms([])),n=new jc(t,e),r=new jc(t,e+1);let i=Qa();return this.ns.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new jc(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class jc{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return Js.comparator(e.key,t.key)||Cs(e.fs,t.fs)}static ss(e,t){return Cs(e.fs,t.fs)||Js.comparator(e.key,t.key)}}class zc{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new Va(jc.es)}checkEmpty(e){return lu.resolve(0===this.An.length)}addMutationBatch(e,t,n,r){const i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];const s=new bu(i,t,n,r);this.An.push(s);for(const o of r)this.ws=this.ws.add(new jc(o.key,i)),this.Jt.addToCollectionParentIndex(e,o.key.path.popLast());return lu.resolve(s)}lookupMutationBatch(e,t){return lu.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.gs(n),i=r<0?0:r;return lu.resolve(this.An.length>i?this.An[i]:null)}getHighestUnacknowledgedBatchId(){return lu.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return lu.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new jc(t,0),r=new jc(t,Number.POSITIVE_INFINITY),i=[];return this.ws.forEachInRange([n,r],e=>{const t=this._s(e.fs);i.push(t)}),lu.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Va(Cs);return t.forEach(e=>{const t=new jc(e,0),r=new jc(e,Number.POSITIVE_INFINITY);this.ws.forEachInRange([t,r],e=>{n=n.add(e.fs)})}),lu.resolve(this.ys(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Js.isDocumentKey(i)||(i=i.child(""));const s=new jc(new Js(i),0);let o=new Va(Cs);return this.ws.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)},s),lu.resolve(this.ys(o))}ys(e){const t=[];return e.forEach(e=>{const n=this._s(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){hs(0===this.ps(t.batchId,"removed")),this.An.shift();let n=this.ws;return lu.forEach(t.mutations,r=>{const i=new jc(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ws=n})}ee(e){}containsKey(e,t){const n=new jc(t,0),r=this.ws.firstAfterOrEqual(n);return lu.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.An.length,lu.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class qc{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new Ma(Js.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-s,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return lu.resolve(n?n.document.clone():mo.newInvalidDocument(t))}getEntries(e,t){let n=qa();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():mo.newInvalidDocument(e))}),lu.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=qa();const i=new Js(t.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i,readTime:o}}=s.getNext();if(!t.path.isPrefixOf(e.path))break;o.compareTo(n)<=0||$o(t,i)&&(r=r.insert(i.key,i.clone()))}return lu.resolve(r)}Es(e,t){return lu.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Bc(this)}getSize(e){return lu.resolve(this.size)}}class Bc extends uc{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.document.isValidDocument()?t.push(this.De.addEntry(e,r.document,this.getReadTime(n))):this.De.removeEntry(n)}),lu.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class Kc{constructor(e){this.persistence=e,this.Is=new lc(e=>vo(e),wo),this.lastRemoteSnapshotVersion=Ps.min(),this.highestTargetId=0,this.As=0,this.Rs=new Vc,this.targetCount=0,this.Ps=$u.ie()}forEachTarget(e,t){return this.Is.forEach((e,n)=>t(n)),lu.resolve()}getLastRemoteSnapshotVersion(e){return lu.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return lu.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.Ps.next(),lu.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),lu.resolve()}ce(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ps=new $u(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,lu.resolve()}updateTargetData(e,t){return this.ce(t),lu.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,lu.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Is.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Is.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),lu.waitFor(i).next(()=>r)}getTargetCount(e){return lu.resolve(this.targetCount)}getTargetData(e,t){const n=this.Is.get(t)||null;return lu.resolve(n)}addMatchingKeys(e,t,n){return this.Rs.rs(t,n),lu.resolve()}removeMatchingKeys(e,t,n){this.Rs.cs(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),lu.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),lu.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Rs.ls(t);return lu.resolve(n)}containsKey(e,t){return lu.resolve(this.Rs.containsKey(t))}}class Hc{constructor(e,t){this.bs={},this.Be=new Is(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new Kc(this),this.Jt=new Fu,this.Je=function(e,t){return new qc(e,t)}(this.Jt,e=>this.referenceDelegate.vs(e)),this.k=new Su(t),this.Ye=new Uc(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new zc(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,n){os("MemoryPersistence","Starting transaction:",e);const r=new Wc(this.Be.next());return this.referenceDelegate.Vs(),n(r).next(e=>this.referenceDelegate.Ss(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ds(e,t){return lu.or(Object.values(this.bs).map(n=>()=>n.containsKey(e,t)))}}class Wc extends au{constructor(e){super(),this.currentSequenceNumber=e}}class Gc{constructor(e){this.persistence=e,this.Cs=new Vc,this.Ns=null}static ks(e){return new Gc(e)}get xs(){if(this.Ns)return this.Ns;throw cs()}addReference(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),lu.resolve()}removeReference(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),lu.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),lu.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(e=>this.xs.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.xs.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lu.forEach(this.xs,n=>{const r=Js.fromPath(n);return this.$s(e,r).next(e=>{e||t.removeEntry(r)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return lu.or([()=>lu.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function Qc(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Yc(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function $c(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class Jc{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Fs(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new ps(r.error.code,r.error.message))),s?new Jc(e,t,r.state,i):(as("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Xc{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Fs(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new ps(n.error.code,n.error.message))),i?new Xc(e,n.state,r):(as("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zc{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Fs(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=$a();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=$s(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new Zc(e,i):(as("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class eh{constructor(e,t){this.clientId=e,this.onlineState=t}static Fs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new eh(t.clientId,t.onlineState):(as("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class th{constructor(){this.activeTargetIds=$a()}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nh{constructor(e,t,n,r,i){this.window=e,this.Oe=t,this.persistenceKey=n,this.Bs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Ma(Cs),this.started=!1,this.js=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=Qc(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new th),this.Gs=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static bt(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Tn();for(const n of e){if(n===this.Bs)continue;const e=this.getItem(Qc(this.persistenceKey,n));if(e){const t=Zc.Fs(n,e);t&&(this.Ks=this.Ks.insert(t.clientId,t))}}this.Xs();const t=this.storage.getItem(this.Js);if(t){const e=this.Zs(t);e&&this.ti(e)}for(const n of this.js)this.qs(n);this.js=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,n){this.ni(e,t,n),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem($c(this.persistenceKey,e));if(n){const r=Xc.Fs(e,n);r&&(t=r.state)}}return this.ii.Ms(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem($c(this.persistenceKey,e))}updateQueryState(e,t,n){this.ri(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.si(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ai()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return os("SharedClientState","READ",e,t),t}setItem(e,t){os("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){os("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){const t=e;if(t.storageArea===this.storage){if(os("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Qs)return void as("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable(async()=>{if(this.started){if(null!==t.key)if(this.Gs.test(t.key)){if(null==t.newValue){const e=this.ci(t.key);return this.ui(e,null)}{const e=this.hi(t.key,t.newValue);if(e)return this.ui(e.clientId,e)}}else if(this.zs.test(t.key)){if(null!==t.newValue){const e=this.li(t.key,t.newValue);if(e)return this.fi(e)}}else if(this.Hs.test(t.key)){if(null!==t.newValue){const e=this.di(t.key,t.newValue);if(e)return this.wi(e)}}else if(t.key===this.Js){if(null!==t.newValue){const e=this.Zs(t.newValue);if(e)return this.ti(e)}}else if(t.key===this.Ws){const e=function(e){let t=Is.I;if(null!=e)try{const n=JSON.parse(e);hs("number"==typeof n),t=n}catch(e){as("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Is.I&&this.sequenceNumberHandler(e)}else if(t.key===this.Ys)return this.syncEngine._i()}else this.js.push(t)})}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Os())}ni(e,t,n){const r=new Jc(this.currentUser,e,t,n),i=Yc(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}si(e){const t=Yc(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){const t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}ri(e,t,n){const r=$c(this.persistenceKey,e),i=new Xc(e,t,n);this.setItem(r,i.Os())}ai(){this.setItem(this.Ys,"value-not-used")}ci(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const n=this.ci(e);return Zc.Fs(n,t)}li(e,t){const n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Jc.Fs(new ns(i),r,t)}di(e,t){const n=this.Hs.exec(e),r=Number(n[1]);return Xc.Fs(r,t)}Zs(e){return eh.Fs(e)}async fi(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.mi(e.batchId,e.state,e.error);os("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const n=t?this.Ks.insert(e,t):this.Ks.remove(e),r=this.ei(this.Ks),i=this.ei(n),s=[],o=[];return i.forEach(e=>{r.has(e)||s.push(e)}),r.forEach(e=>{i.has(e)||o.push(e)}),this.syncEngine.yi(s,o).then(()=>{this.Ks=n})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=$a();return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class rh{constructor(){this.pi=new th,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,t,n){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new th,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class ih{Ei(e){}shutdown(){}}class sh{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){os("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Pi(){os("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const oh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class ah{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Fi(e){this.ki(e)}Oi(e){this.xi(e)}}class lh extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.Mi=t+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,n,r,i){const s=this.Ui(e,t);os("RestConnection","Sending: ",s,n);const o={};return this.qi(o,r,i),this.Ki(e,s,o,n).then(e=>(os("RestConnection","Received: ",e),e),t=>{throw ls("RestConnection","".concat(e," failed with error: "),t,"url: ",s,"request:",n),t})}ji(e,t,n,r,i){return this.Bi(e,t,n,r,i)}qi(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+rs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}Ui(e,t){const n=oh[e];return"".concat(this.Mi,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,n,r){return new Promise((i,s)=>{const o=new es;o.listenOnce(Yi.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Qi.NO_ERROR:const t=o.getResponseJson();os("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Qi.TIMEOUT:os("Connection",'RPC "'+e+'" timed out'),s(new ps(fs.DEADLINE_EXCEEDED,"Request time out"));break;case Qi.HTTP_ERROR:const n=o.getStatus();if(os("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(fs).indexOf(t)>=0?t:fs.UNKNOWN}(e.status);s(new ps(t,e.message))}else s(new ps(fs.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new ps(fs.UNAVAILABLE,"Connection failed."));break;default:cs()}}finally{os("Connection",'RPC "'+e+'" completed.')}});const a=JSON.stringify(r);o.send(t,"POST",a,n,15)})}Qi(e,t,n){const r=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Wi(),s=Gi(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Xi({})),this.qi(o.initMessageHeaders,t,n),d()||m()||h().indexOf("Electron/")>=0||g()||h().indexOf("MSAppHost/")>=0||p()||(o.httpHeadersOverwriteParam="$httpHeaders");const a=r.join("");os("Connection","Creating WebChannel: "+a,o);const l=i.createWebChannel(a,o);let u=!1,c=!1;const f=new ah({Vi:e=>{c?os("Connection","Not sending because WebChannel is closed:",e):(u||(os("Connection","Opening WebChannel transport."),l.open(),u=!0),os("Connection","WebChannel sending:",e),l.send(e))},Si:()=>l.close()}),y=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return y(l,Zi.EventType.OPEN,()=>{c||os("Connection","WebChannel transport opened.")}),y(l,Zi.EventType.CLOSE,()=>{c||(c=!0,os("Connection","WebChannel transport closed"),f.Fi())}),y(l,Zi.EventType.ERROR,e=>{c||(c=!0,ls("Connection","WebChannel transport errored:",e),f.Fi(new ps(fs.UNAVAILABLE,"The operation could not be completed")))}),y(l,Zi.EventType.MESSAGE,e=>{var t;if(!c){const n=e.data[0];hs(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){os("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=xa[e];if(void 0!==t)return La(t)}(e),n=i.message;void 0===t&&(t=fs.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),c=!0,f.Fi(new ps(t,n)),l.close()}else os("Connection","WebChannel received:",n),f.Oi(n)}}),y(s,$i.STAT_EVENT,e=>{e.stat===Ji.PROXY?os("Connection","Detected buffering proxy"):e.stat===Ji.NOPROXY&&os("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.$i()},0),f}}function uh(){return"undefined"!=typeof window?window:null}function ch(){return"undefined"!=typeof document?document:null}function hh(e){return new ll(e,!0)}class dh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Oe=e,this.timerId=t,this.Wi=n,this.Gi=r,this.zi=i,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),n=Math.max(0,Date.now()-this.Yi),r=Math.max(0,t-n);r>0&&os("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,r,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class fh{constructor(e,t,n,r,i,s,o,a){this.Oe=e,this.nr=n,this.sr=r,this.ir=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new dh(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}async stop(){this.hr()&&await this.close(0)}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}async mr(){if(this.lr())return this.close(0)}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}async close(e,t){this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==e?this.ur.reset():t&&t.code===fs.RESOURCE_EXHAUSTED?(as(t.toString()),as("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):t&&t.code===fs.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ni(t)}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.rr===t&&this.Ir(n,r)},t=>{e(()=>{const e=new ps(fs.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Ar(e)})})}Ir(e,t){const n=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{n(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(e=>{n(()=>this.Ar(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}dr(){this.state=5,this.ur.Zi(async()=>{this.state=0,this.start()})}Ar(e){return os("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Oe.enqueueAndForget(()=>this.rr===e?t():(os("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ph extends fh{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.k=i}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:cs()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.C?(hs(void 0===t||"string"==typeof t),js.fromBase64String(t||"")):(hs(void 0===t||t instanceof Uint8Array),js.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?fs.UNKNOWN:La(e.code);return new ps(t,e.message||"")}(o);n=new tl(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=gl(e,r.document.name),s=dl(r.document.updateTime),o=new fo({mapValue:{fields:r.document.fields}}),a=mo.newFoundDocument(i,s,o),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Za(l,u,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=gl(e,r.document),s=r.readTime?dl(r.readTime):Ps.min(),o=mo.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Za([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=gl(e,r.document),s=r.removedTargetIds||[];n=new Za([],s,i,null)}else{if(!("filter"in t))return cs();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new Pa(r),s=e.targetId;n=new el(s,i)}}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return Ps.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ps.min():t.readTime?dl(t.readTime):Ps.min()}(e);return this.listener.Pr(t,n)}br(e){const t={};t.database=wl(this.k),t.addTarget=function(e,t){let n;const r=t.target;return n=bo(r)?{documents:Tl(e,r)}:{query:El(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=cl(e,t.resumeToken):t.snapshotVersion.compareTo(Ps.min())>0&&(n.readTime=ul(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return cs()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}vr(e){const t={};t.database=wl(this.k),t.removeTarget=e,this.gr(t)}}class mh extends fh{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.k=i,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(hs(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(e,t){return e&&e.length>0?(hs(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?dl(e.updateTime):dl(t);return n.isEqual(Ps.min())&&(n=dl(t)),new ma(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=dl(e.commitTime);return this.listener.Cr(n,t)}return hs(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=wl(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Sl(this.k,e))};this.gr(t)}}class gh extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=n,this.k=r,this.$r=!1}Fr(){if(this.$r)throw new ps(fs.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,n){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[i,s]=r;return this.ir.Bi(e,t,n,i,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===fs.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ps(fs.UNKNOWN,e.toString())})}ji(e,t,n){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[i,s]=r;return this.ir.ji(e,t,n,i,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===fs.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ps(fs.UNKNOWN,e.toString())})}terminate(){this.$r=!0}}class yh{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}set(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(as(t),this.Lr=!1):os("OnlineStateTracker",t)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class vh{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=i,this.Hr.Ei(e=>{n.enqueueAndForget(async()=>{Ch(this)&&(os("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=ds(e);t.Gr.add(4),await bh(t),t.Jr.set("Unknown"),t.Gr.delete(4),await wh(t)}(this))})}),this.Jr=new yh(n,r)}}async function wh(e){if(Ch(e))for(const t of e.zr)await t(!0)}async function bh(e){for(const t of e.zr)await t(!1)}function kh(e,t){const n=ds(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),Eh(n)?Th(n):Kh(n).lr()&&Sh(n,t))}function _h(e,t){const n=ds(e),r=Kh(n);n.Wr.delete(t),r.lr()&&Ih(n,t),0===n.Wr.size&&(r.lr()?r._r():Ch(n)&&n.Jr.set("Unknown"))}function Sh(e,t){e.Yr.X(t.targetId),Kh(e).br(t)}function Ih(e,t){e.Yr.X(t),Kh(e).vr(t)}function Th(e){e.Yr=new rl({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Wr.get(t)||null}),Kh(e).start(),e.Jr.Br()}function Eh(e){return Ch(e)&&!Kh(e).hr()&&e.Wr.size>0}function Ch(e){return 0===ds(e).Gr.size}function Ah(e){e.Yr=void 0}async function Nh(e){e.Wr.forEach((t,n)=>{Sh(e,t)})}async function Dh(e,t){Ah(e),Eh(e)?(e.Jr.Kr(t),Th(e)):e.Jr.set("Unknown")}async function Ph(e,t,n){if(e.Jr.set("Online"),t instanceof tl&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Wr.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Wr.delete(r),e.Yr.removeTarget(r))}(e,t)}catch(n){os("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await xh(e,n)}else if(t instanceof Za?e.Yr.ot(t):t instanceof el?e.Yr.dt(t):e.Yr.ut(t),!n.isEqual(Ps.min()))try{const t=await Nc(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Yr.gt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(t=>{const n=e.Wr.get(t);if(!n)return;e.Wr.set(t,n.withResumeToken(js.EMPTY_BYTE_STRING,n.snapshotVersion)),Ih(e,t);const r=new _u(n.target,t,1,n.sequenceNumber);Sh(e,r)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){os("RemoteStore","Failed to raise snapshot:",t),await xh(e,t)}}async function xh(e,t,n){if(!fu(t))throw t;e.Gr.add(1),await bh(e),e.Jr.set("Offline"),n||(n=()=>Nc(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{os("RemoteStore","Retrying IndexedDB access"),await n(),e.Gr.delete(1),await wh(e)})}function Rh(e,t){return t().catch(n=>xh(e,n,t))}async function Oh(e){const t=ds(e),n=Hh(t);let r=t.Qr.length>0?t.Qr[t.Qr.length-1].batchId:-1;for(;Lh(t);)try{const e=await Pc(t.localStore,r);if(null===e){0===t.Qr.length&&n._r();break}r=e.batchId,Mh(t,e)}catch(e){await xh(t,e)}Fh(t)&&Uh(t)}function Lh(e){return Ch(e)&&e.Qr.length<10}function Mh(e,t){e.Qr.push(t);const n=Hh(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function Fh(e){return Ch(e)&&!Hh(e).hr()&&e.Qr.length>0}function Uh(e){Hh(e).start()}async function Vh(e){Hh(e).kr()}async function jh(e){const t=Hh(e);for(const n of e.Qr)t.Dr(n.mutations)}async function zh(e,t,n){const r=e.Qr.shift(),i=ku.from(r,t,n);await Rh(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Oh(e)}async function qh(e,t){t&&Hh(e).Sr&&await async function(e,t){if(Oa(n=t.code)&&n!==fs.ABORTED){const n=e.Qr.shift();Hh(e).wr(),await Rh(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Oh(e)}var n}(e,t),Fh(e)&&Uh(e)}async function Bh(e,t){const n=ds(e);t?(n.Gr.delete(2),await wh(n)):t||(n.Gr.add(2),await bh(n),n.Jr.set("Unknown"))}function Kh(e){return e.Xr||(e.Xr=function(e,t,n){const r=ds(e);return r.Fr(),new ph(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Nh.bind(null,e),Ni:Dh.bind(null,e),Pr:Ph.bind(null,e)}),e.zr.push(async t=>{t?(e.Xr.wr(),Eh(e)?Th(e):e.Jr.set("Unknown")):(await e.Xr.stop(),Ah(e))})),e.Xr}function Hh(e){return e.Zr||(e.Zr=function(e,t,n){const r=ds(e);return r.Fr(),new mh(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Vh.bind(null,e),Ni:qh.bind(null,e),Nr:jh.bind(null,e),Cr:zh.bind(null,e)}),e.zr.push(async t=>{t?(e.Zr.wr(),await Oh(e)):(await e.Zr.stop(),e.Qr.length>0&&(os("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]))})),e.Zr}class Wh{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Wh(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ps(fs.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gh(e,t){if(as("AsyncQueue","".concat(t,": ").concat(e)),fu(e))return new ps(fs.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Qh{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Js.comparator(t.key,n.key):(e,t)=>Js.comparator(e.key,t.key),this.keyedMap=Ka(),this.sortedSet=new Ma(this.comparator)}static emptySet(e){return new Qh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Qh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Yh{constructor(){this.eo=new Ma(Js.comparator)}track(e){const t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):cs():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,n)=>{e.push(n)}),e}}class $h{constructor(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new $h(e,t,Qh.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Go(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Jh{constructor(){this.so=void 0,this.listeners=[]}}class Xh{constructor(){this.queries=new lc(e=>Qo(e),Go),this.onlineState="Unknown",this.io=new Set}}async function Zh(e,t){const n=ds(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Jh),i)try{s.so=await n.onListen(r)}catch(e){const n=Gh(e,"Initialization of query '".concat(Yo(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.ro(n.onlineState),s.so&&t.oo(s.so)&&rd(n)}async function ed(e,t){const n=ds(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function td(e,t){const n=ds(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.oo(i)&&(r=!0);t.so=i}}r&&rd(n)}function nd(e,t,n){const r=ds(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function rd(e){e.io.forEach(e=>{e.next()})}class id{constructor(e,t,n){this.query=e,this.ao=t,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=n||{}}oo(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new $h(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.ho(e)&&(this.ao.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.ao.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}ho(e){if(e.docChanges.length>0)return!0;const t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}fo(e){e=$h.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}class sd{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class od{constructor(e){this.k=e}Hn(e){return gl(this.k,e)}Jn(e){return e.metadata.exists?_l(this.k,e.document,!1):mo.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return dl(e)}}class ad{constructor(e,t,n){this.mo=e,this.localStore=t,this.k=n,this.queries=[],this.documents=[],this.progress=ld(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,n=new od(this.k);for(const r of e)if(r.metadata.queries){const e=n.Hn(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Qa()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=ds(e);let s=Qa(),o=qa(),a=Wa();for(const c of n){const e=t.Hn(c.metadata.name);c.document&&(s=s.add(e)),o=o.insert(e,t.Jn(c)),a=a.insert(e,t.Yn(c.metadata.readTime))}const l=i.Qn.newChangeBuffer({trackRemovals:!0}),u=await xc(i,function(e){return Ho(Uo(Ms.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",e=>Dc(e,l,o,Ps.min(),a).next(t=>(l.apply(e),t)).next(t=>i.He.removeMatchingKeysForTargetId(e,u.targetId).next(()=>i.He.addMatchingKeys(e,s,u.targetId)).next(()=>i.Wn.Vn(e,t)).next(()=>t)))}(this.localStore,new od(this.k),this.documents,this.mo.id),t=this.po(this.documents);for(const n of this.queries)await Fc(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",new _c(Object.assign({},this.progress),e)}}function ld(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class ud{constructor(e){this.key=e}}class cd{constructor(e){this.key=e}}class hd{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=Qa(),this.mutatedKeys=Qa(),this.Ao=Jo(e),this.Ro=new Qh(this.Ao)}get Po(){return this.To}bo(e,t){const n=t?t.vo:new Yh,r=t?t.Ro:this.Ro;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=Vo(this.query)&&r.size===this.query.limit?r.last():null,l=jo(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const u=r.get(e),c=$o(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.Vo(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.Ao(c,a)>0||l&&this.Ao(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(o=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),Vo(this.query)||jo(this.query))for(;s.size>this.query.limit;){const e=Vo(this.query)?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ro:s,vo:n,Bn:o,mutatedKeys:i}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const i=e.vo.no();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return cs()}};return n(e)-n(t)}(e.type,t.type)||this.Ao(e.doc,t.doc)),this.So(n);const s=t?this.Do():[],o=0===this.Io.size&&this.current?1:0,a=o!==this.Eo;return this.Eo=o,0!==i.length||a?{snapshot:new $h(this.query,e.Ro,r,i,e.mutatedKeys,0===o,a,!1),Co:s}:{Co:s}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new Yh,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(e=>this.To=this.To.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.To=this.To.delete(e)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=Qa(),this.Ro.forEach(e=>{this.No(e.key)&&(this.Io=this.Io.add(e.key))});const t=[];return e.forEach(e=>{this.Io.has(e)||t.push(new cd(e))}),this.Io.forEach(n=>{e.has(n)||t.push(new ud(n))}),t}ko(e){this.To=e.zn,this.Io=Qa();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return $h.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class dd{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class fd{constructor(e){this.key=e,this.$o=!1}}class pd{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Fo={},this.Oo=new lc(e=>Qo(e),Go),this.Mo=new Map,this.Lo=new Set,this.Bo=new Ma(Js.comparator),this.Uo=new Map,this.qo=new Vc,this.Ko={},this.jo=new Map,this.Qo=$u.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}async function md(e,t){const n=zd(e);let r,i;const s=n.Oo.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const e=await xc(n.localStore,Ho(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await gd(n,t,r,"current"===s),n.isPrimaryClient&&kh(n.remoteStore,e)}return i}async function gd(e,t,n,r){e.Go=(t,n,r)=>async function(e,t,n,r){let i=t.view.bo(n);i.Bn&&(i=await Oc(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.bo(n,i)}));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return Cd(e,t.targetId,o.Co),o.snapshot}(e,t,n,r);const i=await Oc(e.localStore,t,!0),s=new hd(t,i.zn),o=s.bo(i.documents),a=Xa.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),l=s.applyChanges(o,e.isPrimaryClient,a);Cd(e,n,l.Co);const u=new dd(t,n,s);return e.Oo.set(t,u),e.Mo.has(n)?e.Mo.get(n).push(t):e.Mo.set(n,[t]),l.snapshot}async function yd(e,t){const n=ds(e),r=n.Oo.get(t),i=n.Mo.get(r.targetId);if(i.length>1)return n.Mo.set(r.targetId,i.filter(e=>!Go(e,t))),void n.Oo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Rc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),_h(n.remoteStore,r.targetId),Td(n,r.targetId)}).catch(tc)):(Td(n,r.targetId),await Rc(n.localStore,r.targetId,!0))}async function vd(e,t){const n=ds(e);try{const e=await function(e,t){const n=ds(e),r=t.snapshotVersion;let i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;const o=[];t.targetChanges.forEach((t,s)=>{const a=i.get(s);if(!a)return;o.push(n.He.removeMatchingKeys(e,t.removedDocuments,s).next(()=>n.He.addMatchingKeys(e,t.addedDocuments,s)));const l=t.resumeToken;if(l.approximateByteSize()>0){const u=a.withResumeToken(l,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(s,u),function(e,t,n){return hs(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,u,t)&&o.push(n.He.updateTargetData(e,u))}});let a=qa();if(t.documentUpdates.forEach((r,i)=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(Dc(e,s,t.documentUpdates,r,void 0).next(e=>{a=e})),!r.isEqual(Ps.min())){const t=n.He.getLastRemoteSnapshotVersion(e).next(t=>n.He.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return lu.waitFor(o).next(()=>s.apply(e)).next(()=>n.Wn.Vn(e,a)).next(()=>a)}).then(e=>(n.qn=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Uo.get(t);r&&(hs(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.$o=!0:e.modifiedDocuments.size>0?hs(r.$o):e.removedDocuments.size>0&&(hs(r.$o),r.$o=!1))}),await Dd(n,e,t)}catch(e){await tc(e)}}function wd(e,t,n){const r=ds(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Oo.forEach((n,r)=>{const i=r.view.ro(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=ds(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.ro(t)&&(r=!0)}),r&&rd(n)}(r.eventManager,t),e.length&&r.Fo.Pr(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function bd(e,t,n){const r=ds(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Uo.get(t),s=i&&i.key;if(s){let e=new Ma(Js.comparator);e=e.insert(s,mo.newNoDocument(s,Ps.min()));const n=Qa().add(s),i=new Ja(Ps.min(),new Map,new Va(Cs),e,n);await vd(r,i),r.Bo=r.Bo.remove(s),r.Uo.delete(t),Nd(r)}else await Rc(r.localStore,t,!1).then(()=>Td(r,t,n)).catch(tc)}async function kd(e,t){const n=ds(e),r=t.batch.batchId;try{const e=await function(e,t){const n=ds(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=lu.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);hs(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))})}),o.next(()=>e.An.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.An.performConsistencyCheck(e)).next(()=>n.Wn.vn(e,r))})}(n.localStore,t);Id(n,r,null),Sd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Dd(n,e)}catch(e){await tc(e)}}async function _d(e,t,n){const r=ds(e);try{const e=await function(e,t){const n=ds(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.An.lookupMutationBatch(e,t).next(t=>(hs(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t))).next(()=>n.An.performConsistencyCheck(e)).next(()=>n.Wn.vn(e,r))})}(r.localStore,t);Id(r,t,n),Sd(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Dd(r,e)}catch(n){await tc(n)}}function Sd(e,t){(e.jo.get(t)||[]).forEach(e=>{e.resolve()}),e.jo.delete(t)}function Id(e,t,n){const r=ds(e);let i=r.Ko[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function Td(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Mo.get(t))e.Oo.delete(r),n&&e.Fo.zo(r,n);e.Mo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach(t=>{e.qo.containsKey(t)||Ed(e,t)})}function Ed(e,t){e.Lo.delete(t.path.canonicalString());const n=e.Bo.get(t);null!==n&&(_h(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),Nd(e))}function Cd(e,t,n){for(const r of n)r instanceof ud?(e.qo.addReference(r.key,t),Ad(e,r)):r instanceof cd?(os("SyncEngine","Document no longer in limbo: "+r.key),e.qo.removeReference(r.key,t),e.qo.containsKey(r.key)||Ed(e,r.key)):cs()}function Ad(e,t){const n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(os("SyncEngine","New document in limbo: "+n),e.Lo.add(r),Nd(e))}function Nd(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){const t=e.Lo.values().next().value;e.Lo.delete(t);const n=new Js(Ms.fromString(t)),r=e.Qo.next();e.Uo.set(r,new fd(n)),e.Bo=e.Bo.insert(n,r),kh(e.remoteStore,new _u(Ho(Uo(n.path)),r,2,Is.I))}}async function Dd(e,t,n){const r=ds(e),i=[],s=[],o=[];r.Oo.isEmpty()||(r.Oo.forEach((e,a)=>{o.push(r.Go(a,t,n).then(e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=Ic.$n(a.targetId,e);s.push(t)}}))}),await Promise.all(o),r.Fo.Pr(i),await async function(e,t){const n=ds(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>lu.forEach(t,t=>lu.forEach(t.kn,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>lu.forEach(t.xn,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!fu(e))throw e;os("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.qn.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.qn=n.qn.insert(e,i)}}}(r.localStore,s))}async function Pd(e,t){const n=ds(e);if(!n.currentUser.isEqual(t)){os("SyncEngine","User change. New user:",t.toKey());const e=await Ac(n.localStore,t);n.currentUser=t,function(e){e.jo.forEach(e=>{e.forEach(e=>{e.reject(new ps(fs.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.jo.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Dd(n,e.Gn)}}function xd(e,t){const n=ds(e),r=n.Uo.get(t);if(r&&r.$o)return Qa().add(r.key);{let e=Qa();const r=n.Mo.get(t);if(!r)return e;for(const t of r){const r=n.Oo.get(t);e=e.unionWith(r.view.Po)}return e}}async function Rd(e,t){const n=ds(e),r=await Oc(n.localStore,t.query,!0),i=t.view.ko(r);return n.isPrimaryClient&&Cd(n,t.targetId,i.Co),i}async function Od(e){const t=ds(e);return Mc(t.localStore).then(e=>Dd(t,e))}async function Ld(e,t,n,r){const i=ds(e),s=await function(e,t){const n=ds(e),r=ds(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>r.Zt(e,t).next(t=>t?n.Wn.vn(e,t):lu.resolve(null)))}(i.localStore,t);null!==s?("pending"===n?await Oh(i.remoteStore):"acknowledged"===n||"rejected"===n?(Id(i,t,r||null),Sd(i,t),function(e,t){ds(ds(e).An).ee(t)}(i.localStore,t)):cs(),await Dd(i,s)):os("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Md(e,t,n){const r=ds(e),i=[],s=[];for(const o of t){let e;const t=r.Mo.get(o);if(t&&0!==t.length){e=await xc(r.localStore,Ho(t[0]));for(const e of t){const t=r.Oo.get(e),n=await Rd(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await Lc(r.localStore,o);e=await xc(r.localStore,t),await gd(r,Fd(t),o,!1)}i.push(e)}return r.Fo.Pr(s),i}function Fd(e){return Fo(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Ud(e){const t=ds(e);return ds(ds(t.localStore).persistence).Tn()}async function Vd(e,t,n,r){const i=ds(e);if(i.Wo)os("SyncEngine","Ignoring unexpected query state notification.");else if(i.Mo.has(t))switch(n){case"current":case"not-current":{const e=await Mc(i.localStore),r=Ja.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);await Dd(i,e,r);break}case"rejected":await Rc(i.localStore,t,!0),Td(i,t,r);break;default:cs()}}async function jd(e,t,n){const r=zd(e);if(r.Wo){for(const e of t){if(r.Mo.has(e)){os("SyncEngine","Adding an already active target "+e);continue}const t=await Lc(r.localStore,e),n=await xc(r.localStore,t);await gd(r,Fd(t),n.targetId,!1),kh(r.remoteStore,n)}for(const e of n)r.Mo.has(e)&&await Rc(r.localStore,e,!1).then(()=>{_h(r.remoteStore,e),Td(r,e)}).catch(tc)}}function zd(e){const t=ds(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=vd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bd.bind(null,t),t.Fo.Pr=td.bind(null,t.eventManager),t.Fo.zo=nd.bind(null,t.eventManager),t}function qd(e){const t=ds(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kd.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_d.bind(null,t),t}class Bd{constructor(){this.synchronizeTabs=!1}async initialize(e){this.k=hh(e.databaseInfo.databaseId),this.sharedClientState=this.Jo(e),this.persistence=this.Yo(e),await this.persistence.start(),this.gcScheduler=this.Xo(e),this.localStore=this.Zo(e)}Xo(e){return null}Zo(e){return Cc(this.persistence,new Tc,e.initialUser,this.k)}Yo(e){return new Hc(Gc.ks,this.k)}Jo(e){return new rh}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Kd extends Bd{constructor(e,t,n){super(),this.ta=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await async function(e){const t=ds(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(e){const t=fc(e);let n=Ps.min();return t.jt({index:$l.readTimeIndex,reverse:!0},(e,t,r)=>{t.readTime&&(n=Cu(t.readTime)),r.done()}).next(()=>n)}(e)).then(e=>{t.jn=e})}(this.localStore),await this.ta.initialize(this,e),await qd(this.ta.syncEngine),await Oh(this.ta.remoteStore),await this.persistence.sn(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(this.localStore),Promise.resolve()))}Zo(e){return Cc(this.persistence,new Tc,e.initialUser,this.k)}Xo(e){const t=this.persistence.referenceDelegate.garbageCollector;return new ic(t,e.asyncQueue)}Yo(e){const t=kc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?qu.withCacheSize(this.cacheSizeBytes):qu.DEFAULT;return new vc(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,uh(),ch(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new rh}}class Hd extends Kd{constructor(e,t){super(e,t,!1),this.ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ta.syncEngine;this.sharedClientState instanceof nh&&(this.sharedClientState.syncEngine={mi:Ld.bind(null,t),gi:Vd.bind(null,t),yi:jd.bind(null,t),Tn:Ud.bind(null,t),_i:Od.bind(null,t)},await this.sharedClientState.start()),await this.persistence.sn(async e=>{await async function(e,t){const n=ds(e);if(zd(n),qd(n),!0===t&&!0!==n.Wo){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Md(n,e.toArray());n.Wo=!0,await Bh(n.remoteStore,!0);for(const r of t)kh(n.remoteStore,r)}else if(!1===t&&!1!==n.Wo){const e=[];let t=Promise.resolve();n.Mo.forEach((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then(()=>(Td(n,i),Rc(n.localStore,i,!0))),_h(n.remoteStore,i)}),await t,await Md(n,e),function(e){const t=ds(e);t.Uo.forEach((e,n)=>{_h(t.remoteStore,n)}),t.qo.hs(),t.Uo=new Map,t.Bo=new Ma(Js.comparator)}(n),n.Wo=!1,await Bh(n.remoteStore,!1)}}(this.ta.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop())})}Jo(e){const t=uh();if(!nh.bt(t))throw new ps(fs.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=kc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new nh(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Wd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>wd(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Pd.bind(null,this.syncEngine),await Bh(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Xh}createDatastore(e){const t=hh(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new lh(r));var r;return function(e,t,n,r){return new gh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>wd(this.syncEngine,e,0),s=sh.bt()?new sh:new ih,new vh(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new pd(e,t,n,r,i,s);return o&&(a.Wo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=ds(e);os("RemoteStore","RemoteStore shutting down."),t.Gr.add(5),await bh(t),t.Hr.shutdown(),t.Jr.set("Unknown")}(this.remoteStore)}}function Gd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}class Qd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ea(this.observer.next,e)}error(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}na(){this.muted=!0}ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Yd{constructor(e,t){this.sa=e,this.k=t,this.metadata=new ms,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then(e=>{e&&e._o()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))},e=>this.metadata.reject(e))}close(){return this.sa.cancel()}async getMetadata(){return this.metadata.promise}async Ho(){return await this.getMetadata(),this.ra()}async ra(){const e=await this.oa();if(null===e)return null;const t=this.ia.decode(e),n=Number(t);isNaN(n)&&this.aa("length string (".concat(t,") is not valid number"));const r=await this.ca(n);return new sd(JSON.parse(r),e.length+n)}ua(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async oa(){for(;this.ua()<0&&!await this.ha(););if(0===this.buffer.length)return null;const e=this.ua();e<0&&this.aa("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async ca(e){for(;this.buffer.length<e;)await this.ha()&&this.aa("Reached the end of bundle when more is expected.");const t=this.ia.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}aa(e){throw this.sa.cancel(),new Error("Invalid bundle format: ".concat(e))}async ha(){const e=await this.sa.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class $d{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ps(fs.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=ds(e),r=wl(n.k)+"/documents",i={documents:t.map(e=>ml(n.k,e))},s=await n.ji("BatchGetDocuments",r,i),o=new Map;s.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){hs(!!t.found),t.found.name,t.found.updateTime;const n=gl(e,t.found.name),r=dl(t.found.updateTime),i=new fo({mapValue:{fields:t.found.fields}});return mo.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){hs(!!t.missing),hs(!!t.readTime);const n=gl(e,t.missing),r=dl(t.readTime);return mo.newNoDocument(n,r)}(e,t):cs()}(n.k,e);o.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=o.get(e.toString());hs(!!t),a.push(t)}),a}(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Na(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{const n=Js.fromPath(t);this.mutations.push(new Da(n,this.precondition(n)))}),await async function(e,t){const n=ds(e),r=wl(n.k)+"/documents",i={writes:t.map(e=>Sl(n.k,e))};await n.Bi("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw cs();t=Ps.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ps(fs.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ga.updateTime(t):ga.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ps.min()))throw new ps(fs.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ga.updateTime(t)}return ga.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Jd{constructor(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.la=5,this.ur=new dh(this.asyncQueue,"transaction_retry")}run(){this.la-=1,this.fa()}fa(){this.ur.Zi(async()=>{const e=new $d(this.datastore),t=this.da(e);t&&t.then(t=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(t)}).catch(e=>{this.wa(e)}))}).catch(e=>{this.wa(e)})})}da(e){try{const t=this.updateFunction(e);return!Qs(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}wa(e){this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget(()=>(this.fa(),Promise.resolve()))):this.deferred.reject(e)}_a(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Oa(t)}return!1}}class Xd{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ns.UNAUTHENTICATED,this.clientId=Es.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{os("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,()=>Promise.resolve())}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ps(fs.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Gh(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Zd(e,t){e.asyncQueue.verifyOperationInProgress(),os("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Ac(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}async function ef(e,t){e.asyncQueue.verifyOperationInProgress();const n=await tf(e);os("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>async function(e,t){const n=ds(e);n.asyncQueue.verifyOperationInProgress(),os("RemoteStore","RemoteStore received new credentials");const r=Ch(n);n.Gr.add(3),await bh(n),r&&n.Jr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Gr.delete(3),await wh(n)}(t.remoteStore,e)),e.onlineComponents=t}async function tf(e){return e.offlineComponents||(os("FirestoreClient","Using default OfflineComponentProvider"),await Zd(e,new Bd)),e.offlineComponents}async function nf(e){return e.onlineComponents||(os("FirestoreClient","Using default OnlineComponentProvider"),await ef(e,new Wd)),e.onlineComponents}function rf(e){return tf(e).then(e=>e.persistence)}function sf(e){return tf(e).then(e=>e.localStore)}function of(e){return nf(e).then(e=>e.remoteStore)}function af(e){return nf(e).then(e=>e.syncEngine)}async function lf(e){const t=await nf(e),n=t.eventManager;return n.onListen=md.bind(null,t.syncEngine),n.onUnlisten=yd.bind(null,t.syncEngine),n}function uf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ms;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Qd({next:s=>{t.enqueueAndForget(()=>ed(e,o));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new ps(fs.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new ps(fs.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new id(Uo(n.path),s,{includeMetadataChanges:!0,wo:!0});return Zh(e,o)}(await lf(e),e.asyncQueue,t,n,r)),r.promise}function cf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ms;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Qd({next:n=>{t.enqueueAndForget(()=>ed(e,o)),n.fromCache&&"server"===r.source?i.reject(new ps(fs.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new id(n,s,{includeMetadataChanges:!0,wo:!0});return Zh(e,o)}(await lf(e),e.asyncQueue,t,n,r)),r.promise}function hf(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new Yd(e,t)}(function(e,t){if(e instanceof Uint8Array)return Gd(e,t);if(e instanceof ArrayBuffer)return Gd(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,hh(t));e.asyncQueue.enqueueAndForget(async()=>{!function(e,t,n){const r=ds(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=ds(e),r=dl(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>n.Ye.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(r)>=0)}(e.localStore,r))return await t.close(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r));n._updateProgress(ld(r));const i=new ad(r,e.localStore,t.k);let s=await t.Ho();for(;s;){const e=await i.yo(s);e&&n._updateProgress(e),s=await t.Ho()}const o=await i.complete();await Dd(e,o.In,void 0),await function(e,t){const n=ds(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>n.Ye.saveBundleMetadata(e,t))}(e.localStore,r),n._completeWith(o.progress)}catch(e){ls("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e)}})(r,t,n).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(await af(e),i,r)})}class df{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class ff{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ff&&e.projectId===this.projectId&&e.database===this.database}}const pf=new Map;function mf(e,t,n){if(!n)throw new ps(fs.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function gf(e,t,n,r){if(!0===t&&!0===r)throw new ps(fs.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function yf(e){if(!Js.isDocumentKey(e))throw new ps(fs.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function vf(e){if(Js.isDocumentKey(e))throw new ps(fs.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function wf(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":cs()}function bf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ps(fs.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wf(e);throw new ps(fs.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function kf(e,t){if(t<=0)throw new ps(fs.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class _f{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ps(fs.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ps(fs.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,gf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sf{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _f({}),this._settingsFrozen=!1,e instanceof ff?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ps(fs.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ff(e.options.projectId)}(e))}get app(){if(!this._app)throw new ps(fs.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ps(fs.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _f(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ys;switch(e.type){case"gapi":const t=e.client;return hs(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new ks(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ps(fs.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=pf.get(e);t&&(os("ComponentProvider","Removing Datastore"),pf.delete(e),t.terminate())}(this),Promise.resolve()}}function If(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=bf(e,Sf))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&ls("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:"".concat(t,":").concat(n),ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ns.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[o(JSON.stringify({alg:"none",type:"JWT"})),o(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new ps(fs.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ns(s)}e._authCredentials=new vs(new gs(t,n))}}class Tf{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tf(this.firestore,e,this._key)}}class Ef{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ef(this.firestore,e,this._query)}}class Cf extends Ef{constructor(e,t,n){super(e,t,Uo(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tf(this.firestore,null,new Js(e))}withConverter(e){return new Cf(this.firestore,e,this._path)}}function Af(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=D(e),mf("collection","path",t),e instanceof Sf){const n=Ms.fromString(t,...r);return vf(n),new Cf(e,null,n)}{if(!(e instanceof Tf||e instanceof Cf))throw new ps(fs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ms.fromString(t,...r));return vf(n),new Cf(e.firestore,null,n)}}function Nf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=D(e),1===arguments.length&&(t=Es.A()),mf("doc","path",t),e instanceof Sf){const n=Ms.fromString(t,...r);return yf(n),new Tf(e,null,new Js(n))}{if(!(e instanceof Tf||e instanceof Cf))throw new ps(fs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ms.fromString(t,...r));return yf(n),new Tf(e.firestore,e instanceof Cf?e.converter:null,new Js(n))}}function Df(e,t){return e=D(e),t=D(t),(e instanceof Tf||e instanceof Cf)&&(t instanceof Tf||t instanceof Cf)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Pf(e,t){return e=D(e),t=D(t),e instanceof Ef&&t instanceof Ef&&e.firestore===t.firestore&&Go(e._query,t._query)&&e.converter===t.converter}class xf{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new dh(this,"async_queue_retry"),this.Ra=()=>{const e=ch();e&&os("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ur.er()};const e=ch();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pa(),this.ba(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const t=ch();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.Pa(),this.ya)return new Promise(()=>{});const t=new ms;return this.ba(()=>this.ya&&this.Ia?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ga.push(e),this.va()))}async va(){if(0!==this.ga.length){try{await this.ga[0](),this.ga.shift(),this.ur.reset()}catch(nt){if(!fu(nt))throw nt;os("AsyncQueue","Operation failed with retryable error: "+nt)}this.ga.length>0&&this.ur.Zi(()=>this.va())}}ba(e){const t=this.ma.then(()=>(this.Ea=!0,e().catch(e=>{this.Ta=e,this.Ea=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw as("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.Ea=!1,e))));return this.ma=t,t}enqueueAfterDelay(e,t,n){this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);const r=Wh.createAndSchedule(this,e,t,n,e=>this.Va(e));return this.pa.push(r),r}Pa(){this.Ta&&cs()}verifyOperationInProgress(){}async Sa(){let e;do{e=this.ma,await e}while(e!==this.ma)}Da(e){for(const t of this.pa)if(t.timerId===e)return!0;return!1}Ca(e){return this.Sa().then(()=>{this.pa.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.pa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sa()})}Na(e){this.Aa.push(e)}Va(e){const t=this.pa.indexOf(e);this.pa.splice(t,1)}}function Rf(e){return function(e){if("object"!=typeof e||null===e)return!1;const t=e;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(e)}class Of{constructor(){this._progressObserver={},this._taskCompletionResolver=new ms,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Lf extends Sf{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new xf,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Ff(this),this._firestoreClient.terminate()}}function Mf(e){return e._firestoreClient||Ff(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ff(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new df(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Xd(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Uf(e,t,n){const r=new ms;return e.asyncQueue.enqueue(async()=>{try{await Zd(e,n),await ef(e,t),r.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===fs.FAILED_PRECONDITION||e.code===fs.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.reject(e)}}).then(()=>r.promise)}function Vf(e){return function(e){const t=new ms;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t){const n=ds(e);Ch(n.remoteStore)||os("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=ds(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.An.getHighestUnacknowledgedBatchId(e))}(n.localStore);if(-1===e)return void t.resolve();const r=n.jo.get(e)||[];r.push(t),n.jo.set(e,r)}catch(e){const n=Gh(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await af(e),t)),t.promise}(Mf(e=bf(e,Lf)))}function jf(e){return function(e){return e.asyncQueue.enqueue(async()=>{const t=await rf(e),n=await of(e);return t.setNetworkEnabled(!0),function(e){const t=ds(e);return t.Gr.delete(0),wh(t)}(n)})}(Mf(e=bf(e,Lf)))}function zf(e){return function(e){return e.asyncQueue.enqueue(async()=>{const t=await rf(e),n=await of(e);return t.setNetworkEnabled(!1),async function(e){const t=ds(e);t.Gr.add(0),await bh(t),t.Jr.set("Offline")}(n)})}(Mf(e=bf(e,Lf)))}function qf(e,t){return function(e,t){return e.asyncQueue.enqueue(async()=>function(e,t){const n=ds(e);return n.persistence.runTransaction("Get named query","readonly",e=>n.Ye.getNamedQuery(e,t))}(await sf(e),t))}(Mf(e=bf(e,Lf)),t).then(t=>t?new Ef(e,null,t.query):null)}function Bf(e){if(e._initialized||e._terminated)throw new ps(fs.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Kf{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new ps(fs.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Us(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hf(js.fromBase64String(e))}catch(e){throw new ps(fs.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Hf(js.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wf{constructor(e){this._methodName=e}}class Gf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ps(fs.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ps(fs.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Cs(this._lat,e._lat)||Cs(this._long,e._long)}}const Qf=/^__.*__$/;class Yf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ta(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ia(e,this.data,t,this.fieldTransforms)}}class $f{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ta(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Jf(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw cs()}}class Xf{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.k=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ka(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(e){return new Xf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.Ma(e),r}La(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.ka(),r}Ba(e){return this.$a({path:void 0,Oa:!0})}Ua(e){return vp(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ka(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}Ma(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(Jf(this.xa)&&Qf.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}class Zf{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=n||hh(e)}ja(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Xf({xa:e,methodName:t,Ka:n,path:Us.emptyPath(),Oa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function ep(e){const t=e._freezeSettings(),n=hh(e._databaseId);return new Zf(e._databaseId,!!t.ignoreUndefinedProperties,n)}function tp(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.ja(s.merge||s.mergeFields?2:0,t,n,i);pp("Data must be an object, but it was:",o,r);const a=dp(r,o);let l,u;if(s.merge)l=new Vs(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=mp(t,r,n);if(!o.contains(i))throw new ps(fs.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));wp(e,i)||e.push(i)}l=new Vs(e),u=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,u=o.fieldTransforms;return new Yf(new fo(a),l,u)}class np extends Wf{_toFieldTransform(e){if(2!==e.xa)throw 1===e.xa?e.Ua("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ua("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof np}}function rp(e,t,n){return new Xf({xa:3,Ka:t.settings.Ka,methodName:e._methodName,Oa:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}class ip extends Wf{_toFieldTransform(e){return new pa(e.path,new oa)}isEqual(e){return e instanceof ip}}class sp extends Wf{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=rp(this,e,!0),n=this.Qa.map(e=>hp(e,t)),r=new aa(n);return new pa(e.path,r)}isEqual(e){return this===e}}class op extends Wf{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=rp(this,e,!0),n=this.Qa.map(e=>hp(e,t)),r=new ua(n);return new pa(e.path,r)}isEqual(e){return this===e}}class ap extends Wf{constructor(e,t){super(e),this.Wa=t}_toFieldTransform(e){const t=new ha(e.k,ta(e.k,this.Wa));return new pa(e.path,t)}isEqual(e){return this===e}}function lp(e,t,n,r){const i=e.ja(1,t,n);pp("Data must be an object, but it was:",i,r);const s=[],o=fo.empty();Rs(r,(e,r)=>{const a=yp(t,e,n);r=D(r);const l=i.La(a);if(r instanceof np)s.push(a);else{const e=hp(r,l);null!=e&&(s.push(a),o.set(a,e))}});const a=new Vs(s);return new $f(o,a,i.fieldTransforms)}function up(e,t,n,r,i,s){const o=e.ja(1,t,n),a=[mp(t,r,n)],l=[i];if(s.length%2!=0)throw new ps(fs.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(mp(t,s[d])),l.push(s[d+1]);const u=[],c=fo.empty();for(let d=a.length-1;d>=0;--d)if(!wp(u,a[d])){const e=a[d];let t=l[d];t=D(t);const n=o.La(e);if(t instanceof np)u.push(e);else{const r=hp(t,n);null!=r&&(u.push(e),c.set(e,r))}}const h=new Vs(u);return new $f(c,h,o.fieldTransforms)}function cp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return hp(n,e.ja(r?4:3,t))}function hp(e,t){if(fp(e=D(e)))return pp("Unsupported field value:",t,e),dp(e,t);if(e instanceof Wf)return function(e,t){if(!Jf(t.xa))throw t.Ua("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ua("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=hp(i,t.Ba(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=D(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ta(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ds.fromDate(e);return{timestampValue:ul(t.k,n)}}if(e instanceof Ds){const n=new Ds(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ul(t.k,n)}}if(e instanceof Gf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Hf)return{bytesValue:cl(t.k,e._byteString)};if(e instanceof Tf){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Ua("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:fl(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua("Unsupported field value: ".concat(wf(e)))}(e,t)}function dp(e,t){const n={};return Os(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Rs(e,(e,r)=>{const i=hp(r,t.Fa(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function fp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ds||e instanceof Gf||e instanceof Hf||e instanceof Tf||e instanceof Wf)}function pp(e,t,n){if(!fp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=wf(n);throw"an object"===r?t.Ua(e+" a custom object"):t.Ua(e+" "+r)}}function mp(e,t,n){if((t=D(t))instanceof Kf)return t._internalPath;if("string"==typeof t)return yp(e,t);throw vp("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const gp=new RegExp("[~\\*/\\[\\]]");function yp(e,t,n){if(t.search(gp)>=0)throw vp("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Kf(...t.split("."))._internalPath}catch(r){throw vp("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function vp(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new ps(fs.INVALID_ARGUMENT,a+e+l)}function wp(e,t){return e.some(e=>e.isEqual(t))}class bp{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Tf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new kp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_p("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class kp extends bp{data(){return super.data()}}function _p(e,t){return"string"==typeof t?yp(e,t):t instanceof Kf?t._internalPath:t._delegate._internalPath}class Sp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ip extends bp{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Tp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(_p("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Tp extends Ip{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Ep{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Sp(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Tp(this._firestore,this._userDataWriter,n.key,n,new Sp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ps(fs.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>({type:"added",doc:new Tp(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Sp(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Tp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Sp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Cp(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Cp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return cs()}}function Ap(e,t){return e instanceof Ip&&t instanceof Ip?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ep&&t instanceof Ep&&e._firestore===t._firestore&&Pf(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Np(e){if(jo(e)&&0===e.explicitOrderBy.length)throw new ps(fs.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dp{}function Pp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const i of n)e=i._apply(e);return e}class xp extends Dp{constructor(e,t,n){super(),this.Ga=e,this.za=t,this.Ha=n,this.type="where"}_apply(e){const t=ep(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new ps(fs.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on FieldPath.documentId()."));if("in"===s||"not-in"===s){Vp(o,s);const t=[];for(const n of o)t.push(Up(r,e,n));a={arrayValue:{values:t}}}else a=Up(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Vp(o,s),a=cp(n,"where",o,"in"===s||"not-in"===s);const l=ko.create(i,s,a);return function(e,t){if(t.V()){const n=qo(e);if(null!==n&&!n.isEqual(t.field))throw new ps(fs.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));const r=zo(e);null!==r&&jp(e,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new ps(fs.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ps(fs.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}(e,l),l}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new Ef(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new Mo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class Rp extends Dp{constructor(e,t){super(),this.Ga=e,this.Ja=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new ps(fs.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ps(fs.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new xo(t,n);return function(e,t){if(null===zo(e)){const n=qo(e);null!==n&&jp(e,n,t.field)}}(e,r),r}(e._query,this.Ga,this.Ja);return new Ef(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Mo(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Op extends Dp{constructor(e,t,n){super(),this.type=e,this.Ya=t,this.Xa=n}_apply(e){return new Ef(e.firestore,e.converter,Wo(e._query,this.Ya,this.Xa))}}class Lp extends Dp{constructor(e,t,n){super(),this.type=e,this.Za=t,this.tc=n}_apply(e){const t=Fp(e,this.type,this.Za,this.tc);return new Ef(e.firestore,e.converter,function(e,t){return new Mo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class Mp extends Dp{constructor(e,t,n){super(),this.type=e,this.Za=t,this.tc=n}_apply(e){const t=Fp(e,this.type,this.Za,this.tc);return new Ef(e.firestore,e.converter,function(e,t){return new Mo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function Fp(e,t,n,r){if(n[0]=D(n[0]),n[0]instanceof bp)return function(e,t,n,r,i){if(!r)throw new ps(fs.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const o of Ko(e))if(o.field.isKeyField())s.push(so(t,r.key));else{const e=r.data.field(o.field);if(Hs(e))throw new ps(fs.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new ps(fs.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new Do(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=ep(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new ps(fs.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<i.length;l++){const s=i[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new ps(fs.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!Bo(e)&&-1!==s.indexOf("/"))throw new ps(fs.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(Ms.fromString(s));if(!Js.isDocumentKey(n))throw new ps(fs.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new Js(n);a.push(so(t,i))}else{const e=cp(n,r,s);a.push(e)}}return new Do(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function Up(e,t,n){if("string"==typeof(n=D(n))){if(""===n)throw new ps(fs.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bo(t)&&-1!==n.indexOf("/"))throw new ps(fs.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Ms.fromString(n));if(!Js.isDocumentKey(r))throw new ps(fs.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return so(e,new Js(r))}if(n instanceof Tf)return so(e,n._key);throw new ps(fs.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(wf(n),"."))}function Vp(e,t){if(!Array.isArray(e)||0===e.length)throw new ps(fs.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new ps(fs.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function jp(e,t,n){if(!n.isEqual(t))throw new ps(fs.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class zp{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw cs()}}convertObject(e,t){const n={};return Rs(e.fields,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new Gf(Bs(e.latitude),Bs(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ws(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Gs(e));default:return null}}convertTimestamp(e){const t=qs(e);return new Ds(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ms.fromString(e);hs(Ul(n));const r=new ff(n.get(1),n.get(3)),i=new Js(n.popFirst(5));return r.isEqual(t)||as("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function qp(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Bp extends zp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tf(this.firestore,null,t)}}class Kp{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ep(e)}set(e,t,n){this._verifyNotCommitted();const r=Hp(e,this._firestore),i=qp(r.converter,t,n),s=tp(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,ga.none())),this}update(e,t,n){this._verifyNotCommitted();const r=Hp(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=D(t))||t instanceof Kf?up(this._dataReader,"WriteBatch.update",r._key,t,n,o):lp(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,ga.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Hp(e,this._firestore);return this._mutations=this._mutations.concat(new Na(t._key,ga.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ps(fs.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hp(e,t){if((e=D(e)).firestore!==t)throw new ps(fs.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Wp extends zp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tf(this.firestore,null,t)}}function Gp(e){e=bf(e,Tf);const t=bf(e.firestore,Lf),n=Mf(t),r=new Wp(t);return function(e,t){const n=new ms;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){try{const r=await function(e,t){const n=ds(e);return n.persistence.runTransaction("read document","readonly",e=>n.Wn.Rn(e,t))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new ps(fs.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Gh(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await sf(e),t,n)),n.promise}(n,e._key).then(n=>new Ip(t,r,e._key,n,new Sp(null!==n&&n.hasLocalMutations,!0),e.converter))}function Qp(e){e=bf(e,Ef);const t=bf(e.firestore,Lf),n=Mf(t),r=new Wp(t);return function(e,t){const n=new ms;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){try{const r=await Oc(e,t,!0),i=new hd(t,r.zn),s=i.bo(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=Gh(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await sf(e),t,n)),n.promise}(n,e._query).then(n=>new Ep(t,r,e,n))}function Yp(e,t,n){e=bf(e,Tf);const r=bf(e.firestore,Lf),i=qp(e.converter,t,n);return Zp(r,[tp(ep(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ga.none())])}function $p(e,t,n){e=bf(e,Tf);const r=bf(e.firestore,Lf),i=ep(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=D(t))||t instanceof Kf?up(i,"updateDoc",e._key,t,n,a):lp(i,"updateDoc",e._key,t),Zp(r,[s.toMutation(e._key,ga.exists(!0))])}function Jp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=D(e);let a={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||Rf(n[l])||(a=n[l],l++);const u={includeMetadataChanges:a.includeMetadataChanges};if(Rf(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let c,h,d;if(e instanceof Tf)h=bf(e.firestore,Lf),d=Uo(e._key.path),c={next:t=>{n[l]&&n[l](em(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=bf(e,Ef);h=bf(t.firestore,Lf),d=t._query;const r=new Wp(h);c={next:e=>{n[l]&&n[l](new Ep(h,r,t,e))},error:n[l+1],complete:n[l+2]},Np(e._query)}return function(e,t,n,r){const i=new Qd(r),s=new id(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>Zh(await lf(e),s)),()=>{i.na(),e.asyncQueue.enqueueAndForget(async()=>ed(await lf(e),s))}}(Mf(h),d,u,c)}function Xp(e,t){return function(e,t){const n=new Qd(t);return e.asyncQueue.enqueueAndForget(async()=>function(e,t){ds(e).io.add(t),t.next()}(await lf(e),n)),()=>{n.na(),e.asyncQueue.enqueueAndForget(async()=>function(e,t){ds(e).io.delete(t)}(await lf(e),n))}}(Mf(e=bf(e,Lf)),Rf(t)?t:{next:t})}function Zp(e,t){return function(e,t){const n=new ms;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=qd(e);try{const e=await function(e,t){const n=ds(e),r=Ds.now(),i=t.reduce((e,t)=>e.add(t.key),Qa());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>n.Wn.vn(e,i).next(i=>{s=i;const o=[];for(const e of t){const t=ka(e,s.get(e.key));null!=t&&o.push(new Ta(e.key,t,po(t.value.mapValue),ga.exists(!0)))}return n.An.addMutationBatch(e,r,o,t)})).then(e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ko[e.currentUser.toKey()];r||(r=new Ma(Cs)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(r,e.batchId,n),await Dd(r,e.changes),await Oh(r.remoteStore)}catch(e){const t=Gh(e,"Failed to persist write");n.reject(t)}}(await af(e),t,n)),n.promise}(Mf(e),t)}function em(e,t,n){const r=n.docs.get(t._key),i=new Wp(e);return new Ip(e,i,t._key,r,new Sp(n.hasPendingWrites,n.fromCache),t.converter)}class tm extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ep(e)}get(e){const t=Hp(e,this._firestore),n=new Bp(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return cs();const r=e[0];if(r.isFoundDocument())return new bp(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new bp(this._firestore,n,t._key,null,t.converter);throw cs()})}set(e,t,n){const r=Hp(e,this._firestore),i=qp(r.converter,t,n),s=tp(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=Hp(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=D(t))||t instanceof Kf?up(this._dataReader,"Transaction.update",r._key,t,n,o):lp(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=Hp(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Hp(e,this._firestore),n=new Wp(this._firestore);return super.get(e).then(e=>new Ip(this._firestore,n,t._key,e._document,new Sp(!1,!1),t.converter))}}function nm(e,t){return function(e,t){const n=new ms;return e.asyncQueue.enqueueAndForget(async()=>{const r=await function(e){return nf(e).then(e=>e.datastore)}(e);new Jd(e.asyncQueue,r,t,n).run()}),n.promise}(Mf(e=bf(e,Lf)),n=>t(new tm(e,n)))}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){rs=e}(Ae),_e(new P("firestore",(e,n)=>{let{options:r}=n;const i=e.getProvider("app").getImmediate(),s=new Lf(i,new ws(e.getProvider("auth-internal")),new Ss(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),s._setSettings(r),s},"PUBLIC")),Re(ts,"3.4.1",e),Re(ts,"3.4.1","esm2017")}();function rm(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ps("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function im(){if("undefined"===typeof Uint8Array)throw new ps("unimplemented","Uint8Arrays are not available in this environment.")}function sm(){if("undefined"==typeof atob)throw new ps("unimplemented","Blobs are unavailable in Firestore in this environment.")}class om{constructor(e){this._delegate=e}static fromBase64String(e){return sm(),new om(Hf.fromBase64String(e))}static fromUint8Array(e){return im(),new om(Hf.fromUint8Array(e))}toBase64(){return sm(),this._delegate.toBase64()}toUint8Array(){return im(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function am(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class lm{enableIndexedDbPersistence(e,t){return function(e,t){Bf(e=bf(e,Lf));const n=Mf(e),r=e._freezeSettings(),i=new Wd;return Uf(n,i,new Kd(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){Bf(e=bf(e,Lf));const t=Mf(e),n=e._freezeSettings(),r=new Wd;return Uf(t,r,new Hd(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new ps(fs.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new ms;return e._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(e){if(!cu.bt())return Promise.resolve();const t=e+"main";await cu.delete(t)}(kc(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}}),t.promise}(e._delegate)}}class um{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof ff||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||ls("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};If(this._delegate,e,t,n)}enableNetwork(){return jf(this._delegate)}disableNetwork(){return zf(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,gf("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Vf(this._delegate)}onSnapshotsInSync(e){return Xp(this._delegate,e)}get app(){if(!this._appCompat)throw new ps("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Sm(this,Af(this._delegate,e))}catch(t){throw mm(t,"collection()","Firestore.collection()")}}doc(e){try{return new pm(this,Nf(this._delegate,e))}catch(t){throw mm(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new bm(this,function(e,t){if(e=bf(e,Sf),mf("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ps(fs.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Ef(e,null,function(e){return new Mo(Ms.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw mm(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return nm(this._delegate,t=>e(new hm(this,t)))}batch(){return Mf(this._delegate),new dm(new Kp(this._delegate,e=>Zp(this._delegate,e)))}loadBundle(e){return function(e,t){const n=Mf(e=bf(e,Lf)),r=new Of;return hf(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return qf(this._delegate,e).then(e=>e?new bm(this,e):null)}}class cm extends zp{constructor(e){super(),this.firestore=e}convertBytes(e){return new om(new Hf(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return pm.forKey(t,this.firestore,null)}}class hm{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new cm(e)}get(e){const t=Im(e);return this._delegate.get(t).then(e=>new vm(this._firestore,new Ip(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter)))}set(e,t,n){const r=Im(e);return n?(rm("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=Im(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=Im(e);return this._delegate.delete(t),this}}class dm{constructor(e){this._delegate=e}set(e,t,n){const r=Im(e);return n?(rm("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=Im(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=Im(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class fm{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new Tp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new wm(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=fm.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new fm(e,new cm(e),t),r.set(t,i)),i}}fm.INSTANCES=new WeakMap;class pm{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new cm(e)}static forPath(e,t,n){if(e.length%2!==0)throw new ps("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new pm(t,new Tf(t._delegate,n,new Js(e)))}static forKey(e,t,n){return new pm(t,new Tf(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Sm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Sm(this.firestore,Af(this._delegate,e))}catch(t){throw mm(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=D(e))instanceof Tf&&Df(this._delegate,e)}set(e,t){t=rm("DocumentReference.set",t);try{return t?Yp(this._delegate,e,t):Yp(this._delegate,e)}catch(n){throw mm(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?$p(this._delegate,e):$p(this._delegate,e,t,...r)}catch(s){throw mm(s,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return Zp(bf(e.firestore,Lf),[new Na(e._key,ga.none())])}(this._delegate)}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=gm(t),i=ym(t,e=>new vm(this.firestore,new Ip(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)));return Jp(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?Gp(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=bf(e,Tf);const t=bf(e.firestore,Lf);return uf(Mf(t),e._key,{source:"server"}).then(n=>em(t,e,n))}(this._delegate):function(e){e=bf(e,Tf);const t=bf(e.firestore,Lf);return uf(Mf(t),e._key).then(n=>em(t,e,n))}(this._delegate),t.then(e=>new vm(this.firestore,new Ip(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)))}withConverter(e){return new pm(this.firestore,e?this._delegate.withConverter(fm.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function mm(e,t,n){return e.message=e.message.replace(t,n),e}function gm(e){for(const t of e)if("object"===typeof t&&!am(t))return t;return{}}function ym(e,t){var n,r;let i;return i=am(e[0])?e[0]:am(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class vm{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new pm(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Ap(this._delegate,e._delegate)}}class wm extends vm{data(e){const t=this._delegate.data(e);return function(e){e||cs()}(void 0!==t),t}}class bm{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new cm(e)}where(e,t,n){try{return new bm(this.firestore,Pp(this._delegate,function(e,t,n){const r=t,i=_p("where",e);return new xp(i,r,n)}(e,t,n)))}catch(r){throw mm(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new bm(this.firestore,Pp(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=_p("orderBy",e);return new Rp(n,t)}(e,t)))}catch(n){throw mm(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new bm(this.firestore,Pp(this._delegate,function(e){return kf("limit",e),new Op("limit",e,"F")}(e)))}catch(t){throw mm(t,"limit()","Query.limit()")}}limitToLast(e){try{return new bm(this.firestore,Pp(this._delegate,function(e){return kf("limitToLast",e),new Op("limitToLast",e,"L")}(e)))}catch(t){throw mm(t,"limitToLast()","Query.limitToLast()")}}startAt(){try{return new bm(this.firestore,Pp(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Lp("startAt",t,!0)}(...arguments)))}catch(e){throw mm(e,"startAt()","Query.startAt()")}}startAfter(){try{return new bm(this.firestore,Pp(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Lp("startAfter",t,!1)}(...arguments)))}catch(e){throw mm(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new bm(this.firestore,Pp(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Mp("endBefore",t,!0)}(...arguments)))}catch(e){throw mm(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new bm(this.firestore,Pp(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Mp("endAt",t,!1)}(...arguments)))}catch(e){throw mm(e,"endAt()","Query.endAt()")}}isEqual(e){return Pf(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?Qp(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=bf(e,Ef);const t=bf(e.firestore,Lf),n=Mf(t),r=new Wp(t);return cf(n,e._query,{source:"server"}).then(n=>new Ep(t,r,e,n))}(this._delegate):function(e){e=bf(e,Ef);const t=bf(e.firestore,Lf),n=Mf(t),r=new Wp(t);return Np(e._query),cf(n,e._query).then(n=>new Ep(t,r,e,n))}(this._delegate),t.then(e=>new _m(this.firestore,new Ep(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=gm(t),i=ym(t,e=>new _m(this.firestore,new Ep(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)));return Jp(this._delegate,r,i)}withConverter(e){return new bm(this.firestore,e?this._delegate.withConverter(fm.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class km{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new wm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class _m{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new bm(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new wm(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(e=>new km(this._firestore,e))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new wm(this._firestore,n))})}isEqual(e){return Ap(this._delegate,e._delegate)}}class Sm extends bm{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new pm(this.firestore,e):null}doc(e){try{return new pm(this.firestore,void 0===e?Nf(this._delegate):Nf(this._delegate,e))}catch(t){throw mm(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=bf(e.firestore,Lf),r=Nf(e),i=qp(e.converter,t);return Zp(n,[tp(ep(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ga.exists(!1))]).then(()=>r)}(this._delegate,e).then(e=>new pm(this.firestore,e))}isEqual(e){return Df(this._delegate,e._delegate)}withConverter(e){return new Sm(this.firestore,e?this._delegate.withConverter(fm.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Im(e){return bf(e,Tf)}class Tm{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new Kf(...t)}static documentId(){return new Tm(Us.keyField().canonicalString())}isEqual(e){return(e=D(e))instanceof Kf&&this._delegate._internalPath.isEqual(e._internalPath)}}class Em{constructor(e){this._delegate=e}static serverTimestamp(){const e=new ip("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Em(e)}static delete(){const e=new np("deleteField");return e._methodName="FieldValue.delete",new Em(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new sp("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new Em(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new op("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new Em(e)}static increment(e){const t=function(e){return new ap("increment",e)}(e);return t._methodName="FieldValue.increment",new Em(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Cm={Firestore:um,GeoPoint:Gf,Timestamp:Ds,Blob:om,Transaction:hm,WriteBatch:dm,DocumentReference:pm,DocumentSnapshot:vm,Query:bm,QueryDocumentSnapshot:wm,QuerySnapshot:_m,CollectionReference:Sm,FieldPath:Tm,FieldValue:Em,setLogLevel:function(e){!function(e){is.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};var Am;(function(e,t){e.INTERNAL.registerComponent(new P("firestore-compat",e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)},"PUBLIC").setServiceProps(Object.assign({},Cm)))})(Am=ze,(e,t)=>new um(e,t,new lm)),Am.registerVersion("@firebase/firestore-compat","0.1.10");function Nm(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const Dm="facebook.com",Pm="github.com",xm="google.com",Rm="password",Om="twitter.com",Lm="EMAIL_SIGNIN",Mm="PASSWORD_RESET",Fm="RECOVER_EMAIL",Um="REVERT_SECOND_FACTOR_ADDITION",Vm="VERIFY_AND_CHANGE_EMAIL",jm="VERIFY_EMAIL";function zm(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qm=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Bm=zm,Km=new w("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Hm=new z("@firebase/auth");function Wm(e){if(Hm.logLevel<=M.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Hm.error("Auth (".concat(Ae,"): ").concat(e),...n)}}function Gm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Jm(e,...n)}function Qm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Jm(e,...n)}function Ym(e,t,n){const r=Object.assign(Object.assign({},Bm()),{[t]:n});return new w("auth","Firebase",r).create(t,{appName:e.name})}function $m(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Gm(e,"argument-error"),Ym(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Jm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Km.create(e,...n)}function Xm(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Jm(t,...r)}}function Zm(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Wm(t),new Error(t)}function eg(e,t){e||Zm(t)}const tg=new Map;function ng(e){eg(e instanceof Function,"Expected a class definition");let t=tg.get(e);return t?(eg(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,tg.set(e,t),t)}function rg(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ig(){return"http:"===sg()||"https:"===sg()}function sg(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class og{constructor(e,t){this.shortDelay=e,this.longDelay=t,eg(t>e,"Short delay should be less than long delay!"),this.isMobile=d()||m()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ig()||p()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function ag(e,t){eg(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class lg{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Zm("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Zm("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Zm("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ug={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},cg=new og(3e4,6e4);function hg(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function dg(e,t,n,r){return fg(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=I(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),lg.fetch()(mg(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))})}async function fg(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},ug),t);try{const t=new gg(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw yg(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw yg(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw yg(e,"email-already-in-use",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Ym(e,a,o);Gm(e,a)}}catch(i){if(i instanceof v)throw i;Gm(e,"network-request-failed")}}async function pg(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await dg(e,t,n,r,i);return"mfaPendingCredential"in s&&Gm(e,"multi-factor-auth-required",{_serverResponse:s}),s}function mg(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ag(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}class gg{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Qm(this.auth,"timeout")),cg.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yg(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qm(e,t,r);return i.customData._tokenResponse=n,i}function vg(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function wg(e){return 1e3*Number(e)}function bg(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Wm("JWT malformed, contained fewer than 3 sections"),null;try{const e=a(n);return e?JSON.parse(e):(Wm("Failed to decode base64 JWT payload"),null)}catch(i){return Wm("Caught error parsing JWT payload as JSON",i),null}}async function kg(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof v&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class _g{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void(e.code==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Sg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=vg(this.lastLoginAt),this.creationTime=vg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ig(e){var t;const n=e.auth,r=await e.getIdToken(),i=await kg(e,async function(e,t){return dg(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Xm(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map(e=>{var{providerId:t}=e,n=Nm(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const a=(l=e.providerData,u=o,[...l.filter(e=>!u.some(t=>t.providerId===e.providerId)),...u]);var l,u;const c=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!c&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Sg(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class Tg{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Xm(e.idToken,"internal-error"),Xm("undefined"!==typeof e.idToken,"internal-error"),Xm("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=bg(e);return Xm(t,"internal-error"),Xm("undefined"!==typeof t.exp,"internal-error"),Xm("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Xm(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await fg(e,{},async()=>{const n=I({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=mg(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",lg.fetch()(s,{method:"POST",headers:o,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Tg;return n&&(Xm("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Xm("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Xm("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Tg,this.toJSON())}_performRefresh(){return Zm("not implemented")}}function Eg(e,t){Xm("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Cg{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Nm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new _g(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.metadata=new Sg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await kg(this,this.stsTokenManager.getToken(this.auth,e));return Xm(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=D(e),r=await n.getIdToken(t),i=bg(r);Xm(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:vg(wg(i.auth_time)),issuedAtTime:vg(wg(i.iat)),expirationTime:vg(wg(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=D(e);await Ig(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Xm(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Cg(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Xm(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Ig(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await kg(this,async function(e,t){return dg(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:k,stsTokenManager:_}=t;Xm(v&&_,e,"internal-error");const S=Tg.fromJSON(this.name,_);Xm("string"===typeof v,e,"internal-error"),Eg(c,e.name),Eg(h,e.name),Xm("boolean"===typeof w,e,"internal-error"),Xm("boolean"===typeof b,e,"internal-error"),Eg(d,e.name),Eg(f,e.name),Eg(p,e.name),Eg(m,e.name),Eg(g,e.name),Eg(y,e.name);const I=new Cg({uid:v,auth:e,email:h,emailVerified:w,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});return k&&Array.isArray(k)&&(I.providerData=k.map(e=>Object.assign({},e))),m&&(I._redirectEventId=m),I}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Tg;r.updateFromServerResponse(t);const i=new Cg({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Ig(i),i}}class Ag{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ag.type="NONE";const Ng=Ag;function Dg(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Pg{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Dg(this.userKey,r.apiKey,i),this.fullPersistenceKey=Dg("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Cg._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Pg(ng(Ng),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||ng(Ng);const s=Dg(n,e.config.apiKey,e.name);let o=null;for(const l of t)try{const t=await l._get(s);if(t){const n=Cg._fromJSON(e,t);l!==i&&(o=n),i=l;break}}catch(Sd){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(Sd){}})),new Pg(i,e,n)):new Pg(i,e,n)}}function xg(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Mg(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Rg(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ug(t))return"Blackberry";if(Vg(t))return"Webos";if(Og(t))return"Safari";if((t.includes("chrome/")||Lg(t))&&!t.includes("edge/"))return"Chrome";if(Fg(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Rg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h();return/firefox\//i.test(e)}function Og(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:h()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Lg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h();return/crios\//i.test(e)}function Mg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h();return/iemobile/i.test(e)}function Fg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h();return/android/i.test(e)}function Ug(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h();return/blackberry/i.test(e)}function Vg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h();return/webos/i.test(e)}function jg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h();return/iphone|ipad|ipod/i.test(e)}function zg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h();return jg(e)||Fg(e)||Vg(e)||Ug(e)||/windows phone/i.test(e)||Mg(e)}function qg(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=xg(h());break;case"Worker":t="".concat(xg(h()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ae,"/").concat(r)}class Bg{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hg(this),this.idTokenSubscription=new Hg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Km,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ng(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Pg.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e):void 0}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null===n||void 0===n?void 0:n._redirectEventId,s=await this.tryRedirectSignIn(e);r&&r!==i||!(null===s||void 0===s?void 0:s.user)||(n=s.user)}return n?n._redirectEventId?(Xm(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ig(e)}catch(t){if(t.code!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?D(e):null;return t&&Xm(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&Xm(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ng(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new w("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ng(e)||this._popupRedirectResolver;Xm(t,this,"argument-error"),this.redirectPersistenceManager=await Pg.create(this,[ng(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return Xm(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Xm(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qg(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};return this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId),e}}function Kg(e){return D(e)}class Hg{constructor(e){this.auth=e,this.observer=null,this.addObserver=C(e=>this.observer=e)}get next(){return Xm(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Wg(e,t,n){const r=Kg(e);Xm(r._canInitEmulator,r,"emulator-config-failed"),Xm(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Gg(t),{host:o,port:a}=function(e){const t=Gg(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Qg(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Qg(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Gg(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Qg(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Yg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Zm("not implemented")}_getIdTokenResponse(e){return Zm("not implemented")}_linkToIdToken(e,t){return Zm("not implemented")}_getReauthenticationResolver(e){return Zm("not implemented")}}async function $g(e,t){return dg(e,"POST","/v1/accounts:resetPassword",hg(e,t))}async function Jg(e,t){return dg(e,"POST","/v1/accounts:update",t)}async function Xg(e,t){return dg(e,"POST","/v1/accounts:sendOobCode",hg(e,t))}class Zg extends Yg{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Zg(e,t,"password")}static _fromEmailAndCode(e,t){return new Zg(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return pg(e,"POST","/v1/accounts:signInWithPassword",hg(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return pg(e,"POST","/v1/accounts:signInWithEmailLink",hg(e,t))}(e,{email:this._email,oobCode:this._password});default:Gm(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Jg(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return pg(e,"POST","/v1/accounts:signInWithEmailLink",hg(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Gm(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ey(e,t){return pg(e,"POST","/v1/accounts:signInWithIdp",hg(e,t))}class ty extends Yg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ty(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Gm("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Nm(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new ty(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return ey(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ey(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ey(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=I(t)}return e}}const ny={USER_NOT_FOUND:"user-not-found"};class ry extends Yg{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ry({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ry({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return pg(e,"POST","/v1/accounts:signInWithPhoneNumber",hg(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await pg(e,"POST","/v1/accounts:signInWithPhoneNumber",hg(e,t));if(n.temporaryProof)throw yg(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return pg(e,"POST","/v1/accounts:signInWithPhoneNumber",hg(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ny)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ry({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class iy{constructor(e){var t,n,r,i,s,o;const a=T(E(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,u=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Xm(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=T(E(e)).link,n=t?T(E(t)).deep_link_id:null,r=T(E(e)).deep_link_id;return(r?T(E(r)).link:null)||r||n||t||e}(e);try{return new iy(t)}catch(Sd){return null}}}class sy{constructor(){this.providerId=sy.PROVIDER_ID}static credential(e,t){return Zg._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=iy.parseLink(t);return Xm(n,"argument-error"),Zg._fromEmailAndCode(e,n.code,n.tenantId)}}sy.PROVIDER_ID="password",sy.EMAIL_PASSWORD_SIGN_IN_METHOD="password",sy.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class oy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ay extends oy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ly extends ay{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return Xm("providerId"in t&&"signInMethod"in t,"argument-error"),ty._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Xm(e.idToken||e.accessToken,"argument-error"),ty._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ly.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ly.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=t;if(!r&&!i&&!n&&!s)return null;if(!a)return null;try{return new ly(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch(l){return null}}}class uy extends ay{constructor(){super("facebook.com")}static credential(e){return ty._fromParams({providerId:uy.PROVIDER_ID,signInMethod:uy.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uy.credentialFromTaggedObject(e)}static credentialFromError(e){return uy.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return uy.credential(t.oauthAccessToken)}catch(Sd){return null}}}uy.FACEBOOK_SIGN_IN_METHOD="facebook.com",uy.PROVIDER_ID="facebook.com";class cy extends ay{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ty._fromParams({providerId:cy.PROVIDER_ID,signInMethod:cy.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return cy.credentialFromTaggedObject(e)}static credentialFromError(e){return cy.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return cy.credential(n,r)}catch(Sd){return null}}}cy.GOOGLE_SIGN_IN_METHOD="google.com",cy.PROVIDER_ID="google.com";class hy extends ay{constructor(){super("github.com")}static credential(e){return ty._fromParams({providerId:hy.PROVIDER_ID,signInMethod:hy.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hy.credentialFromTaggedObject(e)}static credentialFromError(e){return hy.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return hy.credential(t.oauthAccessToken)}catch(Sd){return null}}}hy.GITHUB_SIGN_IN_METHOD="github.com",hy.PROVIDER_ID="github.com";class dy extends Yg{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return ey(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ey(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ey(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new dy(n,i):null}static _create(e,t){return new dy(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class fy extends oy{constructor(e){Xm(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return fy.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return fy.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=dy.fromJSON(e);return Xm(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return dy._create(r,n)}catch(i){return null}}}class py extends ay{constructor(){super("twitter.com")}static credential(e,t){return ty._fromParams({providerId:py.PROVIDER_ID,signInMethod:py.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return py.credentialFromTaggedObject(e)}static credentialFromError(e){return py.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return py.credential(n,r)}catch(Sd){return null}}}async function my(e,t){return pg(e,"POST","/v1/accounts:signUp",hg(e,t))}py.TWITTER_SIGN_IN_METHOD="twitter.com",py.PROVIDER_ID="twitter.com";class gy{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Cg._fromIdTokenResponse(e,n,r),s=yy(n);return new gy({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=yy(n);return new gy({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function yy(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class vy extends v{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,vy.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new vy(e,t,n,r)}}function wy(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw vy._fromErrorAndOperation(e,n,t,r);throw n})}function by(e){return new Set(e.map(e=>{let{providerId:t}=e;return t}).filter(e=>!!e))}async function ky(e,t){const n=D(e);await Sy(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return dg(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=by(r||[]);return n.providerData=n.providerData.filter(e=>i.has(e.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function _y(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await kg(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return gy._forOperation(e,"link",r)}async function Sy(e,t,n){await Ig(t);const r=!1===e?"provider-already-linked":"no-such-provider";Xm(by(t.providerData).has(n)===e,t.auth,r)}async function Iy(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await kg(e,wy(r,i,t,e),n);Xm(s.idToken,r,"internal-error");const o=bg(s.idToken);Xm(o,r,"internal-error");const{sub:a}=o;return Xm(e.uid===a,r,"user-mismatch"),gy._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&Gm(r,"user-mismatch"),s}}async function Ty(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await wy(e,r,t),s=await gy._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Ey(e,t){return Ty(Kg(e),t)}async function Cy(e,t){const n=D(e);return await Sy(!1,n,t.providerId),_y(n,t)}async function Ay(e,t){return Iy(D(e),t)}async function Ny(e,t){const n=Kg(e),r=await async function(e,t){return pg(e,"POST","/v1/accounts:signInWithCustomToken",hg(e,t))}(n,{token:t,returnSecureToken:!0}),i=await gy._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class Dy{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Py._fromServerResponse(e,t):Gm(e,"internal-error")}}class Py extends Dy{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Py(t)}}function xy(e,t,n){var r;Xm((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Xm("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Xm(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Xm(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Ry(e,t,n){const r=D(e),i={requestType:"PASSWORD_RESET",email:t};n&&xy(r,i,n),await async function(e,t){return Xg(e,t)}(r,i)}async function Oy(e,t){await async function(e,t){return dg(e,"POST","/v1/accounts:update",hg(e,t))}(D(e),{oobCode:t})}async function Ly(e,t){const n=D(e),r=await $g(n,{oobCode:t}),i=r.requestType;switch(Xm(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Xm(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Xm(r.mfaInfo,n,"internal-error");default:Xm(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Dy._fromServerResponse(Kg(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function My(e,t,n){const r=D(e),i={requestType:"EMAIL_SIGNIN",email:t};Xm(n.handleCodeInApp,r,"argument-error"),n&&xy(r,i,n),await async function(e,t){return Xg(e,t)}(r,i)}async function Fy(e,t){const n={identifier:t,continueUri:ig()?rg():"http://localhost"},{signinMethods:r}=await async function(e,t){return dg(e,"POST","/v1/accounts:createAuthUri",hg(e,t))}(D(e),n);return r||[]}async function Uy(e,t){const n=D(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&xy(n.auth,r,t);const{email:i}=await async function(e,t){return Xg(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function Vy(e,t,n){const r=D(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&xy(r.auth,i,n);const{email:s}=await async function(e,t){return Xg(e,t)}(r.auth,i);s!==e.email&&await e.reload()}async function jy(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=D(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await kg(i,async function(e,t){return dg(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find(e=>{let{providerId:t}=e;return"password"===t});a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}async function zy(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await kg(e,Jg(r,i));await e._updateTokensIfNecessary(s,!0)}class qy{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class By extends qy{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Ky extends qy{constructor(e,t){super(e,"facebook.com",t)}}class Hy extends By{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Wy extends qy{constructor(e,t){super(e,"google.com",t)}}class Gy extends By{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Qy(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=bg(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new qy(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Ky(s,i);case"github.com":return new Hy(s,i);case"google.com":return new Wy(s,i);case"twitter.com":return new Gy(s,i,e.screenName||null);case"custom":case"anonymous":return new qy(s,null);default:return new qy(s,r,i)}}(n)}class Yy{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new Yy("enroll",e)}static _fromMfaPendingCredential(e){return new Yy("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Yy._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Yy._fromIdtoken(e.multiFactorSession.idToken)}return null}}class $y{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Kg(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map(e=>Dy._fromServerResponse(n,e));Xm(r.mfaPendingCredential,n,"internal-error");const s=Yy._fromMfaPendingCredential(r.mfaPendingCredential);return new $y(s,i,async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const o=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await gy._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Xm(t.user,n,"internal-error"),gy._forOperation(t.user,t.operationType,o);default:Gm(n,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class Jy{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>Dy._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new Jy(e)}async getSession(){return Yy._fromIdtoken(await this.user.getIdToken())}async enroll(e,t){const n=e,r=await this.getSession(),i=await kg(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken(),r=await kg(this.user,function(e,t){return dg(e,"POST","/v2/accounts/mfaEnrollment:withdraw",hg(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(e=>{let{uid:n}=e;return n!==t}),await this.user._updateTokensIfNecessary(r);try{await this.user.reload()}catch(i){if(i.code!=="auth/".concat("user-token-expired"))throw i}}}const Xy=new WeakMap;const Zy="__sak";class ev{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Zy,"1"),this.storage.removeItem(Zy),Promise.resolve(!0)):Promise.resolve(!1)}catch(Sd){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class tv extends ev{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=h();return Og(e)||jg(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=zg(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);g()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}tv.type="LOCAL";const nv=tv;class rv extends ev{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}rv.type="SESSION";const iv=rv;class sv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new sv(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ov(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}sv.receivers=[];class av{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((o,a)=>{const l=ov("",20);r.port1.start();const u=setTimeout(()=>{a(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function lv(){return window}function uv(){return"undefined"!==typeof lv().WorkerGlobalScope&&"function"===typeof lv().importScripts}const cv="firebaseLocalStorageDb",hv="firebaseLocalStorage",dv="fbase_key";class fv{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function pv(e,t){return e.transaction([hv],t?"readwrite":"readonly").objectStore(hv)}function mv(){const e=indexedDB.open(cv,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(hv,{keyPath:dv})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(hv)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(cv);return new fv(e).toPromise()}(),t(await mv()))})})}async function gv(e,t,n){const r=pv(e,!0).put({[dv]:t,value:n});return new fv(r).toPromise()}function yv(e,t){const n=pv(e,!0).delete(t);return new fv(n).toPromise()}class vv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await mv()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sv._getInstance(uv()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new av(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(Sd){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mv();return await gv(e,Zy,"1"),await yv(e,Zy),!0}catch(Sd){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>gv(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=pv(e,!1).get(t),r=await new fv(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>yv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=pv(e,!1).getAll();return new fv(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}vv.type="LOCAL";const wv=vv;function bv(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Qm("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function kv(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}const _v=1e12;class Sv{constructor(e){this.auth=e,this.counter=_v,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Iv(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||_v;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||_v;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||_v;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Iv{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;Xm(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Tv=kv("rcb"),Ev=new og(3e4,6e4);class Cv{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!lv().grecaptcha}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Xm(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(lv().grecaptcha):new Promise((n,r)=>{const i=lv().setTimeout(()=>{r(Qm(e,"network-request-failed"))},Ev.get());lv()[Tv]=()=>{lv().clearTimeout(i),delete lv()[Tv];const s=lv().grecaptcha;if(!s)return void r(Qm(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};bv("".concat("https://www.google.com/recaptcha/api.js?","?").concat(I({onload:Tv,render:"explicit",hl:t}))).catch(()=>{clearTimeout(i),r(Qm(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!lv().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Av{async load(e){return new Sv(e)}clearedOneInstance(){}}const Nv="recaptcha",Dv={theme:"light",type:"image"};class Pv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Dv),n=arguments.length>2?arguments[2]:void 0;this.parameters=t,this.type=Nv,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Kg(n),this.isInvisible="invisible"===this.parameters.size,Xm("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof e?document.getElementById(e):e;Xm(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Av:new Cv,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise(n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Xm(!this.parameters.sitekey,this.auth,"argument-error"),Xm(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Xm("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"===typeof e)e(t);else if("string"===typeof e){const n=lv()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){Xm(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Xm(ig()&&!uv(),this.auth,"internal-error"),await function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await dg(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Xm(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Xm(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class xv{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=ry._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Rv(e,t,n){var r;const i=await n.verify();try{let s;if(Xm("string"===typeof i,e,"argument-error"),Xm(n.type===Nv,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Xm("enroll"===t.type,e,"internal-error");const n=await function(e,t){return dg(e,"POST","/v2/accounts/mfaEnrollment:start",hg(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Xm("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Xm(n,e,"missing-multi-factor-info");const o=await function(e,t){return dg(e,"POST","/v2/accounts/mfaSignIn:start",hg(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return dg(e,"POST","/v1/accounts:sendVerificationCode",hg(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Ov{constructor(e){this.providerId=Ov.PROVIDER_ID,this.auth=Kg(e)}verifyPhoneNumber(e,t){return Rv(this.auth,e,D(t))}static credential(e,t){return ry._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ov.credentialFromTaggedObject(t)}static credentialFromError(e){return Ov.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ry._fromTokenResponse(n,r):null}}function Lv(e,t){return t?ng(t):(Xm(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ov.PROVIDER_ID="phone",Ov.PHONE_SIGN_IN_METHOD="phone";class Mv extends Yg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ey(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ey(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ey(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Fv(e){return Ty(e.auth,new Mv(e),e.bypassAuthState)}function Uv(e){const{auth:t,user:n}=e;return Xm(n,t,"internal-error"),Iy(n,new Mv(e),e.bypassAuthState)}async function Vv(e){const{auth:t,user:n}=e;return Xm(n,t,"internal-error"),_y(n,new Mv(e),e.bypassAuthState)}class jv{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Fv;case"linkViaPopup":case"linkViaRedirect":return Vv;case"reauthViaPopup":case"reauthViaRedirect":return Uv;default:Gm(this.auth,"internal-error")}}resolve(e){eg(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){eg(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zv=new og(2e3,1e4);class qv extends jv{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,qv.currentPopupAction&&qv.currentPopupAction.cancel(),qv.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Xm(e,this.auth,"internal-error"),e}async onExecution(){eg(1===this.filter.length,"Popup operations only handle one event");const e=ov();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Qm(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Qm(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qv.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qm(this.auth,"popup-closed-by-user"))},2e3):this.pollId=window.setTimeout(e,zv.get())};e()}}qv.currentPopupAction=null;const Bv=new Map;class Kv extends jv{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Bv.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Gv(t),r=Wv(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Bv.set(this.auth._key(),e)}return this.bypassAuthState||Bv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Hv(e,t){return Wv(e)._set(Gv(t),"true")}function Wv(e){return ng(e._redirectPersistence)}function Gv(e){return Dg("pendingRedirect",e.config.apiKey,e.name)}function Qv(e,t,n){return async function(e,t,n){const r=Kg(e);$m(e,t,oy);const i=Lv(r,n);return await Hv(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function Yv(e,t,n){return async function(e,t,n){const r=D(e);$m(r.auth,t,oy);const i=Lv(r.auth,n);await Hv(i,r.auth);const s=await Xv(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function $v(e,t,n){return async function(e,t,n){const r=D(e);$m(r.auth,t,oy);const i=Lv(r.auth,n);await Sy(!1,r,t.providerId),await Hv(i,r.auth);const s=await Xv(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function Jv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Kg(e),i=Lv(r,t),s=new Kv(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}async function Xv(e){const t=ov("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Zv{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tw(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!tw(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Qm(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ew(e))}saveEventToCache(e){this.cachedEventUids.add(ew(e)),this.lastProcessedEventTime=Date.now()}}function ew(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function tw(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function nw(e){return dg(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const rw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iw=/^https?/;function sw(e){const t=rg(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!iw.test(n))return!1;if(rw.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ow=new og(3e4,6e4);function aw(){const e=lv().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let lw=null;function uw(e){return lw=lw||function(e){return new Promise((t,n)=>{var r,i,s;function o(){aw(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{aw(),n(Qm(e,"network-request-failed"))},timeout:ow.get()})}if(null===(i=null===(r=lv().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=lv().gapi)||void 0===s?void 0:s.load)){const t=kv("iframefcb");return lv()[t]=()=>{gapi.load?o():n(Qm(e,"network-request-failed"))},bv("https://apis.google.com/js/api.js?onload=".concat(t)).catch(e=>n(e))}o()}}).catch(e=>{throw lw=null,e})}(e),lw}const cw=new og(5e3,15e3),hw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fw(e){const t=e.config;Xm(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ag(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Ae},i=dw.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(I(r).slice(1))}const pw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class mw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function gw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},pw),{width:r.toString(),height:i.toString(),top:s,left:o}),u=h().toLowerCase();n&&(a=Lg(u)?"_blank":n),Rg(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return jg(arguments.length>0&&void 0!==arguments[0]?arguments[0]:h())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new mw(null);const d=window.open(t||"",a,c);Xm(d,e,"popup-blocked");try{d.focus()}catch(f){}return new mw(d)}const yw="__/auth/handler",vw="emulator/auth/handler";function ww(e,t,n,r,i,s){Xm(e.config.authDomain,e,"auth-domain-config-required"),Xm(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ae,eventId:i};if(t instanceof oy){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof ay){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(yw);return ag(t,vw)}(e),"?").concat(I(a).slice(1))}const bw="webStorageSupport";const kw=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iv,this._completeRedirectFn=Jv}async _openPopup(e,t,n,r){var i;eg(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return gw(e,ww(e,t,n,rg(),r),ov())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=ww(e,t,n,rg(),r),lv().location.href=i,new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(eg(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await uw(e),n=lv().gapi;return Xm(n,e,"internal-error"),t.open({where:document.body,url:fw(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hw,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Qm(e,"network-request-failed"),s=lv().setTimeout(()=>{r(i)},cw.get());function o(){lv().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})}))}(e),n=new Zv(e);return t.register("authEvent",t=>{Xm(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(bw,{type:bw},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[bw];void 0!==i&&t(!!i),Gm(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await nw(e);for(const n of t)try{if(sw(n))return}catch(Sd){}Gm(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zg()||Og()||jg()}};class _w{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Zm("unexpected MultiFactorSessionType")}}}class Sw extends _w{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Sw(e)}_finalizeEnroll(e,t,n){return function(e,t){return dg(e,"POST","/v2/accounts/mfaEnrollment:finalize",hg(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return dg(e,"POST","/v2/accounts/mfaSignIn:finalize",hg(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Iw{constructor(){}static assertion(e){return Sw._fromCredential(e)}}Iw.FACTOR_ID="phone";var Tw,Ew="@firebase/auth",Cw="0.19.4";class Aw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Xm(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Nw(){return window}Tw="Browser",_e(new P("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),{apiKey:i,authDomain:s}=r.options;return(e=>{Xm(i&&!i.includes(":"),"invalid-api-key",{appName:e.name}),Xm(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});const t={apiKey:i,authDomain:s,clientPlatform:Tw,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qg(Tw)},r=new Bg(e,t);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ng);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r})(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),_e(new P("auth-internal",e=>(e=>new Aw(e))(Kg(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Re(Ew,Cw,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Tw)),Re(Ew,Cw,"esm2017");async function Dw(e,t,n){var r;const{BuildInfo:i}=Nw();eg(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(eg(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")}(t.sessionId),o={};return jg()?o.ibi=i.packageName:Fg()?o.apn=i.packageName:Gm(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,ww(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)}function Pw(e){const{cordova:t}=Nw();return new Promise(n=>{t.plugins.browsertab.isAvailable(r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)})})}class xw extends Zv{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}async function Rw(e){const t=await Mw()._get(Fw(e));return t&&await Mw()._remove(Fw(e)),t}function Ow(e,t){var n,r;const i=function(e){const t=Uw(e),n=t.link?decodeURIComponent(t.link):void 0,r=Uw(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Uw(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Uw(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?Qm(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Lw(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function Mw(){return ng(nv)}function Fw(e){return Dg("authEvent",e.config.apiKey,e.name)}function Uw(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return T(n.join("?"))}const Vw=class{constructor(){this._redirectPersistence=iv,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Jv}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new xw(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){Gm(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,o,a,l,u,c;const h=Nw();Xm("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Xm("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Xm("function"===typeof(null===(s=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Xm("function"===typeof(null===(l=null===(a=null===(o=null===h||void 0===h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Xm("function"===typeof(null===(c=null===(u=null===h||void 0===h?void 0:h.cordova)||void 0===u?void 0:u.InAppBrowser)||void 0===c?void 0:c.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Bv.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Lw(),postBody:null,tenantId:e.tenantId,error:Qm(e,"no-auth-event")}}(e,n,r);await function(e,t){return Mw()._set(Fw(e),t)}(e,s);const o=await Dw(e,s,t);return async function(e,t,n){const{cordova:r}=Nw();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function u(){a||(a=window.setTimeout(()=>{o(Qm(e,"redirect-cancelled-by-user"))},2e3))}function c(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&u()}t.addPassiveListener(l),document.addEventListener("resume",u,!1),Fg()&&document.addEventListener("visibilitychange",c,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}})}finally{i()}}(e,i,await Pw(o))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Nw(),n={};jg()?n.iosBundleId=t.packageName:Fg()?n.androidPackageName=t.packageName:Gm(e,"operation-not-supported-in-this-environment"),await nw(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=Nw(),s=setTimeout(async()=>{await Rw(e),t.onEvent(jw())},500),o=async n=>{clearTimeout(s);const r=await Rw(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=Ow(r,n.url)),t.onEvent(i||jw())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,o);const a=r,l="".concat(i.packageName.toLowerCase(),"://");Nw().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&o({url:e}),"function"===typeof a)try{a(e)}catch(t){console.error(t)}}}};function jw(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Qm("no-auth-event")}}function zw(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function qw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h();return!("file:"!==zw()&&"ionic:"!==zw()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Bw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h();return g()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h();return/Edge\/\d+/.test(e)}(e)}function Kw(){try{const e=self.localStorage,t=ov();if(e)return e.setItem(t,"1"),e.removeItem(t),!Bw()||y()}catch(e){return Hw()&&y()}return!1}function Hw(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Ww(){return("http:"===zw()||"https:"===zw()||p()||qw())&&!(m()||f())&&Kw()&&!Hw()}function Gw(){return qw()&&"undefined"!==typeof document}const Qw={LOCAL:"local",NONE:"none",SESSION:"session"},Yw=Xm,$w="persistence";async function Jw(e){await e._initializationPromise;const t=Xw(),n=Dg($w,e.config.apiKey,e.name);(null===t||void 0===t?void 0:t.sessionStorage)&&t.sessionStorage.setItem(n,e._getPersistence())}function Xw(){return"undefined"!==typeof window?window:null}const Zw=Xm;class eb{constructor(){this.browserResolver=ng(kw),this.cordovaResolver=ng(Vw),this.underlyingResolver=null,this._redirectPersistence=iv,this._completeRedirectFn=Jv}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Gw()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Zw(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Gw()&&new Promise(e=>{const t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function tb(e){return e.unwrap()}function nb(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code){t.resolver=new ob(e,function(e,t){var n;const r=D(e),i=t;return Xm(t.customData.operationType,r,"argument-error"),Xm(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),$y._fromError(r,i)}(e,t))}else if(r){const e=rb(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function rb(e){const{_tokenResponse:t}=e instanceof v?e.customData:e;if(!t)return null;if(!(e instanceof v)&&"temporaryProof"in t&&"phoneNumber"in t)return Ov.credentialFromResult(e);const n=t.providerId;if(!n||n===Rm)return null;let r;switch(n){case xm:r=cy;break;case Dm:r=uy;break;case Pm:r=hy;break;case Om:r=py;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?dy._create(n,o):ty._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new ly(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof v?r.credentialFromError(e):r.credentialFromResult(e)}function ib(e,t){return t.catch(t=>{throw t instanceof v&&nb(e,t),t}).then(e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,rb(r)),additionalUserInfo:Qy(e),user:ab.getOrCreate(n)};var r})}async function sb(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>ib(e,n.confirm(t))}}class ob{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ib(tb(this.auth),this.resolver.resolveSignIn(e))}}class ab{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=D(e);return Xy.has(t)||Xy.set(t,Jy._fromUser(t)),Xy.get(t)}(e)}static getOrCreate(e){return ab.USER_MAP.has(e)||ab.USER_MAP.set(e,new ab(e)),ab.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return ib(this.auth,Cy(this._delegate,e))}async linkWithPhoneNumber(e,t){return sb(this.auth,async function(e,t,n){const r=D(e);await Sy(!1,r,"phone");const i=await Rv(r.auth,t,D(n));return new xv(i,e=>Cy(r,e))}(this._delegate,e,t))}async linkWithPopup(e){return ib(this.auth,async function(e,t,n){const r=D(e);$m(r.auth,t,oy);const i=Lv(r.auth,n);return new qv(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,eb))}async linkWithRedirect(e){return await Jw(Kg(this.auth)),$v(this._delegate,e,eb)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return ib(this.auth,Ay(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return sb(this.auth,async function(e,t,n){const r=D(e),i=await Rv(r.auth,t,D(n));return new xv(i,e=>Ay(r,e))}(this._delegate,e,t))}reauthenticateWithPopup(e){return ib(this.auth,async function(e,t,n){const r=D(e);$m(r.auth,t,oy);const i=Lv(r.auth,n);return new qv(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,eb))}async reauthenticateWithRedirect(e){return await Jw(Kg(this.auth)),Yv(this._delegate,e,eb)}sendEmailVerification(e){return Uy(this._delegate,e)}async unlink(e){return await ky(this._delegate,e),this}updateEmail(e){return function(e,t){return zy(D(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return zy(D(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await _y(D(e),t)}(this._delegate,e)}updateProfile(e){return jy(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Vy(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ab.USER_MAP=new WeakMap;const lb=Xm;class ub{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;lb(n,"invalid-api-key",{appName:e.name});let r=[Ng];if("undefined"!==typeof window){r=function(e,t){const n=Xw();if(!(null===n||void 0===n?void 0:n.sessionStorage))return[];const r=Dg($w,e,t);switch(n.sessionStorage.getItem(r)){case Qw.NONE:return[Ng];case Qw.LOCAL:return[wv,iv];case Qw.SESSION:return[iv];default:return[]}}(n,e.name);for(const e of[wv,nv,iv])r.includes(e)||r.push(e)}lb(n,"invalid-api-key",{appName:e.name});const i="undefined"!==typeof window?eb:void 0;this._delegate=t.initialize({options:{persistence:r,popupRedirectResolver:i}}),this._delegate._updateErrorMap(qm),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ab.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Wg(this._delegate,e,t)}applyActionCode(e){return Oy(this._delegate,e)}checkActionCode(e){return Ly(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await $g(D(e),{oobCode:t,newPassword:n})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return ib(this._delegate,async function(e,t,n){const r=Kg(e),i=await my(r,{returnSecureToken:!0,email:t,password:n}),s=await gy._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Fy(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=iy.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){lb(Ww(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await Kg(e)._initializationPromise,Jv(e,t,!1)}(this._delegate,eb);return e?ib(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){Kg(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=cb(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=cb(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return My(this._delegate,e,t)}sendPasswordResetEmail(e,t){return Ry(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Yw(Object.values(Qw).includes(t),e,"invalid-persistence-type"),m()?Yw(t!==Qw.SESSION,e,"unsupported-persistence-type"):f()?Yw(t===Qw.NONE,e,"unsupported-persistence-type"):Hw()?Yw(t===Qw.NONE||t===Qw.LOCAL&&y(),e,"unsupported-persistence-type"):Yw(t===Qw.NONE||Kw(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Qw.SESSION:t=iv;break;case Qw.LOCAL:t=await ng(wv)._isAvailable()?wv:nv;break;case Qw.NONE:t=Ng;break;default:return Gm("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ib(this._delegate,async function(e){var t;const n=Kg(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new gy({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await my(n,{returnSecureToken:!0}),i=await gy._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return ib(this._delegate,Ey(this._delegate,e))}signInWithCustomToken(e){return ib(this._delegate,Ny(this._delegate,e))}signInWithEmailAndPassword(e,t){return ib(this._delegate,function(e,t,n){return Ey(D(e),sy.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return ib(this._delegate,async function(e,t,n){const r=D(e),i=sy.credentialWithLink(t,n||rg());return Xm(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Ey(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return sb(this._delegate,async function(e,t,n){const r=Kg(e),i=await Rv(r,t,D(n));return new xv(i,e=>Ey(r,e))}(this._delegate,e,t))}async signInWithPopup(e){return lb(Ww(),this._delegate,"operation-not-supported-in-this-environment"),ib(this._delegate,async function(e,t,n){const r=Kg(e);$m(e,t,oy);const i=Lv(r,n);return new qv(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,eb))}async signInWithRedirect(e){return lb(Ww(),this._delegate,"operation-not-supported-in-this-environment"),await Jw(this._delegate),Qv(this._delegate,e,eb)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Ly(D(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function cb(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&ab.getOrCreate(e)),error:t,complete:n}}ub.Persistence=Qw;class hb{constructor(){this.providerId="phone",this._delegate=new Ov(tb(ze.auth()))}static credential(e,t){return Ov.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}hb.PHONE_SIGN_IN_METHOD=Ov.PHONE_SIGN_IN_METHOD,hb.PROVIDER_ID=Ov.PROVIDER_ID;const db=Xm;class fb{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ze.app();var r;db(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Pv(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}function pb(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}l((r=r.apply(e,t||[])).next())})}function mb(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}!function(e){e.INTERNAL.registerComponent(new P("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new ub(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Lm,PASSWORD_RESET:Mm,RECOVER_EMAIL:Fm,REVERT_SECOND_FACTOR_ADDITION:Um,VERIFY_AND_CHANGE_EMAIL:Vm,VERIFY_EMAIL:jm}},EmailAuthProvider:sy,FacebookAuthProvider:uy,GithubAuthProvider:hy,GoogleAuthProvider:cy,OAuthProvider:ly,SAMLAuthProvider:fy,PhoneAuthProvider:hb,PhoneMultiFactorGenerator:Iw,RecaptchaVerifier:fb,TwitterAuthProvider:py,Auth:ub,AuthCredential:Yg,Error:v}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.4")}(ze);var gb=function(){return gb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},gb.apply(this,arguments)},yb=function(e){return{loading:void 0===e||null===e,value:e}},vb=function(e){var n=e?e():void 0,r=(0,t.useReducer)(function(e,t){switch(t.type){case"error":return gb(gb({},e),{error:t.error,loading:!1,value:void 0});case"reset":return yb(t.defaultValue);case"value":return gb(gb({},e),{error:void 0,loading:!1,value:t.value});default:return e}},yb(n)),i=r[0],s=r[1],o=(0,t.useCallback)(function(){var t=e?e():void 0;s({type:"reset",defaultValue:t})},[e]),a=(0,t.useCallback)(function(e){s({type:"error",error:e})},[]),l=(0,t.useCallback)(function(e){s({type:"value",value:e})},[]);return(0,t.useMemo)(function(){return{error:i.error,loading:i.loading,reset:o,setError:a,setValue:l,value:i.value}},[i.error,i.loading,o,a,l,i.value])},wb=function(e,n){var r=vb(function(){return e.currentUser}),i=r.error,s=r.loading,o=r.setError,a=r.setValue,l=r.value;return(0,t.useEffect)(function(){var t=function(e,t,n,r){return D(e).onAuthStateChanged(t,n,r)}(e,function(e){return pb(void 0,void 0,void 0,function(){var t;return mb(this,function(r){switch(r.label){case 0:if(!(null===n||void 0===n?void 0:n.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return t=r.sent(),o(t),[3,4];case 4:return a(e),[2]}})})},o);return function(){t()}},[e]),[l,s,i]};var bb=function(){return bb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},bb.apply(this,arguments)},kb=function(e){return{loading:void 0===e||null===e,value:e}},_b=function(e){var n=e?e():void 0,r=(0,t.useReducer)(function(e,t){switch(t.type){case"error":return bb(bb({},e),{error:t.error,loading:!1,value:void 0});case"reset":return kb(t.defaultValue);case"value":return bb(bb({},e),{error:void 0,loading:!1,value:t.value});default:return e}},kb(n)),i=r[0],s=r[1],o=(0,t.useCallback)(function(){var t=e?e():void 0;s({type:"reset",defaultValue:t})},[e]),a=(0,t.useCallback)(function(e){s({type:"error",error:e})},[]),l=(0,t.useCallback)(function(e){s({type:"value",value:e})},[]);return(0,t.useMemo)(function(){return{error:i.error,loading:i.loading,reset:o,setError:a,setValue:l,value:i.value}},[i.error,i.loading,o,a,l,i.value])},Sb=function(e,n,r){var i=(0,t.useRef)(e);return(0,t.useEffect)(function(){n(e,i.current)||(i.current=e,r&&r())}),i},Ib=function(e,t){var n=!e&&!t,r=!!e&&!!t&&Pf(e,t);return n||r},Tb=function(e,t){return Sb(e,Ib,t)},Eb=function(e,n){var r=function(e,n){var r=_b(),i=r.error,s=r.loading,o=r.reset,a=r.setError,l=r.setValue,u=r.value,c=Tb(e,o);return(0,t.useEffect)(function(){if(c.current){var e=(null===n||void 0===n?void 0:n.snapshotListenOptions)?Jp(c.current,n.snapshotListenOptions,l,a):Jp(c.current,l,a);return function(){e()}}l(void 0)},[c.current]),[u,s,i]}(e,n),i=r[0],s=r[1],o=r[2];return[Cb(i,null===n||void 0===n?void 0:n.snapshotOptions,null===n||void 0===n?void 0:n.initialValue),s,o,i]},Cb=function(e,n,r){return(0,t.useMemo)(function(){var t;return null!==(t=null===e||void 0===e?void 0:e.docs.map(function(e){return e.data(n)}))&&void 0!==t?t:r},[e,n])},Ab=n(490);const Nb="@firebase/installations",Db="0.5.4",Pb=1e4,xb="w:".concat(Db),Rb="FIS_v2",Ob=36e5,Lb=new w("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Mb(e){return e instanceof v&&e.code.includes("request-failed")}function Fb(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Ub(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Vb(e,t){const n=(await t.json()).error;return Lb.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function jb(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function zb(e,t){let{refreshToken:n}=t;const r=jb(e);return r.append("Authorization",function(e){return"".concat(Rb," ").concat(e)}(n)),r}async function qb(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Bb(e){return new Promise(t=>{setTimeout(t,e)})}const Kb=/^[cdef][\w-]{21}$/;function Hb(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Kb.test(t)?t:""}catch(Sd){return""}}function Wb(e){return"".concat(e.appName,"!").concat(e.appId)}const Gb=new Map;function Qb(e,t){const n=Wb(e);Yb(n,t),function(e,t){const n=Jb();n&&n.postMessage({key:e,fid:t});Xb()}(n,t)}function Yb(e,t){const n=Gb.get(e);if(n)for(const r of n)r(t)}let $b=null;function Jb(){return!$b&&"BroadcastChannel"in self&&($b=new BroadcastChannel("[Firebase] FID Change"),$b.onmessage=e=>{Yb(e.data.key,e.data.fid)}),$b}function Xb(){0===Gb.size&&$b&&($b.close(),$b=null)}const Zb="firebase-installations-store";let ek=null;function tk(){return ek||(ek=(0,Ab.openDb)("firebase-installations-database",1,e=>{if(0===e.oldVersion)e.createObjectStore(Zb)})),ek}async function nk(e,t){const n=Wb(e),r=(await tk()).transaction(Zb,"readwrite"),i=r.objectStore(Zb),s=await i.get(n);return await i.put(t,n),await r.complete,s&&s.fid===t.fid||Qb(e,t.fid),t}async function rk(e){const t=Wb(e),n=(await tk()).transaction(Zb,"readwrite");await n.objectStore(Zb).delete(t),await n.complete}async function ik(e,t){const n=Wb(e),r=(await tk()).transaction(Zb,"readwrite"),i=r.objectStore(Zb),s=await i.get(n),o=t(s);return void 0===o?await i.delete(n):await i.put(o,n),await r.complete,!o||s&&s.fid===o.fid||Qb(e,o.fid),o}async function sk(e){let t;const n=await ik(e,n=>{const r=function(e){const t=e||{fid:Hb(),registrationStatus:0};return lk(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Lb.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{fid:n}=t;const r=Fb(e),i=jb(e),s={fid:n,authVersion:Rb,appId:e.appId,sdkVersion:xb},o={method:"POST",headers:i,body:JSON.stringify(s)},a=await qb(()=>fetch(r,o));if(a.ok){const e=await a.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:Ub(e.authToken)}}throw await Vb("Create Installation",a)}(e,t);return nk(e,n)}catch(n){throw Mb(n)&&409===n.customData.serverCode?await rk(e):await nk(e,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:ok(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function ok(e){let t=await ak(e);for(;1===t.registrationStatus;)await Bb(100),t=await ak(e);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await sk(e);return n||t}return t}function ak(e){return ik(e,e=>{if(!e)throw Lb.create("installation-not-found");return lk(e)})}function lk(e){return 1===(t=e).registrationStatus&&t.registrationTime+Pb<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function uk(e,t){let{appConfig:n,platformLoggerProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(Fb(e),"/").concat(n,"/authTokens:generate")}(n,t),s=zb(n,t),o=r.getImmediate({optional:!0});o&&s.append("x-firebase-client",o.getPlatformInfoString());const a={installation:{sdkVersion:xb}},l={method:"POST",headers:s,body:JSON.stringify(a)},u=await qb(()=>fetch(i,l));if(u.ok){return Ub(await u.json())}throw await Vb("Generate Auth Token",u)}async function ck(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await ik(e.appConfig,r=>{if(!dk(r))throw Lb.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Ob}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await hk(e.appConfig);for(;1===n.authToken.requestStatus;)await Bb(100),n=await hk(e.appConfig);const r=n.authToken;return 0===r.requestStatus?ck(e,t):r}(e,n),r;{if(!navigator.onLine)throw Lb.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await uk(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await nk(e.appConfig,r),n}catch(n){if(!Mb(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await nk(e.appConfig,n)}else await rk(e.appConfig);throw n}}(e,n),n}});return t?await t:r.authToken}function hk(e){return ik(e,e=>{if(!dk(e))throw Lb.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Pb<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n})}function dk(e){return void 0!==e&&2===e.registrationStatus}async function fk(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await sk(e);t&&await t}(n.appConfig);return(await ck(n,t)).token}function pk(e){return Lb.create("missing-app-config-values",{valueName:e})}const mk="installations",gk=e=>{const t=Se(e.getProvider("app").getImmediate(),mk).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await sk(t.appConfig);return r?r.catch(console.error):ck(t).catch(console.error),n.fid}(t),getToken:e=>fk(t,e)}};_e(new P(mk,e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw pk("App Configuration");if(!e.name)throw pk("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw pk(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,platformLoggerProvider:Se(t,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),_e(new P("installations-internal",gk,"PRIVATE")),Re(Nb,Db),Re(Nb,Db,"esm2017");var yk=n(89);const vk="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",wk="google.c.a.c_id";var bk,kk;function _k(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Sk(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(bk||(bk={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(kk||(kk={}));const Ik="fcm_token_details_db",Tk="fcm_token_object_Store";const Ek="firebase-messaging-store";let Ck=null;function Ak(){return Ck||(Ck=(0,yk.openDb)("firebase-messaging-database",1,e=>{if(0===e.oldVersion)e.createObjectStore(Ek)})),Ck}async function Nk(e){const t=Pk(e),n=await Ak(),r=await n.transaction(Ek).objectStore(Ek).get(t);if(r)return r;{const t=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map(e=>e.name);if(!e.includes(Ik))return null}let t=null;const n=await(0,yk.openDb)(Ik,5,async n=>{var r;if(n.oldVersion<2)return;if(!n.objectStoreNames.contains(Tk))return;const i=n.transaction.objectStore(Tk),s=await i.index("fcmSenderId").get(e);if(await i.clear(),s)if(2===n.oldVersion){const e=s;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(r=e.createTime)&&void 0!==r?r:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"===typeof e.vapidKey?e.vapidKey:_k(e.vapidKey)}}}else if(3===n.oldVersion){const e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:_k(e.auth),p256dh:_k(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:_k(e.vapidKey)}}}else if(4===n.oldVersion){const e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:_k(e.auth),p256dh:_k(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:_k(e.vapidKey)}}}});return n.close(),await(0,yk.deleteDb)(Ik),await(0,yk.deleteDb)("fcm_vapid_details_db"),await(0,yk.deleteDb)("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await Dk(e,t),t}}async function Dk(e,t){const n=Pk(e),r=(await Ak()).transaction(Ek,"readwrite");return await r.objectStore(Ek).put(t,n),await r.complete,t}function Pk(e){let{appConfig:t}=e;return t.appId}const xk=new w("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});async function Rk(e,t){const n={method:"DELETE",headers:await Lk(e)};try{const r=await fetch("".concat(Ok(e.appConfig),"/").concat(t),n),i=await r.json();if(i.error){const e=i.error.message;throw xk.create("token-unsubscribe-failed",{errorInfo:e})}}catch(r){throw xk.create("token-unsubscribe-failed",{errorInfo:r})}}function Ok(e){let{projectId:t}=e;return"".concat("https://fcmregistrations.googleapis.com/v1","/projects/").concat(t,"/registrations")}async function Lk(e){let{appConfig:t,installations:n}=e;const r=await n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(r)})}function Mk(e){let{p256dh:t,auth:n,endpoint:r,vapidKey:i}=e;const s={web:{endpoint:r,auth:n,p256dh:t}};return i!==vk&&(s.web.applicationPubKey=i),s}async function Fk(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();if(n)return n;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Sk(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:_k(t.getKey("auth")),p256dh:_k(t.getKey("p256dh"))},r=await Nk(e.firebaseDependencies);if(r){if(function(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}(r.subscriptionOptions,n))return Date.now()>=r.createTime+6048e5?async function(e,t){try{const n=await async function(e,t){const n=await Lk(e),r=Mk(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{const n=await fetch("".concat(Ok(e.appConfig),"/").concat(t.token),i);s=await n.json()}catch(o){throw xk.create("token-update-failed",{errorInfo:o})}if(s.error){const e=s.error.message;throw xk.create("token-update-failed",{errorInfo:e})}if(!s.token)throw xk.create("token-update-no-token");return s.token}(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await Dk(e.firebaseDependencies,r),n}catch(n){throw await Uk(e),n}}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await Rk(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Vk(e.firebaseDependencies,n)}return Vk(e.firebaseDependencies,n)}async function Uk(e){const t=await Nk(e.firebaseDependencies);t&&(await Rk(e.firebaseDependencies,t.token),await async function(e){const t=Pk(e),n=(await Ak()).transaction(Ek,"readwrite");await n.objectStore(Ek).delete(t),await n.complete}(e.firebaseDependencies));const n=await e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}async function Vk(e,t){const n=await async function(e,t){const n=await Lk(e),r=Mk(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{const t=await fetch(Ok(e.appConfig),i);s=await t.json()}catch(o){throw xk.create("token-subscribe-failed",{errorInfo:o})}if(s.error){const e=s.error.message;throw xk.create("token-subscribe-failed",{errorInfo:e})}if(!s.token)throw xk.create("token-subscribe-no-token");return s.token}(e,t),r={token:n,createTime:Date.now(),subscriptionOptions:t};return await Dk(e,r),r.token}function jk(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){if(!t.fcmOptions)return;e.fcmOptions={};const n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);const r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}(t,e),t}function zk(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function qk(e){return xk.create("missing-app-config-values",{valueName:e})}zk("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),zk("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Bk{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw qk("App Configuration Object");if(!e.name)throw qk("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw qk(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function Kk(e){try{e.swRegistration=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}),e.swRegistration.update().catch(()=>{})}catch(t){throw xk.create("failed-service-worker-registration",{browserErrorMessage:t.message})}}async function Hk(e,t){if(!navigator)throw xk.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw xk.create("permission-blocked");return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=vk)}(e,null===t||void 0===t?void 0:t.vapidKey),await async function(e,t){if(t||e.swRegistration||await Kk(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw xk.create("invalid-sw-registration");e.swRegistration=t}}(e,null===t||void 0===t?void 0:t.serviceWorkerRegistration),Fk(e)}async function Wk(e,t,n){const r=function(e){switch(e){case kk.NOTIFICATION_CLICKED:return"notification_open";case kk.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[wk],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}async function Gk(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===kk.PUSH_RECEIVED&&("function"===typeof e.onMessageHandler?e.onMessageHandler(jk(n)):e.onMessageHandler.next(jk(n)));const r=n.data;var i;"object"===typeof(i=r)&&i&&wk in i&&"1"===r["google.c.a.e"]&&await Wk(e,n.messageType,r)}const Qk="@firebase/messaging",Yk="0.9.4",$k=e=>{const t=new Bk(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>Gk(t,e)),t},Jk=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>Hk(t,e)}};async function Xk(){return"undefined"!==typeof window&&y()&&await new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})&&!("undefined"===typeof navigator||!navigator.cookieEnabled)&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function Zk(e,t){return function(e,t){if(!navigator)throw xk.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}(e=D(e),t)}_e(new P("messaging",$k,"PUBLIC")),_e(new P("messaging-internal",Jk,"PRIVATE")),Re(Qk,Yk),Re(Qk,Yk,"esm2017");var e_=n(579);ze.initializeApp({apiKey:"AIzaSyDgHQ_ICAAN2xDcUhq_TXL_hcIOsBEXi7Q",authDomain:"superchat-dbbdb.firebaseapp.com",projectId:"superchat-dbbdb",storageBucket:"superchat-dbbdb.firebasestorage.app",messagingSenderId:"734341682831",appId:"1:734341682831:web:95a56c8ba3b4df6fb942fa",measurementId:"G-23T169N49P"});const t_=ze.auth(),n_=ze.firestore(),r_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De();return Xk().then(e=>{if(!e)throw xk.create("unsupported-browser")},e=>{throw xk.create("indexed-db-unsupported")}),Se(D(e),"messaging").getImmediate()}(ze.app());function i_(){return(0,e_.jsx)("button",{onClick:()=>{const e=new ze.auth.GoogleAuthProvider;t_.signInWithPopup(e)},children:"Sign in with Google"})}function s_(){return t_.currentUser&&(0,e_.jsx)("button",{onClick:()=>t_.signOut(),children:"Sign Out"})}function o_(){const e=(0,t.useRef)(),n=n_.collection("messages"),r=n.orderBy("createdAt").limit(25),[i]=Eb(r,{idField:"id"}),[s,o]=(0,t.useState)("");return(0,e_.jsxs)(e_.Fragment,{children:[(0,e_.jsxs)("main",{children:[i&&i.map(e=>(0,e_.jsx)(a_,{message:e},e.id)),(0,e_.jsx)("div",{ref:e})]}),(0,e_.jsxs)("form",{onSubmit:async t=>{t.preventDefault();const{uid:r,photoURL:i}=t_.currentUser;await n.add({text:s,createdAt:ze.firestore.FieldValue.serverTimestamp(),uid:r,photoURL:i}),o(""),e.current.scrollIntoView({behavior:"smooth"})},children:[(0,e_.jsx)("input",{value:s,onChange:e=>o(e.target.value),placeholder:"Say something nice..."}),(0,e_.jsx)("button",{type:"submit",disabled:!s,children:"@"})]})]})}function a_(e){const{text:t,uid:n,photoURL:r}=e.message,i=n===t_.currentUser.uid?"sent":"received";return(0,e_.jsxs)("div",{className:"message ".concat(i),children:[(0,e_.jsx)("img",{src:r||"https://api.iconify.design/mdi:account-circle.svg",alt:"user"}),(0,e_.jsx)("p",{children:t})]})}const l_=function(){const[e]=wb(t_);return(0,t.useEffect)(()=>{(async()=>{console.log("Requesting notification permission...");if("granted"===await Notification.requestPermission())try{const e=await async function(e,t){return Hk(e=D(e),t)}(r_,{vapidKey:"YOUR_VAPID_KEY_HERE"});console.log("FCM Token:",e)}catch(e){console.error("Error getting FCM token:",e)}else console.log("Notification permission denied")})(),Zk(r_,e=>{if(console.log("Message received in foreground:",e),null!==e&&void 0!==e&&e.notification){const{title:t,body:n}=e.notification;new Notification(t,{body:n})}})},[]),(0,e_.jsxs)("div",{className:"App",children:[(0,e_.jsxs)("header",{className:"App-header",children:[(0,e_.jsx)("h1",{children:"SUPERCHAT"}),(0,e_.jsx)(s_,{})]}),(0,e_.jsx)("section",{children:e?(0,e_.jsx)(o_,{}):(0,e_.jsx)(i_,{})})]})},u_=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)})};r.createRoot(document.getElementById("root")).render((0,e_.jsx)(t.StrictMode,{children:(0,e_.jsx)(l_,{})})),u_()})()})();
//# sourceMappingURL=main.35134058.js.map